/*! For license information please see main.3ca9b028.js.LICENSE.txt */
(()=>{var e={85:(e,t,r)=>{"use strict";var s=r(340),n=r(950),o=r(119);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var m=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var L=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case f:return"Fragment";case v:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(r){}}return null}var O=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},I=[],z=-1;function F(e){return{current:e}}function B(e){0>z||(e.current=I[z],I[z]=null,z--)}function U(e,t){z++,I[z]=e.current,e.current=t}var $=F(null),W=F(null),V=F(null),H=F(null);function q(e,t){switch(U(V,t),U(W,e),U($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ou(t=nu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B($),U($,e)}function G(){B($),B(W),B(V)}function K(e){null!==e.memoizedState&&U(H,e);var t=$.current,r=ou(t,e.type);t!==r&&(U(W,e),U($,r))}function Y(e){W.current===e&&(B($),B(W)),H.current===e&&(B(H),Ku._currentValue=D)}var Z=Object.prototype.hasOwnProperty,Q=s.unstable_scheduleCallback,X=s.unstable_cancelCallback,J=s.unstable_shouldYield,ee=s.unstable_requestPaint,te=s.unstable_now,re=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,ne=s.unstable_UserBlockingPriority,oe=s.unstable_NormalPriority,ae=s.unstable_LowPriority,ie=s.unstable_IdlePriority,le=s.log,ce=s.unstable_setDisableYieldValue,de=null,ue=null;function me(e){if("function"===typeof le&&ce(e),ue&&"function"===typeof ue.setStrictMode)try{ue.setStrictMode(de,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/ge|0)|0},pe=Math.log,ge=Math.LN2;var fe=256,xe=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var s=e.pendingLanes;if(0===s)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var i=134217727&s;return 0!==i?0!==(s=i&~o)?n=ve(s):0!==(a&=i)?n=ve(a):r||0!==(r=i&~e)&&(n=ve(r)):0!==(i=s&~o)?n=ve(i):0!==a?n=ve(a):r||0!==(r=s&~e)&&(n=ve(r)),0===n?0:0!==t&&t!==n&&0===(t&o)&&((o=n&-n)>=(r=t&-t)||32===o&&0!==(4194048&r))?t:n}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function je(){var e=fe;return 0===(4194048&(fe<<=1))&&(fe=256),e}function Ne(){var e=xe;return 0===(62914560&(xe<<=1))&&(xe=4194304),e}function ke(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Se(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-he(t);e.entangledLanes|=t,e.entanglements[s]=1073741824|e.entanglements[s]|4194090&r}function Le(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-he(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function _e(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var Me=Math.random().toString(36).slice(2),Te="__reactFiber$"+Me,Oe="__reactProps$"+Me,Ae="__reactContainer$"+Me,Re="__reactEvents$"+Me,De="__reactListeners$"+Me,Ie="__reactHandles$"+Me,ze="__reactResources$"+Me,Fe="__reactMarker$"+Me;function Be(e){delete e[Te],delete e[Oe],delete e[Re],delete e[De],delete e[Ie]}function Ue(e){var t=e[Te];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ae]||r[Te]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=bu(e);null!==e;){if(r=e[Te])return r;e=bu(e)}return t}r=(e=r).parentNode}return null}function $e(e){if(e=e[Te]||e[Ae]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ve(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var qe=new Set,Ge={};function Ke(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)qe.add(t[e])}var Ze,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,r){if(n=t,Z.call(et,n)||!Z.call(Je,n)&&(Xe.test(n)?et[n]=!0:(Je[n]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var s=t.toLowerCase().slice(0,5);if("data-"!==s&&"aria-"!==s)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var n}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function st(e,t,r,s){if(null===s)e.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+s)}}function nt(e){if(void 0===Ze)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Qe=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Qe}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(n){var s=n}Reflect.construct(e,[],r)}else{try{r.call()}catch(o){s=o}e.call(r.prototype)}}else{try{throw Error()}catch(a){s=a}(r=e())&&"function"===typeof r.catch&&r.catch((function(){}))}}catch(i){if(i&&s&&"string"===typeof i.stack)return[i.stack,s.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=s.DetermineComponentFrameRoot(),a=o[0],i=o[1];if(a&&i){var l=a.split("\n"),c=i.split("\n");for(n=s=0;s<l.length&&!l[s].includes("DetermineComponentFrameRoot");)s++;for(;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;if(s===l.length||n===c.length)for(s=l.length-1,n=c.length-1;1<=s&&0<=n&&l[s]!==c[n];)n--;for(;1<=s&&0<=n;s--,n--)if(l[s]!==c[n]){if(1!==s||1!==n)do{if(s--,0>--n||l[s]!==c[n]){var d="\n"+l[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=s&&0<=n);break}}}finally{ot=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?nt(r):""}function it(e){switch(e.tag){case 26:case 27:case 5:return nt(e.type);case 16:return nt("Lazy");case 13:return nt("Suspense");case 19:return nt("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return nt("Activity");default:return""}}function lt(e){try{var t="";do{t+=it(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ut(e){e._valueTracker||(e._valueTracker=function(e){var t=dt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){s=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=dt(e)?e.checked?"true":"false":e.value),(e=s)!==r&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function gt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function ft(e,t,r,s,n,o,a,i){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=r?vt(e,a,ct(r)):null!=s&&e.removeAttribute("value"),null==n&&null!=o&&(e.defaultChecked=!!o),null!=n&&(e.checked=n&&"function"!==typeof n&&"symbol"!==typeof n),null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.name=""+ct(i):e.removeAttribute("name")}function xt(e,t,r,s,n,o,a,i){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=r){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;r=null!=r?""+ct(r):"",t=null!=t?""+ct(t):r,i||t===e.value||(e.value=t),e.defaultValue=t}s="function"!==typeof(s=null!=s?s:n)&&"symbol"!==typeof s&&!!s,e.checked=i?e.checked:!!s,e.defaultChecked=!!s,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,r){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+ct(r),t=null,n=0;n<e.length;n++){if(e[n].value===r)return e[n].selected=!0,void(s&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function yt(e,t,r){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+ct(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,s){if(null==t){if(null!=s){if(null!=r)throw Error(a(92));if(O(s)){if(1<s.length)throw Error(a(93));s=s[0]}r=s}null==r&&(r=""),t=r}r=ct(t),e.defaultValue=r,(s=e.textContent)===r&&""!==s&&null!==s&&(e.value=s)}function jt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,r){var s=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?s?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":s?e.setProperty(t,r):"number"!==typeof r||0===r||Nt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function St(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=r){for(var s in r)!r.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&r[n]!==s&&kt(e,n,s)}else for(var o in t)t.hasOwnProperty(o)&&kt(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _t=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Ot=null;function At(e){var t=$e(e);if(t&&(e=t.stateNode)){var r=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=s[Oe]||null;if(!n)throw Error(a(90));ft(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<r.length;t++)(s=r[t]).form===e.form&&mt(s)}break e;case"textarea":yt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Rt=!1;function Dt(e,t,r){if(Rt)return e(t,r);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Tt||null!==Ot)&&(Uc(),Tt&&(t=Tt,e=Ot,Ot=Tt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function It(e,t){var r=e.stateNode;if(null===r)return null;var s=r[Oe]||null;if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Om){Ft=!1}var Ut=null,$t=null,Wt=null;function Vt(){if(Wt)return Wt;var e,t,r=$t,s=r.length,n="value"in Ut?Ut.value:Ut.textContent,o=n.length;for(e=0;e<s&&r[e]===n[e];e++);var a=s-e;for(t=1;t<=a&&r[s-t]===n[o-t];t++);return Wt=n.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function qt(){return!0}function Gt(){return!1}function Kt(e){function t(t,r,s,n,o){for(var a in this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=n,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(n):n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qt:Gt,this.isPropagationStopped=Gt,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qt)},persist:function(){},isPersistent:qt}),t}var Yt,Zt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Kt(Xt),er=m({},Xt,{view:0,detail:0}),tr=Kt(er),rr=m({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Yt=e.screenX-Qt.screenX,Zt=e.screenY-Qt.screenY):Zt=Yt=0,Qt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sr=Kt(rr),nr=Kt(m({},rr,{dataTransfer:0})),or=Kt(m({},er,{relatedTarget:0})),ar=Kt(m({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ir=Kt(m({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Kt(m({},Xt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function hr(){return mr}var pr=Kt(m({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gr=Kt(m({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),fr=Kt(m({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),xr=Kt(m({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Kt(m({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=Kt(m({},Xt,{newState:0,oldState:0})),yr=[9,13,27,32],wr=zt&&"CompositionEvent"in window,jr=null;zt&&"documentMode"in document&&(jr=document.documentMode);var Nr=zt&&"TextEvent"in window&&!jr,kr=zt&&(!wr||jr&&8<jr&&11>=jr),Sr=String.fromCharCode(32),Cr=!1;function Lr(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Er(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pr=!1;var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_r[e.type]:"textarea"===t}function Tr(e,t,r,s){Tt?Ot?Ot.push(s):Ot=[s]:Tt=s,0<(t=Vd(t,"onChange")).length&&(r=new Jt("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Or=null,Ar=null;function Rr(e){Dd(e,0)}function Dr(e){if(mt(We(e)))return e}function Ir(e,t){if("change"===e)return t}var zr=!1;if(zt){var Fr;if(zt){var Br="oninput"in document;if(!Br){var Ur=document.createElement("div");Ur.setAttribute("oninput","return;"),Br="function"===typeof Ur.oninput}Fr=Br}else Fr=!1;zr=Fr&&(!document.documentMode||9<document.documentMode)}function $r(){Or&&(Or.detachEvent("onpropertychange",Wr),Ar=Or=null)}function Wr(e){if("value"===e.propertyName&&Dr(Ar)){var t=[];Tr(t,Ar,e,Mt(e)),Dt(Rr,t)}}function Vr(e,t,r){"focusin"===e?($r(),Ar=r,(Or=t).attachEvent("onpropertychange",Wr)):"focusout"===e&&$r()}function Hr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dr(Ar)}function qr(e,t){if("click"===e)return Dr(t)}function Gr(e,t){if("input"===e||"change"===e)return Dr(t)}var Kr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yr(e,t){if(Kr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!Z.call(t,n)||!Kr(e[n],t[n]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qr(e,t){var r,s=Zr(e);for(e=0;s;){if(3===s.nodeType){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zr(s)}}function Xr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Xr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Jr(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(s){r=!1}if(!r)break;t=ht((e=t.contentWindow).document)}return t}function es(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ts=zt&&"documentMode"in document&&11>=document.documentMode,rs=null,ss=null,ns=null,os=!1;function as(e,t,r){var s=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;os||null==rs||rs!==ht(s)||("selectionStart"in(s=rs)&&es(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ns&&Yr(ns,s)||(ns=s,0<(s=Vd(ss,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=rs)))}function is(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ls={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},cs={},ds={};function us(e){if(cs[e])return cs[e];if(!ls[e])return e;var t,r=ls[e];for(t in r)if(r.hasOwnProperty(t)&&t in ds)return cs[e]=r[t];return e}zt&&(ds=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);var ms=us("animationend"),hs=us("animationiteration"),ps=us("animationstart"),gs=us("transitionrun"),fs=us("transitionstart"),xs=us("transitioncancel"),vs=us("transitionend"),bs=new Map,ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ws(e,t){bs.set(e,t),Ke(t,[e])}ys.push("scrollEnd");var js=new WeakMap;function Ns(e,t){if("object"===typeof e&&null!==e){var r=js.get(e);return void 0!==r?r:(t={value:e,source:t,stack:lt(t)},js.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var ks=[],Ss=0,Cs=0;function Ls(){for(var e=Ss,t=Cs=Ss=0;t<e;){var r=ks[t];ks[t++]=null;var s=ks[t];ks[t++]=null;var n=ks[t];ks[t++]=null;var o=ks[t];if(ks[t++]=null,null!==s&&null!==n){var a=s.pending;null===a?n.next=n:(n.next=a.next,a.next=n),s.pending=n}0!==o&&Ms(r,n,o)}}function Es(e,t,r,s){ks[Ss++]=e,ks[Ss++]=t,ks[Ss++]=r,ks[Ss++]=s,Cs|=s,e.lanes|=s,null!==(e=e.alternate)&&(e.lanes|=s)}function Ps(e,t,r,s){return Es(e,t,r,s),Ts(e)}function _s(e,t){return Es(e,null,null,t),Ts(e)}function Ms(e,t,r){e.lanes|=r;var s=e.alternate;null!==s&&(s.lanes|=r);for(var n=!1,o=e.return;null!==o;)o.childLanes|=r,null!==(s=o.alternate)&&(s.childLanes|=r),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(n=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,n&&null!==t&&(n=31-he(r),null===(s=(e=o.hiddenUpdates)[n])?e[n]=[t]:s.push(t),t.lane=536870912|r),o):null}function Ts(e){if(50<Tc)throw Tc=0,Oc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Os={};function As(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(e,t,r,s){return new As(e,t,r,s)}function Ds(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Is(e,t){var r=e.alternate;return null===r?((r=Rs(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function zs(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Fs(e,t,r,s,n,o){var i=0;if(s=e,"function"===typeof e)Ds(e)&&(i=1);else if("string"===typeof e)i=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case L:return(e=Rs(31,r,t,n)).elementType=L,e.lanes=o,e;case f:return Bs(r.children,n,o,t);case x:i=8,n|=24;break;case v:return(e=Rs(12,r,t,2|n)).elementType=v,e.lanes=o,e;case N:return(e=Rs(13,r,t,n)).elementType=N,e.lanes=o,e;case k:return(e=Rs(19,r,t,n)).elementType=k,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:i=10;break e;case y:i=9;break e;case j:i=11;break e;case S:i=14;break e;case C:i=16,s=null;break e}i=29,r=Error(a(130,null===e?"null":typeof e,"")),s=null}return(t=Rs(i,r,t,n)).elementType=e,t.type=s,t.lanes=o,t}function Bs(e,t,r,s){return(e=Rs(7,e,s,t)).lanes=r,e}function Us(e,t,r){return(e=Rs(6,e,null,t)).lanes=r,e}function $s(e,t,r){return(t=Rs(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ws=[],Vs=0,Hs=null,qs=0,Gs=[],Ks=0,Ys=null,Zs=1,Qs="";function Xs(e,t){Ws[Vs++]=qs,Ws[Vs++]=Hs,Hs=e,qs=t}function Js(e,t,r){Gs[Ks++]=Zs,Gs[Ks++]=Qs,Gs[Ks++]=Ys,Ys=e;var s=Zs;e=Qs;var n=32-he(s)-1;s&=~(1<<n),r+=1;var o=32-he(t)+n;if(30<o){var a=n-n%5;o=(s&(1<<a)-1).toString(32),s>>=a,n-=a,Zs=1<<32-he(t)+n|r<<n|s,Qs=o+e}else Zs=1<<o|r<<n|s,Qs=e}function en(e){null!==e.return&&(Xs(e,1),Js(e,1,0))}function tn(e){for(;e===Hs;)Hs=Ws[--Vs],Ws[Vs]=null,qs=Ws[--Vs],Ws[Vs]=null;for(;e===Ys;)Ys=Gs[--Ks],Gs[Ks]=null,Qs=Gs[--Ks],Gs[Ks]=null,Zs=Gs[--Ks],Gs[Ks]=null}var rn=null,sn=null,nn=!1,on=null,an=!1,ln=Error(a(519));function cn(e){throw gn(Ns(Error(a(418,"")),e)),ln}function dn(e){var t=e.stateNode,r=e.type,s=e.memoizedProps;switch(t[Te]=e,t[Oe]=s,r){case"dialog":Id("cancel",t),Id("close",t);break;case"iframe":case"object":case"embed":Id("load",t);break;case"video":case"audio":for(r=0;r<Ad.length;r++)Id(Ad[r],t);break;case"source":Id("error",t);break;case"img":case"image":case"link":Id("error",t),Id("load",t);break;case"details":Id("toggle",t);break;case"input":Id("invalid",t),xt(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ut(t);break;case"select":Id("invalid",t);break;case"textarea":Id("invalid",t),wt(t,s.value,s.defaultValue,s.children),ut(t)}"string"!==typeof(r=s.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===s.suppressHydrationWarning||Zd(t.textContent,r)?(null!=s.popover&&(Id("beforetoggle",t),Id("toggle",t)),null!=s.onScroll&&Id("scroll",t),null!=s.onScrollEnd&&Id("scrollend",t),null!=s.onClick&&(t.onclick=Qd),t=!0):t=!1,t||cn(e)}function un(e){for(rn=e.return;rn;)switch(rn.tag){case 5:case 13:return void(an=!1);case 27:case 3:return void(an=!0);default:rn=rn.return}}function mn(e){if(e!==rn)return!1;if(!nn)return un(e),nn=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||au(e.type,e.memoizedProps)),t=!t),t&&sn&&cn(e),un(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){sn=xu(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}sn=null}}else 27===r?(r=sn,hu(e.type)?(e=vu,vu=null,sn=e):sn=r):sn=rn?xu(e.stateNode.nextSibling):null;return!0}function hn(){sn=rn=null,nn=!1}function pn(){var e=on;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),on=null),e}function gn(e){null===on?on=[e]:on.push(e)}var fn=F(null),xn=null,vn=null;function bn(e,t,r){U(fn,t._currentValue),t._currentValue=r}function yn(e){e._currentValue=fn.current,B(fn)}function wn(e,t,r){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function jn(e,t,r,s){var n=e.child;for(null!==n&&(n.return=e);null!==n;){var o=n.dependencies;if(null!==o){var i=n.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=n;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),wn(o.return,r,e),s||(i=null);break e}o=l.next}}else if(18===n.tag){if(null===(i=n.return))throw Error(a(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),wn(i,r,e),i=null}else i=n.child;if(null!==i)i.return=n;else for(i=n;null!==i;){if(i===e){i=null;break}if(null!==(n=i.sibling)){n.return=i.return,i=n;break}i=i.return}n=i}}function Nn(e,t,r,s){e=null;for(var n=t,o=!1;null!==n;){if(!o)if(0!==(524288&n.flags))o=!0;else if(0!==(262144&n.flags))break;if(10===n.tag){var i=n.alternate;if(null===i)throw Error(a(387));if(null!==(i=i.memoizedProps)){var l=n.type;Kr(n.pendingProps.value,i.value)||(null!==e?e.push(l):e=[l])}}else if(n===H.current){if(null===(i=n.alternate))throw Error(a(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(null!==e?e.push(Ku):e=[Ku])}n=n.return}null!==e&&jn(t,e,r,s),t.flags|=262144}function kn(e){for(e=e.firstContext;null!==e;){if(!Kr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sn(e){xn=e,vn=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cn(e){return En(xn,e)}function Ln(e,t){return null===xn&&Sn(e),En(e,t)}function En(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===vn){if(null===e)throw Error(a(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return r}var Pn="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},_n=s.unstable_scheduleCallback,Mn=s.unstable_NormalPriority,Tn={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function On(){return{controller:new Pn,data:new Map,refCount:0}}function An(e){e.refCount--,0===e.refCount&&_n(Mn,(function(){e.controller.abort()}))}var Rn=null,Dn=0,In=0,zn=null;function Fn(){if(0===--Dn&&null!==Rn){null!==zn&&(zn.status="fulfilled");var e=Rn;Rn=null,In=0,zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bn=A.S;A.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Rn){var r=Rn=[];Dn=0,In=Pd(),zn={status:"pending",value:void 0,then:function(e){r.push(e)}}}Dn++,t.then(Fn,Fn)}(0,t),null!==Bn&&Bn(e,t)};var Un=F(null);function $n(){var e=Un.current;return null!==e?e:sc.pooledCache}function Wn(e,t){U(Un,null===t?Un.current:t.pool)}function Vn(){var e=$n();return null===e?null:{parent:Tn._currentValue,pool:e}}var Hn=Error(a(460)),qn=Error(a(474)),Gn=Error(a(542)),Kn={then:function(){}};function Yn(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zn(){}function Qn(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Zn,Zn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zn,Zn);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}}),(function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xn=t,Hn}}var Xn=null;function Jn(){if(null===Xn)throw Error(a(459));var e=Xn;return Xn=null,e}function eo(e){if(e===Hn||e===Gn)throw Error(a(483))}var to=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function no(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,r){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&rc)){var n=s.pending;return null===n?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Ts(e),Ms(e,null,r),t}return Es(e,s,t,r),Ts(e)}function ao(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,Le(e,r)}}function io(e,t){var r=e.updateQueue,s=e.alternate;if(null!==s&&r===(s=s.updateQueue)){var n=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===o?n=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?n=o=t:o=o.next=t}else n=o=t;return r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:s.shared,callbacks:s.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==zn)throw zn}}function uo(e,t,r,s){lo=!1;var n=e.updateQueue;to=!1;var o=n.firstBaseUpdate,a=n.lastBaseUpdate,i=n.shared.pending;if(null!==i){n.shared.pending=null;var l=i,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=n.baseState;for(a=0,d=c=l=null,i=o;;){var h=-536870913&i.lane,p=h!==i.lane;if(p?(oc&h)===h:(s&h)===h){0!==h&&h===In&&(lo=!0),null!==d&&(d=d.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var g=e,f=i;h=t;var x=r;switch(f.tag){case 1:if("function"===typeof(g=f.payload)){u=g.call(x,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(x,u,h):g)||void 0===h)break e;u=m({},u,h);break e;case 2:to=!0}}null!==(h=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=n.callbacks)?n.callbacks=[h]:p.push(h))}else p={lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,a|=h;if(null===(i=i.next)){if(null===(i=n.shared.pending))break;i=(p=i).next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}null===d&&(l=u),n.baseState=l,n.firstBaseUpdate=c,n.lastBaseUpdate=d,null===o&&(n.shared.lanes=0),hc|=a,e.lanes=a,e.memoizedState=u}}function mo(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ho(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)mo(r[e],t)}var po=F(null),go=F(0);function fo(e,t){U(go,e=uc),U(po,t),uc=e|t.baseLanes}function xo(){U(go,uc),U(po,po.current)}function vo(){uc=go.current,B(po),B(go)}var bo=0,yo=null,wo=null,jo=null,No=!1,ko=!1,So=!1,Co=0,Lo=0,Eo=null,Po=0;function _o(){throw Error(a(321))}function Mo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function To(e,t,r,s,n,o){return bo=o,yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?qa:Ga,So=!1,o=r(s,n),So=!1,ko&&(o=Ao(t,r,s,n)),Oo(e),o}function Oo(e){A.H=Ha;var t=null!==wo&&null!==wo.next;if(bo=0,jo=wo=yo=null,No=!1,Lo=0,Eo=null,t)throw Error(a(300));null===e||Li||null!==(e=e.dependencies)&&kn(e)&&(Li=!0)}function Ao(e,t,r,s){yo=e;var n=0;do{if(ko&&(Eo=null),Lo=0,ko=!1,25<=n)throw Error(a(301));if(n+=1,jo=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}A.H=Ka,o=t(r,s)}while(ko);return o}function Ro(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(yo.flags|=1024),t}function Do(){var e=0!==Co;return Co=0,e}function Io(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function zo(e){if(No){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}No=!1}bo=0,jo=wo=yo=null,ko=!1,Lo=Co=0,Eo=null}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===jo?yo.memoizedState=jo=e:jo=jo.next=e,jo}function Bo(){if(null===wo){var e=yo.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===jo?yo.memoizedState:jo.next;if(null!==t)jo=t,wo=e;else{if(null===e){if(null===yo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===jo?yo.memoizedState=jo=e:jo=jo.next=e}return jo}function Uo(e){var t=Lo;return Lo+=1,null===Eo&&(Eo=[]),e=Qn(Eo,e,t),t=yo,null===(null===jo?t.memoizedState:jo.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?qa:Ga),e}function $o(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===w)return Cn(e)}throw Error(a(438,String(e)))}function Wo(e){var t=null,r=yo.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var s=yo.alternate;null!==s&&(null!==(s=s.updateQueue)&&(null!=(s=s.memoCache)&&(t={data:s.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),s=0;s<e;s++)r[s]=E;return t.index++,r}function Vo(e,t){return"function"===typeof t?t(e):t}function Ho(e){return qo(Bo(),wo,e)}function qo(e,t,r){var s=e.queue;if(null===s)throw Error(a(311));s.lastRenderedReducer=r;var n=e.baseQueue,o=s.pending;if(null!==o){if(null!==n){var i=n.next;n.next=o.next,o.next=i}t.baseQueue=n=o,s.pending=null}if(o=e.baseState,null===n)e.memoizedState=o;else{var l=i=null,c=null,d=t=n.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(oc&m)===m:(bo&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===In&&(u=!0);else{if((bo&h)===h){d=d.next,h===In&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,i=o):c=c.next=m,yo.lanes|=h,hc|=h}m=d.action,So&&r(o,m),o=d.hasEagerState?d.eagerState:r(o,m)}else h={lane:m,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,i=o):c=c.next=h,yo.lanes|=m,hc|=m;d=d.next}while(null!==d&&d!==t);if(null===c?i=o:c.next=l,!Kr(o,e.memoizedState)&&(Li=!0,u&&null!==(r=zn)))throw r;e.memoizedState=o,e.baseState=i,e.baseQueue=c,s.lastRenderedState=o}return null===n&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Go(e){var t=Bo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,o=t.memoizedState;if(null!==n){r.pending=null;var i=n=n.next;do{o=e(o,i.action),i=i.next}while(i!==n);Kr(o,t.memoizedState)||(Li=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function Ko(e,t,r){var s=yo,n=Bo(),o=nn;if(o){if(void 0===r)throw Error(a(407));r=r()}else r=t();var i=!Kr((wo||n).memoizedState,r);if(i&&(n.memoizedState=r,Li=!0),n=n.queue,xa(2048,8,Qo.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||null!==jo&&1&jo.memoizedState.tag){if(s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Zo.bind(null,s,n,r,t),null),null===sc)throw Error(a(349));o||0!==(124&bo)||Yo(s,t,r)}return r}function Yo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=yo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Zo(e,t,r,s){t.value=r,t.getSnapshot=s,Xo(t)&&Jo(e)}function Qo(e,t,r){return r((function(){Xo(t)&&Jo(e)}))}function Xo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch(s){return!0}}function Jo(e){var t=_s(e,2);null!==t&&Dc(t,e,2)}function ea(e){var t=Fo();if("function"===typeof e){var r=e;if(e=r(),So){me(!0);try{r()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function ta(e,t,r,s){return e.baseState=r,qo(e,wo,"function"===typeof s?s:Vo)}function ra(e,t,r,s,n){if($a(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==A.T?r(!0):o.isTransition=!1,s(o),null===(r=t.pending)?(o.next=t.pending=o,sa(t,o)):(o.next=r.next,t.pending=r.next=o)}}function sa(e,t){var r=t.action,s=t.payload,n=e.state;if(t.isTransition){var o=A.T,a={};A.T=a;try{var i=r(n,s),l=A.S;null!==l&&l(a,i),na(e,t,i)}catch(c){aa(e,t,c)}finally{A.T=o}}else try{na(e,t,o=r(n,s))}catch(d){aa(e,t,d)}}function na(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then((function(r){oa(e,t,r)}),(function(r){return aa(e,t,r)})):oa(e,t,r)}function oa(e,t,r){t.status="fulfilled",t.value=r,ia(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,sa(e,r)))}function aa(e,t,r){var s=e.pending;if(e.pending=null,null!==s){s=s.next;do{t.status="rejected",t.reason=r,ia(t),t=t.next}while(t!==s)}e.action=null}function ia(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(nn){var r=sc.formState;if(null!==r){e:{var s=yo;if(nn){if(sn){t:{for(var n=sn,o=an;8!==n.nodeType;){if(!o){n=null;break t}if(null===(n=xu(n.nextSibling))){n=null;break t}}n="F!"===(o=n.data)||"F"===o?n:null}if(n){sn=xu(n.nextSibling),s="F!"===n.data;break e}}cn(s)}s=!1}s&&(t=r[0])}}return(r=Fo()).memoizedState=r.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},r.queue=s,r=Fa.bind(null,yo,s),s.dispatch=r,s=ea(!1),o=Ua.bind(null,yo,!1,s.queue),n={state:t,dispatch:null,action:e,pending:null},(s=Fo()).queue=n,r=ra.bind(null,yo,n,o,r),n.dispatch=r,s.memoizedState=e,[t,r,!1]}function da(e){return ua(Bo(),wo,e)}function ua(e,t,r){if(t=qo(e,t,la)[0],e=Ho(Vo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var s=Uo(t)}catch(a){if(a===Hn)throw Gn;throw a}else s=t;var n=(t=Bo()).queue,o=n.dispatch;return r!==t.memoizedState&&(yo.flags|=2048,pa(9,{destroy:void 0,resource:void 0},ma.bind(null,n,r),null)),[s,o,e]}function ma(e,t){e.action=t}function ha(e){var t=Bo(),r=wo;if(null!==r)return ua(t,r,e);Bo(),t=t.memoizedState;var s=(r=Bo()).queue.dispatch;return r.memoizedState=e,[t,s,!1]}function pa(e,t,r,s){return e={tag:e,create:r,deps:s,inst:t,next:null},null===(t=yo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},yo.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function ga(){return Bo().memoizedState}function fa(e,t,r,s){var n=Fo();s=void 0===s?null:s,yo.flags|=e,n.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},r,s)}function xa(e,t,r,s){var n=Bo();s=void 0===s?null:s;var o=n.memoizedState.inst;null!==wo&&null!==s&&Mo(s,wo.memoizedState.deps)?n.memoizedState=pa(t,o,r,s):(yo.flags|=e,n.memoizedState=pa(1|t,o,r,s))}function va(e,t){fa(8390656,8,e,t)}function ba(e,t){xa(2048,8,e,t)}function ya(e,t){return xa(4,2,e,t)}function wa(e,t){return xa(4,4,e,t)}function ja(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Na(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,xa(4,4,ja.bind(null,t,e),r)}function ka(){}function Sa(e,t){var r=Bo();t=void 0===t?null:t;var s=r.memoizedState;return null!==t&&Mo(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Ca(e,t){var r=Bo();t=void 0===t?null:t;var s=r.memoizedState;if(null!==t&&Mo(t,s[1]))return s[0];if(s=e(),So){me(!0);try{e()}finally{me(!1)}}return r.memoizedState=[s,t],s}function La(e,t,r){return void 0===r||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=r,e=Rc(),yo.lanes|=e,hc|=e,r)}function Ea(e,t,r,s){return Kr(r,t)?r:null!==po.current?(e=La(e,r,s),Kr(e,t)||(Li=!0),e):0===(42&bo)?(Li=!0,e.memoizedState=r):(e=Rc(),yo.lanes|=e,hc|=e,t)}function Pa(e,t,r,s,n){var o=R.p;R.p=0!==o&&8>o?o:8;var a=A.T,i={};A.T=i,Ua(e,!1,t,r);try{var l=n(),c=A.S;if(null!==c&&c(i,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ba(e,t,function(e,t){var r=[],s={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then((function(){s.status="fulfilled",s.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)}),(function(e){for(s.status="rejected",s.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)})),s}(l,s),Ac());else Ba(e,t,s,Ac())}catch(d){Ba(e,t,{then:function(){},status:"rejected",reason:d},Ac())}finally{R.p=o,A.T=a}}function _a(){}function Ma(e,t,r,s){if(5!==e.tag)throw Error(a(476));var n=Ta(e).queue;Pa(e,n,t,D,null===r?_a:function(){return Oa(e),r(s)})}function Ta(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:D},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oa(e){Ba(e,Ta(e).next.queue,{},Ac())}function Aa(){return Cn(Ku)}function Ra(){return Bo().memoizedState}function Da(){return Bo().memoizedState}function Ia(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Ac(),s=oo(t,e=no(r),r);return null!==s&&(Dc(s,t,r),ao(s,t,r)),t={cache:On()},void(e.payload=t)}t=t.return}}function za(e,t,r){var s=Ac();r={lane:s,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},$a(e)?Wa(t,r):null!==(r=Ps(e,t,r,s))&&(Dc(r,e,s),Va(r,t,s))}function Fa(e,t,r){Ba(e,t,r,Ac())}function Ba(e,t,r,s){var n={lane:s,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if($a(e))Wa(t,n);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,i=o(a,r);if(n.hasEagerState=!0,n.eagerState=i,Kr(i,a))return Es(e,t,n,0),null===sc&&Ls(),!1}catch(l){}if(null!==(r=Ps(e,t,n,s)))return Dc(r,e,s),Va(r,t,s),!0}return!1}function Ua(e,t,r,s){if(s={lane:2,revertLane:Pd(),action:s,hasEagerState:!1,eagerState:null,next:null},$a(e)){if(t)throw Error(a(479))}else null!==(t=Ps(e,r,s,2))&&Dc(t,e,2)}function $a(e){var t=e.alternate;return e===yo||null!==t&&t===yo}function Wa(e,t){ko=No=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Va(e,t,r){if(0!==(4194048&r)){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,Le(e,r)}}var Ha={readContext:Cn,use:$o,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useLayoutEffect:_o,useInsertionEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useSyncExternalStore:_o,useId:_o,useHostTransitionStatus:_o,useFormState:_o,useActionState:_o,useOptimistic:_o,useMemoCache:_o,useCacheRefresh:_o},qa={readContext:Cn,use:$o,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Cn,useEffect:va,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,fa(4194308,4,ja.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){fa(4,2,e,t)},useMemo:function(e,t){var r=Fo();t=void 0===t?null:t;var s=e();if(So){me(!0);try{e()}finally{me(!1)}}return r.memoizedState=[s,t],s},useReducer:function(e,t,r){var s=Fo();if(void 0!==r){var n=r(t);if(So){me(!0);try{r(t)}finally{me(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=za.bind(null,yo,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,r=Fa.bind(null,yo,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:ka,useDeferredValue:function(e,t){return La(Fo(),e,t)},useTransition:function(){var e=ea(!1);return e=Pa.bind(null,yo,e.queue,!0,!1),Fo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=yo,n=Fo();if(nn){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===sc)throw Error(a(349));0!==(124&oc)||Yo(s,t,r)}n.memoizedState=r;var o={value:r,getSnapshot:t};return n.queue=o,va(Qo.bind(null,s,o,e),[e]),s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Zo.bind(null,s,o,r,t),null),r},useId:function(){var e=Fo(),t=sc.identifierPrefix;if(nn){var r=Qs;t="\xab"+t+"R"+(r=(Zs&~(1<<32-he(Zs)-1)).toString(32)+r),0<(r=Co++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Aa,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Fo();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ua.bind(null,yo,!0,r),r.dispatch=t,[e,t]},useMemoCache:Wo,useCacheRefresh:function(){return Fo().memoizedState=Ia.bind(null,yo)}},Ga={readContext:Cn,use:$o,useCallback:Sa,useContext:Cn,useEffect:ba,useImperativeHandle:Na,useInsertionEffect:ya,useLayoutEffect:wa,useMemo:Ca,useReducer:Ho,useRef:ga,useState:function(){return Ho(Vo)},useDebugValue:ka,useDeferredValue:function(e,t){return Ea(Bo(),wo.memoizedState,e,t)},useTransition:function(){var e=Ho(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Ko,useId:Ra,useHostTransitionStatus:Aa,useFormState:da,useActionState:da,useOptimistic:function(e,t){return ta(Bo(),0,e,t)},useMemoCache:Wo,useCacheRefresh:Da},Ka={readContext:Cn,use:$o,useCallback:Sa,useContext:Cn,useEffect:ba,useImperativeHandle:Na,useInsertionEffect:ya,useLayoutEffect:wa,useMemo:Ca,useReducer:Go,useRef:ga,useState:function(){return Go(Vo)},useDebugValue:ka,useDeferredValue:function(e,t){var r=Bo();return null===wo?La(r,e,t):Ea(r,wo.memoizedState,e,t)},useTransition:function(){var e=Go(Vo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Ko,useId:Ra,useHostTransitionStatus:Aa,useFormState:ha,useActionState:ha,useOptimistic:function(e,t){var r=Bo();return null!==wo?ta(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Wo,useCacheRefresh:Da},Ya=null,Za=0;function Qa(e){var t=Za;return Za+=1,null===Ya&&(Ya=[]),Qn(Ya,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===h)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ei(e){return(0,e._init)(e._payload)}function ti(e){function t(t,r){if(e){var s=t.deletions;null===s?(t.deletions=[r],t.flags|=16):s.push(r)}}function r(r,s){if(!e)return null;for(;null!==s;)t(r,s),s=s.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(e,t){return(e=Is(e,t)).index=0,e.sibling=null,e}function o(t,r,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<r?(t.flags|=67108866,r):s:(t.flags|=67108866,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,s){return null===t||6!==t.tag?((t=Us(r,e.mode,s)).return=e,t):((t=n(t,r)).return=e,t)}function c(e,t,r,s){var o=r.type;return o===f?u(e,t,r.props.children,s,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&ei(o)===t.type)?(Xa(t=n(t,r.props),r),t.return=e,t):(Xa(t=Fs(r.type,r.key,r.props,null,e.mode,s),r),t.return=e,t)}function d(e,t,r,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$s(r,e.mode,s)).return=e,t):((t=n(t,r.children||[])).return=e,t)}function u(e,t,r,s,o){return null===t||7!==t.tag?((t=Bs(r,e.mode,s,o)).return=e,t):((t=n(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Us(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(r=Fs(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=$s(t,e.mode,r)).return=e,t;case C:return m(e,t=(0,t._init)(t._payload),r)}if(O(t)||_(t))return(t=Bs(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return m(e,Qa(t),r);if(t.$$typeof===w)return m(e,Ln(e,t),r);Ja(e,t)}return null}function h(e,t,r,s){var n=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==n?null:l(e,t,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return r.key===n?c(e,t,r,s):null;case g:return r.key===n?d(e,t,r,s):null;case C:return h(e,t,r=(n=r._init)(r._payload),s)}if(O(r)||_(r))return null!==n?null:u(e,t,r,s,null);if("function"===typeof r.then)return h(e,t,Qa(r),s);if(r.$$typeof===w)return h(e,t,Ln(e,r),s);Ja(e,r)}return null}function x(e,t,r,s,n){if("string"===typeof s&&""!==s||"number"===typeof s||"bigint"===typeof s)return l(t,e=e.get(r)||null,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case p:return c(t,e=e.get(null===s.key?r:s.key)||null,s,n);case g:return d(t,e=e.get(null===s.key?r:s.key)||null,s,n);case C:return x(e,t,r,s=(0,s._init)(s._payload),n)}if(O(s)||_(s))return u(t,e=e.get(r)||null,s,n,null);if("function"===typeof s.then)return x(e,t,r,Qa(s),n);if(s.$$typeof===w)return x(e,t,r,Ln(t,s),n);Ja(t,s)}return null}function v(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===f&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case p:e:{for(var b=d.key;null!==c;){if(c.key===b){if((b=d.type)===f){if(7===c.tag){r(l,c.sibling),(u=n(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&ei(b)===c.type){r(l,c.sibling),Xa(u=n(c,d.props),d),u.return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===f?((u=Bs(d.props.children,l.mode,u,d.key)).return=l,l=u):(Xa(u=Fs(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return i(l);case g:e:{for(b=d.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(u=n(c,d.children||[])).return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}(u=$s(d,l.mode,u)).return=l,l=u}return i(l);case C:return v(l,c,d=(b=d._init)(d._payload),u)}if(O(d))return function(n,a,i,l){for(var c=null,d=null,u=a,p=a=0,g=null;null!==u&&p<i.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var f=h(n,u,i[p],l);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(n,u),a=o(f,a,p),null===d?c=f:d.sibling=f,d=f,u=g}if(p===i.length)return r(n,u),nn&&Xs(n,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(n,i[p],l))&&(a=o(u,a,p),null===d?c=u:d.sibling=u,d=u);return nn&&Xs(n,p),c}for(u=s(u);p<i.length;p++)null!==(g=x(u,n,p,i[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),a=o(g,a,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(n,e)})),nn&&Xs(n,p),c}(l,c,d,u);if(_(d)){if("function"!==typeof(b=_(d)))throw Error(a(150));return function(n,i,l,c){if(null==l)throw Error(a(151));for(var d=null,u=null,p=i,g=i=0,f=null,v=l.next();null!==p&&!v.done;g++,v=l.next()){p.index>g?(f=p,p=null):f=p.sibling;var b=h(n,p,v.value,c);if(null===b){null===p&&(p=f);break}e&&p&&null===b.alternate&&t(n,p),i=o(b,i,g),null===u?d=b:u.sibling=b,u=b,p=f}if(v.done)return r(n,p),nn&&Xs(n,g),d;if(null===p){for(;!v.done;g++,v=l.next())null!==(v=m(n,v.value,c))&&(i=o(v,i,g),null===u?d=v:u.sibling=v,u=v);return nn&&Xs(n,g),d}for(p=s(p);!v.done;g++,v=l.next())null!==(v=x(p,n,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),i=o(v,i,g),null===u?d=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(n,e)})),nn&&Xs(n,g),d}(l,c,d=b.call(d),u)}if("function"===typeof d.then)return v(l,c,Qa(d),u);if(d.$$typeof===w)return v(l,c,Ln(l,d),u);Ja(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(u=n(c,d)).return=l,l=u):(r(l,c),(u=Us(d,l.mode,u)).return=l,l=u),i(l)):r(l,c)}return function(e,t,r,s){try{Za=0;var n=v(e,t,r,s);return Ya=null,n}catch(a){if(a===Hn||a===Gn)throw a;var o=Rs(29,a,null,e.mode);return o.lanes=s,o.return=e,o}}}var ri=ti(!0),si=ti(!1),ni=F(null),oi=null;function ai(e){var t=e.alternate;U(di,1&di.current),U(ni,e),null===oi&&(null===t||null!==po.current||null!==t.memoizedState)&&(oi=e)}function ii(e){if(22===e.tag){if(U(di,di.current),U(ni,e),null===oi){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oi=e)}}else li()}function li(){U(di,di.current),U(ni,ni.current)}function ci(e){B(ni),oi===e&&(oi=null),B(di)}var di=F(0);function ui(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||fu(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mi(e,t,r,s){r=null===(r=r(s,t=e.memoizedState))||void 0===r?t:m({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var hi={enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ac(),n=no(s);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=oo(e,n,s))&&(Dc(t,e,s),ao(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ac(),n=no(s);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=oo(e,n,s))&&(Dc(t,e,s),ao(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ac(),s=no(r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=oo(e,s,r))&&(Dc(t,e,r),ao(t,e,r))}};function pi(e,t,r,s,n,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Yr(r,s)||!Yr(n,o))}function gi(e,t,r,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function fi(e,t){var r=t;if("ref"in t)for(var s in r={},t)"ref"!==s&&(r[s]=t[s]);if(e=e.defaultProps)for(var n in r===t&&(r=m({},r)),e)void 0===r[n]&&(r[n]=e[n]);return r}var xi="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vi(e){xi(e)}function bi(e){console.error(e)}function yi(e){xi(e)}function wi(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout((function(){throw r}))}}function ji(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(s){setTimeout((function(){throw s}))}}function Ni(e,t,r){return(r=no(r)).tag=3,r.payload={element:null},r.callback=function(){wi(e,t)},r}function ki(e){return(e=no(e)).tag=3,e}function Si(e,t,r,s){var n=r.type.getDerivedStateFromError;if("function"===typeof n){var o=s.value;e.payload=function(){return n(o)},e.callback=function(){ji(t,r,s)}}var a=r.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ji(t,r,s),"function"!==typeof n&&(null===kc?kc=new Set([this]):kc.add(this));var e=s.stack;this.componentDidCatch(s.value,{componentStack:null!==e?e:""})})}var Ci=Error(a(461)),Li=!1;function Ei(e,t,r,s){t.child=null===e?si(t,null,r,s):ri(t,e.child,r,s)}function Pi(e,t,r,s,n){r=r.render;var o=t.ref;if("ref"in s){var a={};for(var i in s)"ref"!==i&&(a[i]=s[i])}else a=s;return Sn(t),s=To(e,t,r,a,o,n),i=Do(),null===e||Li?(nn&&i&&en(t),t.flags|=1,Ei(e,t,s,n),t.child):(Io(e,t,n),Yi(e,t,n))}function _i(e,t,r,s,n){if(null===e){var o=r.type;return"function"!==typeof o||Ds(o)||void 0!==o.defaultProps||null!==r.compare?((e=Fs(r.type,null,s,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Mi(e,t,o,s,n))}if(o=e.child,!Zi(e,n)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:Yr)(a,s)&&e.ref===t.ref)return Yi(e,t,n)}return t.flags|=1,(e=Is(o,s)).ref=t.ref,e.return=t,t.child=e}function Mi(e,t,r,s,n){if(null!==e){var o=e.memoizedProps;if(Yr(o,s)&&e.ref===t.ref){if(Li=!1,t.pendingProps=s=o,!Zi(e,n))return t.lanes=e.lanes,Yi(e,t,n);0!==(131072&e.flags)&&(Li=!0)}}return Ri(e,t,r,s,n)}function Ti(e,t,r){var s=t.pendingProps,n=s.children,o=null!==e?e.memoizedState:null;if("hidden"===s.mode){if(0!==(128&t.flags)){if(s=null!==o?o.baseLanes|r:r,null!==e){for(n=t.child=e.child,o=0;null!==n;)o=o|n.lanes|n.childLanes,n=n.sibling;t.childLanes=o&~s}else t.childLanes=0,t.child=null;return Oi(e,t,s,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Oi(e,t,null!==o?o.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wn(0,null!==o?o.cachePool:null),null!==o?fo(t,o):xo(),ii(t)}else null!==o?(Wn(0,o.cachePool),fo(t,o),li(),t.memoizedState=null):(null!==e&&Wn(0,null),xo(),li());return Ei(e,t,n,r),t.child}function Oi(e,t,r,s){var n=$n();return n=null===n?null:{parent:Tn._currentValue,pool:n},t.memoizedState={baseLanes:r,cachePool:n},null!==e&&Wn(0,null),xo(),ii(t),null!==e&&Nn(e,t,s,!0),null}function Ai(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(a(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Ri(e,t,r,s,n){return Sn(t),r=To(e,t,r,s,void 0,n),s=Do(),null===e||Li?(nn&&s&&en(t),t.flags|=1,Ei(e,t,r,n),t.child):(Io(e,t,n),Yi(e,t,n))}function Di(e,t,r,s,n,o){return Sn(t),t.updateQueue=null,r=Ao(t,s,r,n),Oo(e),s=Do(),null===e||Li?(nn&&s&&en(t),t.flags|=1,Ei(e,t,r,o),t.child):(Io(e,t,o),Yi(e,t,o))}function Ii(e,t,r,s,n){if(Sn(t),null===t.stateNode){var o=Os,a=r.contextType;"object"===typeof a&&null!==a&&(o=Cn(a)),o=new r(s,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=hi,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=s,o.state=t.memoizedState,o.refs={},ro(t),a=r.contextType,o.context="object"===typeof a&&null!==a?Cn(a):Os,o.state=t.memoizedState,"function"===typeof(a=r.getDerivedStateFromProps)&&(mi(t,r,a,s),o.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&hi.enqueueReplaceState(o,o.state,null),uo(t,s,o,n),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),s=!0}else if(null===e){o=t.stateNode;var i=t.memoizedProps,l=fi(r,i);o.props=l;var c=o.context,d=r.contextType;a=Os,"object"===typeof d&&null!==d&&(a=Cn(d));var u=r.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate,i=t.pendingProps!==i,d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i||c!==a)&&gi(t,o,s,a),to=!1;var m=t.memoizedState;o.state=m,uo(t,s,o,n),co(),c=t.memoizedState,i||m!==c||to?("function"===typeof u&&(mi(t,r,u,s),c=t.memoizedState),(l=to||pi(t,r,l,s,m,c,a))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=a,s=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,so(e,t),d=fi(r,a=t.memoizedProps),o.props=d,u=t.pendingProps,m=o.context,c=r.contextType,l=Os,"object"===typeof c&&null!==c&&(l=Cn(c)),(c="function"===typeof(i=r.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||m!==l)&&gi(t,o,s,l),to=!1,m=t.memoizedState,o.state=m,uo(t,s,o,n),co();var h=t.memoizedState;a!==u||m!==h||to||null!==e&&null!==e.dependencies&&kn(e.dependencies)?("function"===typeof i&&(mi(t,r,i,s),h=t.memoizedState),(d=to||pi(t,r,d,s,m,h,l)||null!==e&&null!==e.dependencies&&kn(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(s,h,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,h,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),o.props=s,o.state=h,o.context=l,s=d):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return o=s,Ai(e,t),s=0!==(128&t.flags),o||s?(o=t.stateNode,r=s&&"function"!==typeof r.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&s?(t.child=ri(t,e.child,null,n),t.child=ri(t,null,r,n)):Ei(e,t,r,n),t.memoizedState=o.state,e=t.child):e=Yi(e,t,n),e}function zi(e,t,r,s){return hn(),t.flags|=256,Ei(e,t,r,s),t.child}var Fi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bi(e){return{baseLanes:e,cachePool:Vn()}}function Ui(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=fc),e}function $i(e,t,r){var s,n=t.pendingProps,o=!1,i=0!==(128&t.flags);if((s=i)||(s=(null===e||null!==e.memoizedState)&&0!==(2&di.current)),s&&(o=!0,t.flags&=-129),s=0!==(32&t.flags),t.flags&=-33,null===e){if(nn){if(o?ai(t):li(),nn){var l,c=sn;if(l=c){e:{for(l=c,c=an;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Ys?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},(l=Rs(18,null,null,0)).stateNode=c,l.return=t,t.child=l,rn=t,sn=null,l=!0):l=!1}l||cn(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return fu(c)?t.lanes=32:t.lanes=536870912,null;ci(t)}return c=n.children,n=n.fallback,o?(li(),c=Vi({mode:"hidden",children:c},o=t.mode),n=Bs(n,o,r,null),c.return=t,n.return=t,c.sibling=n,t.child=c,(o=t.child).memoizedState=Bi(r),o.childLanes=Ui(e,s,r),t.memoizedState=Fi,n):(ai(t),Wi(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(i)256&t.flags?(ai(t),t.flags&=-257,t=Hi(e,t,r)):null!==t.memoizedState?(li(),t.child=e.child,t.flags|=128,t=null):(li(),o=n.fallback,c=t.mode,n=Vi({mode:"visible",children:n.children},c),(o=Bs(o,c,r,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,ri(t,e.child,null,r),(n=t.child).memoizedState=Bi(r),n.childLanes=Ui(e,s,r),t.memoizedState=Fi,t=o);else if(ai(t),fu(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var d=s.dgst;s=d,(n=Error(a(419))).stack="",n.digest=s,gn({value:n,source:null,stack:null}),t=Hi(e,t,r)}else if(Li||Nn(e,t,r,!1),s=0!==(r&e.childLanes),Li||s){if(null!==(s=sc)&&(0!==(n=0!==((n=0!==(42&(n=r&-r))?1:Ee(n))&(s.suspendedLanes|r))?0:n)&&n!==l.retryLane))throw l.retryLane=n,_s(e,n),Dc(s,e,n),Ci;"$?"===c.data||Gc(),t=Hi(e,t,r)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,sn=xu(c.nextSibling),rn=t,nn=!0,on=null,an=!1,null!==e&&(Gs[Ks++]=Zs,Gs[Ks++]=Qs,Gs[Ks++]=Ys,Zs=e.id,Qs=e.overflow,Ys=t),(t=Wi(t,n.children)).flags|=4096);return t}return o?(li(),o=n.fallback,c=t.mode,d=(l=e.child).sibling,(n=Is(l,{mode:"hidden",children:n.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?o=Is(d,o):(o=Bs(o,c,r,null)).flags|=2,o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,null===(c=e.child.memoizedState)?c=Bi(r):(null!==(l=c.cachePool)?(d=Tn._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Vn(),c={baseLanes:c.baseLanes|r,cachePool:l}),o.memoizedState=c,o.childLanes=Ui(e,s,r),t.memoizedState=Fi,n):(ai(t),e=(r=e.child).sibling,(r=Is(r,{mode:"visible",children:n.children})).return=t,r.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r)}function Wi(e,t){return(t=Vi({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vi(e,t){return(e=Rs(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hi(e,t,r){return ri(t,e.child,null,r),(e=Wi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qi(e,t,r){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),wn(e.return,t,r)}function Gi(e,t,r,s,n){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=n)}function Ki(e,t,r){var s=t.pendingProps,n=s.revealOrder,o=s.tail;if(Ei(e,t,s.children,r),0!==(2&(s=di.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qi(e,r,t);else if(19===e.tag)qi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(U(di,s),n){case"forwards":for(r=t.child,n=null;null!==r;)null!==(e=r.alternate)&&null===ui(e)&&(n=r),r=r.sibling;null===(r=n)?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Gi(t,!1,n,r,o);break;case"backwards":for(r=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===ui(e)){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Gi(t,!0,r,null,o);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Nn(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Is(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Is(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Zi(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!kn(e))}function Qi(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Li=!0;else{if(!Zi(e,r)&&0===(128&t.flags))return Li=!1,function(e,t,r){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),bn(0,Tn,e.memoizedState.cache),hn();break;case 27:case 5:K(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:bn(0,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(null!==s)return null!==s.dehydrated?(ai(t),t.flags|=128,null):0!==(r&t.child.childLanes)?$i(e,t,r):(ai(t),null!==(e=Yi(e,t,r))?e.sibling:null);ai(t);break;case 19:var n=0!==(128&e.flags);if((s=0!==(r&t.childLanes))||(Nn(e,t,r,!1),s=0!==(r&t.childLanes)),n){if(s)return Ki(e,t,r);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),U(di,di.current),s)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,r);case 24:bn(0,Tn,e.memoizedState.cache)}return Yi(e,t,r)}(e,t,r);Li=0!==(131072&e.flags)}else Li=!1,nn&&0!==(1048576&t.flags)&&Js(t,qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,n=s._init;if(s=n(s._payload),t.type=s,"function"!==typeof s){if(void 0!==s&&null!==s){if((n=s.$$typeof)===j){t.tag=11,t=Pi(null,t,s,e,r);break e}if(n===S){t.tag=14,t=_i(null,t,s,e,r);break e}}throw t=T(s)||s,Error(a(306,t,""))}Ds(s)?(e=fi(s,e),t.tag=1,t=Ii(null,t,s,e,r)):(t.tag=0,t=Ri(null,t,s,e,r))}return t;case 0:return Ri(e,t,t.type,t.pendingProps,r);case 1:return Ii(e,t,s=t.type,n=fi(s,t.pendingProps),r);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));s=t.pendingProps;var o=t.memoizedState;n=o.element,so(e,t),uo(t,s,null,r);var i=t.memoizedState;if(s=i.cache,bn(0,Tn,s),s!==o.cache&&jn(t,[Tn],r,!0),co(),s=i.element,o.isDehydrated){if(o={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=zi(e,t,s,r);break e}if(s!==n){gn(n=Ns(Error(a(424)),t)),t=zi(e,t,s,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(sn=xu(e.firstChild),rn=t,nn=!0,on=null,an=!0,r=si(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hn(),s===n){t=Yi(e,t,r);break e}Ei(e,t,s,r)}t=t.child}return t;case 26:return Ai(e,t),null===e?(r=Eu(t.type,null,t.pendingProps,null))?t.memoizedState=r:nn||(r=t.type,e=t.pendingProps,(s=su(V.current).createElement(r))[Te]=t,s[Oe]=e,eu(s,r,e),He(s),t.stateNode=s):t.memoizedState=Eu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&nn&&(s=t.stateNode=yu(t.type,t.pendingProps,V.current),rn=t,an=!0,n=sn,hu(t.type)?(vu=n,sn=xu(s.firstChild)):sn=n),Ei(e,t,t.pendingProps.children,r),Ai(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&nn&&((n=s=sn)&&(null!==(s=function(e,t,r,s){for(;1===e.nodeType;){var n=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(s){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==n.rel||e.getAttribute("href")!==(null==n.href||""===n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===o)return e}if(null===(e=xu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,an))?(t.stateNode=s,rn=t,sn=xu(s.firstChild),an=!1,n=!0):n=!1),n||cn(t)),K(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,au(n,o)?s=null:null!==i&&au(n,i)&&(t.flags|=32),null!==t.memoizedState&&(n=To(e,t,Ro,null,null,r),Ku._currentValue=n),Ai(e,t),Ei(e,t,s,r),t.child;case 6:return null===e&&nn&&((e=r=sn)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=xu(e.nextSibling)))return null}return e}(r,t.pendingProps,an))?(t.stateNode=r,rn=t,sn=null,e=!0):e=!1),e||cn(t)),null;case 13:return $i(e,t,r);case 4:return q(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ri(t,null,s,r):Ei(e,t,s,r),t.child;case 11:return Pi(e,t,t.type,t.pendingProps,r);case 7:return Ei(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,bn(0,t.type,s.value),Ei(e,t,s.children,r),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Sn(t),s=s(n=Cn(n)),t.flags|=1,Ei(e,t,s,r),t.child;case 14:return _i(e,t,t.type,t.pendingProps,r);case 15:return Mi(e,t,t.type,t.pendingProps,r);case 19:return Ki(e,t,r);case 31:return s=t.pendingProps,r=t.mode,s={mode:s.mode,children:s.children},null===e?((r=Vi(s,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Is(e.child,s)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Ti(e,t,r);case 24:return Sn(t),s=Cn(Tn),null===e?(null===(n=$n())&&(n=sc,o=On(),n.pooledCache=o,o.refCount++,null!==o&&(n.pooledCacheLanes|=r),n=o),t.memoizedState={parent:s,cache:n},ro(t),bn(0,Tn,n)):(0!==(e.lanes&r)&&(so(e,t),uo(t,null,null,r),co()),n=e.memoizedState,o=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=n),bn(0,Tn,s)):(s=o.cache,bn(0,Tn,s),s!==n.cache&&jn(t,[Tn],r,!0))),Ei(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xi(e){e.flags|=4}function Ji(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=ni.current)&&((4194048&oc)===oc?null!==oi:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oi))throw Xn=Kn,qn;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,xc|=t)}function tl(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;null!==n;)r|=n.lanes|n.childLanes,s|=65011712&n.subtreeFlags,s|=65011712&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function sl(e,t,r){var s=t.pendingProps;switch(tn(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return r=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yn(Tn),G(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(mn(t)?Xi(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pn())),rl(t),null;case 26:return r=t.memoizedState,null===e?(Xi(t),null!==r?(rl(t),Ji(t,r)):(rl(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Xi(t),rl(t),Ji(t,r)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==s&&Xi(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),r=V.current;var n=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Xi(t);else{if(!s){if(null===t.stateNode)throw Error(a(166));return rl(t),null}e=$.current,mn(t)?dn(t):(e=yu(n,s,r),t.stateNode=e,Xi(t))}return rl(t),null;case 5:if(Y(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&Xi(t);else{if(!s){if(null===t.stateNode)throw Error(a(166));return rl(t),null}if(e=$.current,mn(t))dn(t);else{switch(n=su(V.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof s.is?n.createElement("select",{is:s.is}):n.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"===typeof s.is?n.createElement(r,{is:s.is}):n.createElement(r)}}e[Te]=t,e[Oe]=s;e:for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&27!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;null===n.sibling;){if(null===n.return||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(eu(e,r,s),r){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xi(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&Xi(t);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(e=V.current,mn(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,null!==(n=rn))switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===r||null!==s&&!0===s.suppressHydrationWarning||Zd(e.nodeValue,r)))||cn(t)}else(e=su(e).createTextNode(s))[Te]=t,t.stateNode=e}return rl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(n=mn(t),null!==s&&null!==s.dehydrated){if(null===e){if(!n)throw Error(a(318));if(!(n=null!==(n=t.memoizedState)?n.dehydrated:null))throw Error(a(317));n[Te]=t}else hn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),n=!1}else n=pn(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return 256&t.flags?(ci(t),t):(ci(t),null)}if(ci(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==s,e=null!==e&&null!==e.memoizedState,r){n=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(n=s.alternate.memoizedState.cachePool.pool);var o=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(o=s.memoizedState.cachePool.pool),o!==n&&(s.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),el(t,t.updateQueue),rl(t),null;case 4:return G(),null===e&&Bd(t.stateNode.containerInfo),rl(t),null;case 10:return yn(t.type),rl(t),null;case 19:if(B(di),null===(n=t.memoizedState))return rl(t),null;if(s=0!==(128&t.flags),null===(o=n.rendering))if(s)tl(n,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ui(e))){for(t.flags|=128,tl(n,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)zs(r,e),r=r.sibling;return U(di,1&di.current|2),t.child}e=e.sibling}null!==n.tail&&te()>jc&&(t.flags|=128,s=!0,tl(n,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ui(o))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate&&!nn)return rl(t),null}else 2*te()-n.renderingStartTime>jc&&536870912!==r&&(t.flags|=128,s=!0,tl(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=n.last)?e.sibling=o:t.child=o,n.last=o)}return null!==n.tail?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=te(),t.sibling=null,e=di.current,U(di,s?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return ci(t),vo(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?0!==(536870912&r)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(r=t.updateQueue)&&el(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),null!==e&&B(Un),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),yn(Tn),rl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function nl(e,t){switch(tn(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return yn(Tn),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(ci(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));hn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(di),null;case 4:return G(),null;case 10:return yn(t.type),null;case 22:case 23:return ci(t),vo(),null!==e&&B(Un),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return yn(Tn),null;default:return null}}function ol(e,t){switch(tn(t),t.tag){case 3:yn(Tn),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:ci(t);break;case 19:B(di);break;case 10:yn(t.type);break;case 22:case 23:ci(t),vo(),null!==e&&B(Un);break;case 24:yn(Tn)}}function al(e,t){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var n=s.next;r=n;do{if((r.tag&e)===e){s=void 0;var o=r.create,a=r.inst;s=o(),a.destroy=s}r=r.next}while(r!==n)}}catch(i){dd(t,t.return,i)}}function il(e,t,r){try{var s=t.updateQueue,n=null!==s?s.lastEffect:null;if(null!==n){var o=n.next;s=o;do{if((s.tag&e)===e){var a=s.inst,i=a.destroy;if(void 0!==i){a.destroy=void 0,n=t;var l=r,c=i;try{c()}catch(d){dd(n,l,d)}}}s=s.next}while(s!==o)}}catch(d){dd(t,t.return,d)}}function ll(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ho(t,r)}catch(s){dd(e,e.return,s)}}}function cl(e,t,r){r.props=fi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(s){dd(e,t,s)}}function dl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;default:s=e.stateNode}"function"===typeof r?e.refCleanup=r(s):r.current=s}}catch(n){dd(e,t,n)}}function ul(e,t){var r=e.ref,s=e.refCleanup;if(null!==r)if("function"===typeof s)try{s()}catch(n){dd(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(o){dd(e,t,o)}else r.current=null}function ml(e){var t=e.type,r=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(n){dd(e,e.return,n)}}function hl(e,t,r){try{var s=e.stateNode;!function(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,o=null,i=null,l=null,c=null,d=null,u=null;for(p in r){var m=r[p];if(r.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(p)||Xd(e,t,p,null,s,m)}}for(var h in s){var p=s[h];if(m=r[h],s.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":o=p;break;case"name":n=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":i=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==m&&Xd(e,t,h,p,s,m)}}return void ft(e,i,l,c,d,u,o,n);case"select":for(o in p=i=l=h=null,r)if(c=r[o],r.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(o)||Xd(e,t,o,null,s,c)}for(n in s)if(o=s[n],c=r[n],s.hasOwnProperty(n)&&(null!=o||null!=c))switch(n){case"value":h=o;break;case"defaultValue":l=o;break;case"multiple":i=o;default:o!==c&&Xd(e,t,n,o,s,c)}return t=l,r=i,s=p,void(null!=h?bt(e,!!r,h,!1):!!s!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=h=null,r)if(n=r[l],r.hasOwnProperty(l)&&null!=n&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xd(e,t,l,null,s,n)}for(i in s)if(n=s[i],o=r[i],s.hasOwnProperty(i)&&(null!=n||null!=o))switch(i){case"value":h=n;break;case"defaultValue":p=n;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=n)throw Error(a(91));break;default:n!==o&&Xd(e,t,i,n,s,o)}return void yt(e,h,p);case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&null!=h&&!s.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Xd(e,t,g,null,s,h);for(c in s)if(h=s[c],p=r[c],s.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Xd(e,t,c,h,s,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in r)h=r[f],r.hasOwnProperty(f)&&null!=h&&!s.hasOwnProperty(f)&&Xd(e,t,f,null,s,h);for(d in s)if(h=s[d],p=r[d],s.hasOwnProperty(d)&&h!==p&&(null!=h||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Xd(e,t,d,h,s,p)}return;default:if(Ct(t)){for(var x in r)h=r[x],r.hasOwnProperty(x)&&void 0!==h&&!s.hasOwnProperty(x)&&Jd(e,t,x,void 0,s,h);for(u in s)h=s[u],p=r[u],!s.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||Jd(e,t,u,h,s,p);return}}for(var v in r)h=r[v],r.hasOwnProperty(v)&&null!=h&&!s.hasOwnProperty(v)&&Xd(e,t,v,null,s,h);for(m in s)h=s[m],p=r[m],!s.hasOwnProperty(m)||h===p||null==h&&null==p||Xd(e,t,m,h,s,p)}(s,e.type,r,t),s[Oe]=t}catch(n){dd(e,e.return,n)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hu(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fl(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qd));else if(4!==s&&(27===s&&hu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(fl(e,t,r),e=e.sibling;null!==e;)fl(e,t,r),e=e.sibling}function xl(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==s&&(27===s&&hu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(xl(e,t,r),e=e.sibling;null!==e;)xl(e,t,r),e=e.sibling}function vl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);eu(t,s,r),t[Te]=e,t[Oe]=r}catch(o){dd(e,e.return,o)}}var bl=!1,yl=!1,wl=!1,jl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function kl(e,t,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Il(e,r),4&s&&al(5,r);break;case 1:if(Il(e,r),4&s)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(a){dd(r,r.return,a)}else{var n=fi(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){dd(r,r.return,i)}}64&s&&ll(r),512&s&&dl(r,r.return);break;case 3:if(Il(e,r),64&s&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ho(e,t)}catch(a){dd(r,r.return,a)}}break;case 27:null===t&&4&s&&vl(r);case 26:case 5:Il(e,r),null===t&&4&s&&ml(r),512&s&&dl(r,r.return);break;case 12:Il(e,r);break;case 13:Il(e,r),4&s&&_l(e,r),64&s&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var s=function(){t(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}(e,r=pd.bind(null,r))));break;case 22:if(!(s=null!==r.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||yl,n=bl;var o=yl;bl=s,(yl=t)&&!o?Fl(e,r,0!==(8772&r.subtreeFlags)):Il(e,r),bl=n,yl=o}break;case 30:break;default:Il(e,r)}}function Sl(e){var t=e.alternate;null!==t&&(e.alternate=null,Sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Ll=!1;function El(e,t,r){for(r=r.child;null!==r;)Pl(e,t,r),r=r.sibling}function Pl(e,t,r){if(ue&&"function"===typeof ue.onCommitFiberUnmount)try{ue.onCommitFiberUnmount(de,r)}catch(o){}switch(r.tag){case 26:yl||ul(r,t),El(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:yl||ul(r,t);var s=Cl,n=Ll;hu(r.type)&&(Cl=r.stateNode,Ll=!1),El(e,t,r),wu(r.stateNode),Cl=s,Ll=n;break;case 5:yl||ul(r,t);case 6:if(s=Cl,n=Ll,Cl=null,El(e,t,r),Ll=n,null!==(Cl=s))if(Ll)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(r.stateNode)}catch(a){dd(r,t,a)}else try{Cl.removeChild(r.stateNode)}catch(a){dd(r,t,a)}break;case 18:null!==Cl&&(Ll?(pu(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Lm(e)):pu(Cl,r.stateNode));break;case 4:s=Cl,n=Ll,Cl=r.stateNode.containerInfo,Ll=!0,El(e,t,r),Cl=s,Ll=n;break;case 0:case 11:case 14:case 15:yl||il(2,r,t),yl||il(4,r,t),El(e,t,r);break;case 1:yl||(ul(r,t),"function"===typeof(s=r.stateNode).componentWillUnmount&&cl(r,t,s)),El(e,t,r);break;case 21:El(e,t,r);break;case 22:yl=(s=yl)||null!==r.memoizedState,El(e,t,r),yl=s;break;default:El(e,t,r)}}function _l(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Lm(e)}catch(r){dd(t,t.return,r)}}function Ml(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach((function(t){var s=gd.bind(null,e,t);r.has(t)||(r.add(t),t.then(s,s))}))}function Tl(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var n=r[s],o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 27:if(hu(l.type)){Cl=l.stateNode,Ll=!1;break e}break;case 5:Cl=l.stateNode,Ll=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Ll=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));Pl(o,i,n),Cl=null,Ll=!1,null!==(o=n.alternate)&&(o.return=null),n.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}var Ol=null;function Al(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tl(t,e),Rl(e),4&s&&(il(3,e,e.return),al(3,e),il(5,e,e.return));break;case 1:Tl(t,e),Rl(e),512&s&&(yl||null===r||ul(r,r.return)),64&s&&bl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?s:r.concat(s))));break;case 26:var n=Ol;if(Tl(t,e),Rl(e),512&s&&(yl||null===r||ul(r,r.return)),4&s){var o=null!==r?r.memoizedState:null;if(s=e.memoizedState,null===r)if(null===s)if(null===e.stateNode){e:{s=e.type,r=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":(!(o=n.getElementsByTagName("title")[0])||o[Fe]||o[Te]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=n.createElement(s),n.head.insertBefore(o,n.querySelector("head > title"))),eu(o,s,r),o[Te]=e,He(o),s=o;break e;case"link":var i=Fu("link","href",n).get(s+(r.href||""));if(i)for(var l=0;l<i.length;l++)if((o=i[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&o.getAttribute("rel")===(null==r.rel?null:r.rel)&&o.getAttribute("title")===(null==r.title?null:r.title)&&o.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){i.splice(l,1);break t}eu(o=n.createElement(s),s,r),n.head.appendChild(o);break;case"meta":if(i=Fu("meta","content",n).get(s+(r.content||"")))for(l=0;l<i.length;l++)if((o=i[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&o.getAttribute("name")===(null==r.name?null:r.name)&&o.getAttribute("property")===(null==r.property?null:r.property)&&o.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&o.getAttribute("charset")===(null==r.charSet?null:r.charSet)){i.splice(l,1);break t}eu(o=n.createElement(s),s,r),n.head.appendChild(o);break;default:throw Error(a(468,s))}o[Te]=e,He(o),s=o}e.stateNode=s}else Bu(n,e.type,e.stateNode);else e.stateNode=Au(n,s,e.memoizedProps);else o!==s?(null===o?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):o.count--,null===s?Bu(n,e.type,e.stateNode):Au(n,s,e.memoizedProps)):null===s&&null!==e.stateNode&&hl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tl(t,e),Rl(e),512&s&&(yl||null===r||ul(r,r.return)),null!==r&&4&s&&hl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tl(t,e),Rl(e),512&s&&(yl||null===r||ul(r,r.return)),32&e.flags){n=e.stateNode;try{jt(n,"")}catch(p){dd(e,e.return,p)}}4&s&&null!=e.stateNode&&hl(e,n=e.memoizedProps,null!==r?r.memoizedProps:n),1024&s&&(wl=!0);break;case 6:if(Tl(t,e),Rl(e),4&s){if(null===e.stateNode)throw Error(a(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(p){dd(e,e.return,p)}}break;case 3:if(zu=null,n=Ol,Ol=ku(t.containerInfo),Tl(t,e),Ol=n,Rl(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{Lm(t.containerInfo)}catch(p){dd(e,e.return,p)}wl&&(wl=!1,Dl(e));break;case 4:s=Ol,Ol=ku(e.stateNode.containerInfo),Tl(t,e),Rl(e),Ol=s;break;case 12:default:Tl(t,e),Rl(e);break;case 13:Tl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wc=te()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ml(e,s)));break;case 22:n=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=bl,u=yl;if(bl=d||n,yl=u||c,Tl(t,e),yl=u,bl=d,Rl(e),8192&s)e:for(t=e.stateNode,t._visibility=n?-2&t._visibility:1|t._visibility,n&&(null===r||c||bl||yl||zl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(o=c.stateNode,n)"function"===typeof(i=o.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,h=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){dd(c,c.return,p)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=n?"":c.memoizedProps}catch(p){dd(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(r=s.retryQueue)&&(s.retryQueue=null,Ml(e,r))));break;case 19:Tl(t,e),Rl(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ml(e,s)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var r,s=e.return;null!==s;){if(pl(s)){r=s;break}s=s.return}if(null==r)throw Error(a(160));switch(r.tag){case 27:var n=r.stateNode;xl(e,gl(e),n);break;case 5:var o=r.stateNode;32&r.flags&&(jt(o,""),r.flags&=-33),xl(e,gl(e),o);break;case 3:case 4:var i=r.stateNode.containerInfo;fl(e,gl(e),i);break;default:throw Error(a(161))}}catch(l){dd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Il(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:il(4,t,t.return),zl(t);break;case 1:ul(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&cl(t,t.return,r),zl(t);break;case 27:wu(t.stateNode);case 26:case 5:ul(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var s=t.alternate,n=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Fl(n,o,r),al(4,o);break;case 1:if(Fl(n,o,r),"function"===typeof(n=(s=o).stateNode).componentDidMount)try{n.componentDidMount()}catch(c){dd(s,s.return,c)}if(null!==(n=(s=o).updateQueue)){var i=s.stateNode;try{var l=n.shared.hiddenCallbacks;if(null!==l)for(n.shared.hiddenCallbacks=null,n=0;n<l.length;n++)mo(l[n],i)}catch(c){dd(s,s.return,c)}}r&&64&a&&ll(o),dl(o,o.return);break;case 27:vl(o);case 26:case 5:Fl(n,o,r),r&&null===s&&4&a&&ml(o),dl(o,o.return);break;case 12:Fl(n,o,r);break;case 13:Fl(n,o,r),r&&4&a&&_l(n,o);break;case 22:null===o.memoizedState&&Fl(n,o,r),dl(o,o.return);break;case 30:break;default:Fl(n,o,r)}t=t.sibling}}function Bl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&An(r))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&An(e))}function $l(e,t,r,s){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,r,s),t=t.sibling}function Wl(e,t,r,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,r,s),2048&n&&al(9,t);break;case 1:case 13:default:$l(e,t,r,s);break;case 3:$l(e,t,r,s),2048&n&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&An(e)));break;case 12:if(2048&n){$l(e,t,r,s),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,i=o.onPostCommit;"function"===typeof i&&i(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){dd(t,t.return,l)}}else $l(e,t,r,s);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?$l(e,t,r,s):Hl(e,t):2&o._visibility?$l(e,t,r,s):(o._visibility|=2,Vl(e,t,r,s,0!==(10256&t.subtreeFlags))),2048&n&&Bl(a,t);break;case 24:$l(e,t,r,s),2048&n&&Ul(t.alternate,t)}}function Vl(e,t,r,s,n){for(n=n&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,i=r,l=s,c=a.flags;switch(a.tag){case 0:case 11:case 15:Vl(o,a,i,l,n),al(8,a);break;case 23:break;case 22:var d=a.stateNode;null!==a.memoizedState?2&d._visibility?Vl(o,a,i,l,n):Hl(o,a):(d._visibility|=2,Vl(o,a,i,l,n)),n&&2048&c&&Bl(a.alternate,a);break;case 24:Vl(o,a,i,l,n),n&&2048&c&&Ul(a.alternate,a);break;default:Vl(o,a,i,l,n)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,s=t,n=s.flags;switch(s.tag){case 22:Hl(r,s),2048&n&&Bl(s.alternate,s);break;case 24:Hl(r,s),2048&n&&Ul(s.alternate,s);break;default:Hl(r,s)}t=t.sibling}}var ql=8192;function Gl(e){if(e.subtreeFlags&ql)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&ql&&null!==e.memoizedState&&function(e,t,r){if(null===$u)throw Error(a(475));var s=$u;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var n=Pu(r.href),o=e.querySelector(_u(n));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(s.count++,s=Vu.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=o,void He(o);o=e.ownerDocument||e,r=Mu(r),(n=ju.get(n))&&Du(r,n),He(o=o.createElement("link"));var i=o;i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),eu(o,"link",r),t.instance=o}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(s.count++,t=Vu.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Ol;Ol=ku(e.stateNode.containerInfo),Gl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=ql,ql=16777216,Gl(e),ql=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var s=t[r];Nl=s,Jl(s,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&il(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Zl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var s=t[r];Nl=s,Jl(s,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:il(8,t,t.return),Xl(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Nl;){var r=Nl;switch(r.tag){case 0:case 11:case 15:il(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var s=r.memoizedState.cachePool.pool;null!=s&&s.refCount++}break;case 24:An(r.memoizedState.cache)}if(null!==(s=r.child))s.return=r,Nl=s;else e:for(r=e;null!==Nl;){var n=(s=Nl).sibling,o=s.return;if(Sl(s),s===r){Nl=null;break e}if(null!==n){n.return=o,Nl=n;break e}Nl=o}}}var ec={getCacheForType:function(e){var t=Cn(Tn),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tc="function"===typeof WeakMap?WeakMap:Map,rc=0,sc=null,nc=null,oc=0,ac=0,ic=null,lc=!1,cc=!1,dc=!1,uc=0,mc=0,hc=0,pc=0,gc=0,fc=0,xc=0,vc=null,bc=null,yc=!1,wc=0,jc=1/0,Nc=null,kc=null,Sc=0,Cc=null,Lc=null,Ec=0,Pc=0,_c=null,Mc=null,Tc=0,Oc=null;function Ac(){if(0!==(2&rc)&&0!==oc)return oc&-oc;if(null!==A.T){return 0!==In?In:Pd()}return _e()}function Rc(){0===fc&&(fc=0===(536870912&oc)||nn?je():536870912);var e=ni.current;return null!==e&&(e.flags|=32),fc}function Dc(e,t,r){(e!==sc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Wc(e,0),Bc(e,oc,fc,!1)),Se(e,r),0!==(2&rc)&&e===sc||(e===sc&&(0===(2&rc)&&(pc|=r),4===mc&&Bc(e,oc,fc,!1)),jd(e))}function Ic(e,t,r){if(0!==(6&rc))throw Error(a(327));for(var s=!r&&0===(124&t)&&0===(t&e.expiredLanes)||ye(e,t),n=s?function(e,t){var r=rc;rc|=2;var s=Hc(),n=qc();sc!==e||oc!==t?(Nc=null,jc=te()+500,Wc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==ac&&null!==nc){t=nc;var o=ic;t:switch(ac){case 1:ac=0,ic=null,Jc(e,t,o,1);break;case 2:case 9:if(Yn(o)){ac=0,ic=null,Xc(t);break}t=function(){2!==ac&&9!==ac||sc!==e||(ac=7),jd(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yn(o)?(ac=0,ic=null,Xc(t)):(ac=0,ic=null,Jc(e,t,o,7));break;case 5:var i=null;switch(nc.tag){case 26:i=nc.memoizedState;case 5:case 27:var l=nc;if(!i||Uu(i)){ac=0,ic=null;var c=l.sibling;if(null!==c)nc=c;else{var d=l.return;null!==d?(nc=d,ed(d)):nc=null}break t}}ac=0,ic=null,Jc(e,t,o,5);break;case 6:ac=0,ic=null,Jc(e,t,o,6);break;case 8:$c(),mc=6;break e;default:throw Error(a(462))}}Zc();break}catch(u){Vc(e,u)}return vn=xn=null,A.H=s,A.A=n,rc=r,null!==nc?0:(sc=null,oc=0,Ls(),mc)}(e,t):Kc(e,t,!0),o=s;;){if(0===n){cc&&!s&&Bc(e,t,0,!1);break}if(r=e.current.alternate,!o||Fc(r)){if(2===n){if(o=t,e.errorRecoveryDisabledLanes&o)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){t=i;e:{var l=e;n=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,i).flags|=256),2!==(i=Kc(l,i,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,n=4;break e}o=bc,bc=n,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}n=i}if(o=!1,2!==n)continue}}if(1===n){Wc(e,0),Bc(e,t,0,!0);break}e:{switch(s=e,o=n){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(s,t,fc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(n=wc+300-te())){if(Bc(s,t,fc,!lc),0!==be(s,0,!0))break e;s.timeoutHandle=lu(zc.bind(null,s,r,bc,Nc,yc,t,fc,pc,xc,lc,o,2,-0,0),n)}else zc(s,r,bc,Nc,yc,t,fc,pc,xc,lc,o,0,-0,0)}break}n=Kc(e,t,!1),o=!1}jd(e)}function zc(e,t,r,s,n,o,i,l,c,d,u,m,h,p){if(e.timeoutHandle=-1,(8192&(m=t.subtreeFlags)||16785408===(16785408&m))&&($u={stylesheets:null,count:0,unsuspend:Wu},Kl(t),null!==(m=function(){if(null===$u)throw Error(a(475));var e=$u;return e.stylesheets&&0===e.count&&qu(e,e.stylesheets),0<e.count?function(t){var r=setTimeout((function(){if(e.stylesheets&&qu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=m(rd.bind(null,e,t,o,r,s,n,i,l,c,u,1,h,p)),void Bc(e,o,i,!d);rd(e,t,o,r,s,n,i,l,c)}function Fc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var s=0;s<r.length;s++){var n=r[s],o=n.getSnapshot;n=n.value;try{if(!Kr(o(),n))return!1}catch(a){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,r,s){t&=~gc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var o=31-he(n),a=1<<o;s[o]=-1,n&=~a}0!==r&&Ce(e,r,t)}function Uc(){return 0!==(6&rc)||(Nd(0,!1),!1)}function $c(){if(null!==nc){if(0===ac)var e=nc.return;else vn=xn=null,zo(e=nc),Ya=null,Za=0,e=nc;for(;null!==e;)ol(e.alternate,e),e=e.return;nc=null}}function Wc(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,cu(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),$c(),sc=e,nc=r=Is(e.current,null),oc=t,ac=0,ic=null,lc=!1,cc=ye(e,t),dc=!1,xc=fc=gc=pc=hc=mc=0,bc=vc=null,yc=!1,0!==(8&t)&&(t|=32&t);var s=e.entangledLanes;if(0!==s)for(e=e.entanglements,s&=t;0<s;){var n=31-he(s),o=1<<n;t|=e[n],s&=~o}return uc=t,Ls(),r}function Vc(e,t){yo=null,A.H=Ha,t===Hn||t===Gn?(t=Jn(),ac=3):t===qn?(t=Jn(),ac=4):ac=t===Ci?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ic=t,null===nc&&(mc=1,wi(e,Ns(t,e.current)))}function Hc(){var e=A.H;return A.H=Ha,null===e?Ha:e}function qc(){var e=A.A;return A.A=ec,e}function Gc(){mc=4,lc||(4194048&oc)!==oc&&null!==ni.current||(cc=!0),0===(134217727&hc)&&0===(134217727&pc)||null===sc||Bc(sc,oc,fc,!1)}function Kc(e,t,r){var s=rc;rc|=2;var n=Hc(),o=qc();sc===e&&oc===t||(Nc=null,Wc(e,t)),t=!1;var a=mc;e:for(;;)try{if(0!==ac&&null!==nc){var i=nc,l=ic;switch(ac){case 8:$c(),a=6;break e;case 3:case 2:case 9:case 6:null===ni.current&&(t=!0);var c=ac;if(ac=0,ic=null,Jc(e,i,l,c),r&&cc){a=0;break e}break;default:c=ac,ac=0,ic=null,Jc(e,i,l,c)}}Yc(),a=mc;break}catch(d){Vc(e,d)}return t&&e.shellSuspendCounter++,vn=xn=null,rc=s,A.H=n,A.A=o,null===nc&&(sc=null,oc=0,Ls()),a}function Yc(){for(;null!==nc;)Qc(nc)}function Zc(){for(;null!==nc&&!J();)Qc(nc)}function Qc(e){var t=Qi(e.alternate,e,uc);e.memoizedProps=e.pendingProps,null===t?ed(e):nc=t}function Xc(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Di(r,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Di(r,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:zo(t);default:ol(r,t),t=Qi(r,t=nc=zs(t,uc),uc)}e.memoizedProps=e.pendingProps,null===t?ed(e):nc=t}function Jc(e,t,r,s){vn=xn=null,zo(t),Ya=null,Za=0;var n=t.return;try{if(function(e,t,r,s,n){if(r.flags|=32768,null!==s&&"object"===typeof s&&"function"===typeof s.then){if(null!==(t=r.alternate)&&Nn(t,r,n,!0),null!==(r=ni.current)){switch(r.tag){case 13:return null===oi?Gc():null===r.alternate&&0===mc&&(mc=3),r.flags&=-257,r.flags|=65536,r.lanes=n,s===Kn?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([s]):t.add(s),ud(e,s,n)),!1;case 22:return r.flags|=65536,s===Kn?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([s]):r.add(s),ud(e,s,n)),!1}throw Error(a(435,r.tag))}return ud(e,s,n),Gc(),!1}if(nn)return null!==(t=ni.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==ln&&gn(Ns(e=Error(a(422),{cause:s}),r))):(s!==ln&&gn(Ns(t=Error(a(423),{cause:s}),r)),(e=e.current.alternate).flags|=65536,n&=-n,e.lanes|=n,s=Ns(s,r),io(e,n=Ni(e.stateNode,s,n)),4!==mc&&(mc=2)),!1;var o=Error(a(520),{cause:s});if(o=Ns(o,r),null===vc?vc=[o]:vc.push(o),4!==mc&&(mc=2),null===t)return!0;s=Ns(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=n&-n,r.lanes|=e,io(r,e=Ni(r.stateNode,s,e)),!1;case 1:if(t=r.type,o=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===kc||!kc.has(o))))return r.flags|=65536,n&=-n,r.lanes|=n,Si(n=ki(n),e,r,s),io(r,n),!1}r=r.return}while(null!==r);return!1}(e,n,t,r,oc))return mc=1,wi(e,Ns(r,e.current)),void(nc=null)}catch(o){if(null!==n)throw nc=n,o;return mc=1,wi(e,Ns(r,e.current)),void(nc=null)}32768&t.flags?(nn||1===s?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=ni.current)&&13===s.tag&&(s.flags|=16384))),td(t,e)):ed(t)}function ed(e){var t=e;do{if(0!==(32768&t.flags))return void td(t,lc);e=t.return;var r=sl(t.alternate,t,uc);if(null!==r)return void(nc=r);if(null!==(t=t.sibling))return void(nc=t);nc=t=e}while(null!==t);0===mc&&(mc=5)}function td(e,t){do{var r=nl(e.alternate,e);if(null!==r)return r.flags&=32767,void(nc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(nc=e);nc=e=r}while(null!==e);mc=6,nc=null}function rd(e,t,r,s,n,o,i,l,c){e.cancelPendingCommit=null;do{id()}while(0!==Sc);if(0!==(6&rc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,r,s,n,o){var a=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var i=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=a&~r;0<r;){var d=31-he(r),u=1<<d;i[d]=0,l[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}r&=~u}0!==s&&Ce(e,s,0),0!==o&&0===n&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,r,o|=Cs,i,l,c),e===sc&&(nc=sc=null,oc=0),Lc=t,Cc=e,Ec=r,Pc=o,_c=n,Mc=s,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(oe,(function(){return ld(),null}))):(e.callbackNode=null,e.callbackPriority=0),s=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||s){s=A.T,A.T=null,n=R.p,R.p=2,i=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,tu=rm,es(e=Jr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var n=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch(f){r=null;break e}var i=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==n&&3!==m.nodeType||(l=i+n),m!==o||0!==s&&3!==m.nodeType||(c=i+s),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===n&&(l=i),h===o&&++u===s&&(c=i),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ru={focusedElem:e,selectionRange:r},rm=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(o=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,r=t,n=o.memoizedProps,o=o.memoizedState,s=r.stateNode;try{var g=fi(r.type,n,(r.elementType,r.type));e=s.getSnapshotBeforeUpdate(g,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(x){dd(r,r.return,x)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))gu(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{rc=i,R.p=n,A.T=s}}Sc=1,sd(),nd(),od()}}function sd(){if(1===Sc){Sc=0;var e=Cc,t=Lc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null;var s=R.p;R.p=2;var n=rc;rc|=4;try{Al(t,e);var o=ru,a=Jr(e.containerInfo),i=o.focusedElem,l=o.selectionRange;if(a!==i&&i&&i.ownerDocument&&Xr(i.ownerDocument.documentElement,i)){if(null!==l&&es(i)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in i)i.selectionStart=c,i.selectionEnd=Math.min(d,i.value.length);else{var u=i.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=i.textContent.length,g=Math.min(l.start,p),f=void 0===l.end?g:Math.min(l.end,p);!h.extend&&g>f&&(a=f,f=g,g=a);var x=Qr(i,g),v=Qr(i,f);if(x&&v&&(1!==h.rangeCount||h.anchorNode!==x.node||h.anchorOffset!==x.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=u.createRange();b.setStart(x.node,x.offset),h.removeAllRanges(),g>f?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(u=[],h=i;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<u.length;i++){var y=u[i];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}rm=!!tu,ru=tu=null}finally{rc=n,R.p=s,A.T=r}}e.current=t,Sc=2}}function nd(){if(2===Sc){Sc=0;var e=Cc,t=Lc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=A.T,A.T=null;var s=R.p;R.p=2;var n=rc;rc|=4;try{kl(e,t.alternate,t)}finally{rc=n,R.p=s,A.T=r}}Sc=3}}function od(){if(4===Sc||3===Sc){Sc=0,ee();var e=Cc,t=Lc,r=Ec,s=Mc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Sc=5:(Sc=0,Lc=Cc=null,ad(e,e.pendingLanes));var n=e.pendingLanes;if(0===n&&(kc=null),Pe(r),t=t.stateNode,ue&&"function"===typeof ue.onCommitFiberRoot)try{ue.onCommitFiberRoot(de,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==s){t=A.T,n=R.p,R.p=2,A.T=null;try{for(var o=e.onRecoverableError,a=0;a<s.length;a++){var i=s[a];o(i.value,{componentStack:i.stack})}}finally{A.T=t,R.p=n}}0!==(3&Ec)&&id(),jd(e),n=e.pendingLanes,0!==(4194090&r)&&0!==(42&n)?e===Oc?Tc++:(Tc=0,Oc=e):Tc=0,Nd(0,!1)}}function ad(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,An(t)))}function id(e){return sd(),nd(),od(),ld()}function ld(){if(5!==Sc)return!1;var e=Cc,t=Pc;Pc=0;var r=Pe(Ec),s=A.T,n=R.p;try{R.p=32>r?32:r,A.T=null,r=_c,_c=null;var o=Cc,i=Ec;if(Sc=0,Lc=Cc=null,Ec=0,0!==(6&rc))throw Error(a(331));var l=rc;if(rc|=4,Ql(o.current),Wl(o,o.current,i,r),rc=l,Nd(0,!1),ue&&"function"===typeof ue.onPostCommitFiberRoot)try{ue.onPostCommitFiberRoot(de,o)}catch(c){}return!0}finally{R.p=n,A.T=s,ad(e,t)}}function cd(e,t,r){t=Ns(r,t),null!==(e=oo(e,t=Ni(e.stateNode,t,2),2))&&(Se(e,2),jd(e))}function dd(e,t,r){if(3===e.tag)cd(e,e,r);else for(;null!==t;){if(3===t.tag){cd(t,e,r);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))){e=Ns(r,e),null!==(s=oo(t,r=ki(2),2))&&(Si(r,s,t,e),Se(s,2),jd(s));break}}t=t.return}}function ud(e,t,r){var s=e.pingCache;if(null===s){s=e.pingCache=new tc;var n=new Set;s.set(t,n)}else void 0===(n=s.get(t))&&(n=new Set,s.set(t,n));n.has(r)||(dc=!0,n.add(r),e=md.bind(null,e,t,r),t.then(e,e))}function md(e,t,r){var s=e.pingCache;null!==s&&s.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,sc===e&&(oc&r)===r&&(4===mc||3===mc&&(62914560&oc)===oc&&300>te()-wc?0===(2&rc)&&Wc(e,0):gc|=r,xc===oc&&(xc=0)),jd(e)}function hd(e,t){0===t&&(t=Ne()),null!==(e=_s(e,t))&&(Se(e,t),jd(e))}function pd(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),hd(e,r)}function gd(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;null!==n&&(r=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==s&&s.delete(t),hd(e,r)}var fd=null,xd=null,vd=!1,bd=!1,yd=!1,wd=0;function jd(e){e!==xd&&null===e.next&&(null===xd?fd=xd=e:xd=xd.next=e),bd=!0,vd||(vd=!0,uu((function(){0!==(6&rc)?Q(se,kd):Sd()})))}function Nd(e,t){if(!yd&&bd){yd=!0;do{for(var r=!1,s=fd;null!==s;){if(!t)if(0!==e){var n=s.pendingLanes;if(0===n)var o=0;else{var a=s.suspendedLanes,i=s.pingedLanes;o=(1<<31-he(42|e)+1)-1,o=201326741&(o&=n&~(a&~i))?201326741&o|1:o?2|o:0}0!==o&&(r=!0,Ed(s,o))}else o=oc,0===(3&(o=be(s,s===sc?o:0,null!==s.cancelPendingCommit||-1!==s.timeoutHandle)))||ye(s,o)||(r=!0,Ed(s,o));s=s.next}}while(r);yd=!1}}function kd(){Sd()}function Sd(){bd=vd=!1;var e=0;0!==wd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==iu&&(iu=e,!0);return iu=null,!1}()&&(e=wd),wd=0);for(var t=te(),r=null,s=fd;null!==s;){var n=s.next,o=Cd(s,t);0===o?(s.next=null,null===r?fd=n:r.next=n,null===n&&(xd=r)):(r=s,(0!==e||0!==(3&o))&&(bd=!0)),s=n}Nd(e,!1)}function Cd(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-he(o),i=1<<a,l=n[a];-1===l?0!==(i&r)&&0===(i&s)||(n[a]=we(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}if(r=oc,r=be(e,e===(t=sc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),s=e.callbackNode,0===r||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==s&&null!==s&&X(s),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||ye(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==s&&X(s),Pe(r)){case 2:case 8:r=ne;break;case 32:default:r=oe;break;case 268435456:r=ie}return s=Ld.bind(null,e),r=Q(r,s),e.callbackPriority=t,e.callbackNode=r,t}return null!==s&&null!==s&&X(s),e.callbackPriority=2,e.callbackNode=null,2}function Ld(e,t){if(0!==Sc&&5!==Sc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(id()&&e.callbackNode!==r)return null;var s=oc;return 0===(s=be(e,e===sc?s:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ic(e,s,t),Cd(e,te()),null!=e.callbackNode&&e.callbackNode===r?Ld.bind(null,e):null)}function Ed(e,t){if(id())return null;Ic(e,t,!0)}function Pd(){return 0===wd&&(wd=je()),wd}function _d(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Md(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Td=0;Td<ys.length;Td++){var Od=ys[Td];ws(Od.toLowerCase(),"on"+(Od[0].toUpperCase()+Od.slice(1)))}ws(ms,"onAnimationEnd"),ws(hs,"onAnimationIteration"),ws(ps,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(gs,"onTransitionRun"),ws(fs,"onTransitionStart"),ws(xs,"onTransitionCancel"),ws(vs,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ad));function Dd(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var a=s.length-1;0<=a;a--){var i=s[a],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&n.isPropagationStopped())break e;o=i,n.currentTarget=c;try{o(n)}catch(d){xi(d)}n.currentTarget=null,o=l}else for(a=0;a<s.length;a++){if(l=(i=s[a]).instance,c=i.currentTarget,i=i.listener,l!==o&&n.isPropagationStopped())break e;o=i,n.currentTarget=c;try{o(n)}catch(d){xi(d)}n.currentTarget=null,o=l}}}}function Id(e,t){var r=t[Re];void 0===r&&(r=t[Re]=new Set);var s=e+"__bubble";r.has(s)||(Ud(t,e,2,!1),r.add(s))}function zd(e,t,r){var s=0;t&&(s|=4),Ud(r,e,s,t)}var Fd="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Fd]){e[Fd]=!0,qe.forEach((function(t){"selectionchange"!==t&&(Rd.has(t)||zd(t,!1,e),zd(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fd]||(t[Fd]=!0,zd("selectionchange",!1,t))}}function Ud(e,t,r,s){switch(cm(t)){case 2:var n=sm;break;case 8:n=nm;break;default:n=om}r=n.bind(null,t,r,e),n=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),s?void 0!==n?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):void 0!==n?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function $d(e,t,r,s,n){var o=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var a=s.tag;if(3===a||4===a){var i=s.stateNode.containerInfo;if(i===n)break;if(4===a)for(a=s.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===n)return;a=a.return}for(;null!==i;){if(null===(a=Ue(i)))return;if(5===(c=a.tag)||6===c||26===c||27===c){s=o=a;continue e}i=i.parentNode}}s=s.return}Dt((function(){var s=o,n=Mt(r),a=[];e:{var i=bs.get(e);if(void 0!==i){var c=Jt,d=e;switch(e){case"keypress":if(0===Ht(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":d="focus",c=or;break;case"focusout":d="blur",c=or;break;case"beforeblur":case"afterblur":c=or;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=nr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=fr;break;case ms:case hs:case ps:c=ar;break;case vs:c=xr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=vr;break;case"copy":case"cut":case"paste":c=ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gr;break;case"toggle":case"beforetoggle":c=br}var u=0!==(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==i?i+"Capture":null:i;u=[];for(var p,g=s;null!==g;){var f=g;if(p=f.stateNode,5!==(f=f.tag)&&26!==f&&27!==f||null===p||null===h||null!=(f=It(g,h))&&u.push(Wd(g,f,p)),m)break;g=g.return}0<u.length&&(i=new c(i,d,null,r,n),a.push({event:i,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===_t||!(d=r.relatedTarget||r.fromElement)||!Ue(d)&&!d[Ae])&&(c||i)&&(i=n.window===n?n:(i=n.ownerDocument)?i.defaultView||i.parentWindow:window,c?(c=s,null!==(d=(d=r.relatedTarget||r.toElement)?Ue(d):null)&&(m=l(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=s),c!==d)){if(u=sr,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=gr,f="onPointerLeave",h="onPointerEnter",g="pointer"),m=null==c?i:We(c),p=null==d?i:We(d),(i=new u(f,g+"leave",c,r,n)).target=m,i.relatedTarget=p,f=null,Ue(n)===s&&((u=new u(h,g+"enter",d,r,n)).target=p,u.relatedTarget=m,f=u),m=f,c&&d)e:{for(h=d,g=0,p=u=c;p;p=Hd(p))g++;for(p=0,f=h;f;f=Hd(f))p++;for(;0<g-p;)u=Hd(u),g--;for(;0<p-g;)h=Hd(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=Hd(u),h=Hd(h)}u=null}else u=null;null!==c&&qd(a,i,c,u,!1),null!==d&&null!==m&&qd(a,m,d,u,!0)}if("select"===(c=(i=s?We(s):window).nodeName&&i.nodeName.toLowerCase())||"input"===c&&"file"===i.type)var x=Ir;else if(Mr(i))if(zr)x=Gr;else{x=Hr;var v=Vr}else!(c=i.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?s&&Ct(s.elementType)&&(x=Ir):x=qr;switch(x&&(x=x(e,s))?Tr(a,x,r,n):(v&&v(e,i,s),"focusout"===e&&s&&"number"===i.type&&null!=s.memoizedProps.value&&vt(i,"number",i.value)),v=s?We(s):window,e){case"focusin":(Mr(v)||"true"===v.contentEditable)&&(rs=v,ss=s,ns=null);break;case"focusout":ns=ss=rs=null;break;case"mousedown":os=!0;break;case"contextmenu":case"mouseup":case"dragend":os=!1,as(a,r,n);break;case"selectionchange":if(ts)break;case"keydown":case"keyup":as(a,r,n)}var b;if(wr)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Pr?Lr(e,r)&&(y="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(y="onCompositionStart");y&&(kr&&"ko"!==r.locale&&(Pr||"onCompositionStart"!==y?"onCompositionEnd"===y&&Pr&&(b=Vt()):($t="value"in(Ut=n)?Ut.value:Ut.textContent,Pr=!0)),0<(v=Vd(s,y)).length&&(y=new lr(y,e,null,r,n),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Er(r))&&(y.data=b))),(b=Nr?function(e,t){switch(e){case"compositionend":return Er(t);case"keypress":return 32!==t.which?null:(Cr=!0,Sr);case"textInput":return(e=t.data)===Sr&&Cr?null:e;default:return null}}(e,r):function(e,t){if(Pr)return"compositionend"===e||!wr&&Lr(e,t)?(e=Vt(),Wt=$t=Ut=null,Pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(y=Vd(s,"onBeforeInput")).length&&(v=new lr("onBeforeInput","beforeinput",null,r,n),a.push({event:v,listeners:y}),v.data=b)),function(e,t,r,s,n){if("submit"===t&&r&&r.stateNode===n){var o=_d((n[Oe]||null).action),a=s.submitter;a&&null!==(t=(t=a[Oe]||null)?_d(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var i=new Jt("action","action",null,s,n);e.push({event:i,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(0!==wd){var e=a?Md(n,a):new FormData(n);Ma(r,{pending:!0,data:e,method:n.method,action:o},null,e)}}else"function"===typeof o&&(i.preventDefault(),e=a?Md(n,a):new FormData(n),Ma(r,{pending:!0,data:e,method:n.method,action:o},o,e))},currentTarget:n}]})}}(a,e,s,r,n)}Dd(a,t)}))}function Wd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vd(e,t){for(var r=t+"Capture",s=[];null!==e;){var n=e,o=n.stateNode;if(5!==(n=n.tag)&&26!==n&&27!==n||null===o||(null!=(n=It(e,r))&&s.unshift(Wd(e,n,o)),null!=(n=It(e,t))&&s.push(Wd(e,n,o))),3===e.tag)return s;e=e.return}return[]}function Hd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function qd(e,t,r,s,n){for(var o=t._reactName,a=[];null!==r&&r!==s;){var i=r,l=i.alternate,c=i.stateNode;if(i=i.tag,null!==l&&l===s)break;5!==i&&26!==i&&27!==i||null===c||(l=c,n?null!=(c=It(r,o))&&a.unshift(Wd(r,c,l)):n||null!=(c=It(r,o))&&a.push(Wd(r,c,l))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Gd=/\r\n?/g,Kd=/\u0000|\uFFFD/g;function Yd(e){return("string"===typeof e?e:""+e).replace(Gd,"\n").replace(Kd,"")}function Zd(e,t){return t=Yd(t),Yd(e)===t}function Qd(){}function Xd(e,t,r,s,n,o){switch(r){case"children":"string"===typeof s?"body"===t||"textarea"===t&&""===s||jt(e,s):("number"===typeof s||"bigint"===typeof s)&&"body"!==t&&jt(e,""+s);break;case"className":rt(e,"class",s);break;case"tabIndex":rt(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,s);break;case"style":St(e,s,o);break;case"data":if("object"!==t){rt(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==s||"function"===typeof s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(r);break}s=Pt(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if("function"===typeof s){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===r?("input"!==t&&Xd(e,t,"name",n.name,n,null),Xd(e,t,"formEncType",n.formEncType,n,null),Xd(e,t,"formMethod",n.formMethod,n,null),Xd(e,t,"formTarget",n.formTarget,n,null)):(Xd(e,t,"encType",n.encType,n,null),Xd(e,t,"method",n.method,n,null),Xd(e,t,"target",n.target,n,null))),null==s||"symbol"===typeof s||"boolean"===typeof s){e.removeAttribute(r);break}s=Pt(""+s),e.setAttribute(r,s);break;case"onClick":null!=s&&(e.onclick=Qd);break;case"onScroll":null!=s&&Id("scroll",e);break;case"onScrollEnd":null!=s&&Id("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(a(61));if(null!=(r=s.__html)){if(null!=n.children)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"muted":e.muted=s&&"function"!==typeof s&&"symbol"!==typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"===typeof s||"boolean"===typeof s||"symbol"===typeof s){e.removeAttribute("xlink:href");break}r=Pt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===s?e.setAttribute(r,""):!1!==s&&null!=s&&"function"!==typeof s&&"symbol"!==typeof s?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":null==s||"function"===typeof s||"symbol"===typeof s||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Id("beforetoggle",e),Id("toggle",e),tt(e,"popover",s);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":tt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=Lt.get(r)||r,s)}}function Jd(e,t,r,s,n,o){switch(r){case"style":St(e,s,o);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!==typeof s||!("__html"in s))throw Error(a(61));if(null!=(r=s.__html)){if(null!=n.children)throw Error(a(60));e.innerHTML=r}}break;case"children":"string"===typeof s?jt(e,s):("number"===typeof s||"bigint"===typeof s)&&jt(e,""+s);break;case"onScroll":null!=s&&Id("scroll",e);break;case"onScrollEnd":null!=s&&Id("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(n=r.endsWith("Capture"),t=r.slice(2,n?r.length-7:void 0),"function"===typeof(o=null!=(o=e[Oe]||null)?o[r]:null)&&e.removeEventListener(t,o,n),"function"!==typeof s)?r in e?e[r]=s:!0===s?e.setAttribute(r,""):tt(e,r,s):("function"!==typeof o&&null!==o&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,n)))}}function eu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Id("error",e),Id("load",e);var s,n=!1,o=!1;for(s in r)if(r.hasOwnProperty(s)){var i=r[s];if(null!=i)switch(s){case"src":n=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xd(e,t,s,i,r,null)}}return o&&Xd(e,t,"srcSet",r.srcSet,r,null),void(n&&Xd(e,t,"src",r.src,r,null));case"input":Id("invalid",e);var l=s=i=o=null,c=null,d=null;for(n in r)if(r.hasOwnProperty(n)){var u=r[n];if(null!=u)switch(n){case"name":o=u;break;case"type":i=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(a(137,t));break;default:Xd(e,t,n,u,r,null)}}return xt(e,s,l,c,d,i,o,!1),void ut(e);case"select":for(o in Id("invalid",e),n=i=s=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"multiple":n=l;default:Xd(e,t,o,l,r,null)}return t=s,r=i,e.multiple=!!n,void(null!=t?bt(e,!!n,t,!1):null!=r&&bt(e,!!n,r,!0));case"textarea":for(i in Id("invalid",e),s=o=n=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":n=l;break;case"defaultValue":o=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xd(e,t,i,l,r,null)}return wt(e,n,o,s),void ut(e);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(n=r[c]))if("selected"===c)e.selected=n&&"function"!==typeof n&&"symbol"!==typeof n;else Xd(e,t,c,n,r,null);return;case"dialog":Id("beforetoggle",e),Id("toggle",e),Id("cancel",e),Id("close",e);break;case"iframe":case"object":Id("load",e);break;case"video":case"audio":for(n=0;n<Ad.length;n++)Id(Ad[n],e);break;case"image":Id("error",e),Id("load",e);break;case"details":Id("toggle",e);break;case"embed":case"source":case"link":Id("error",e),Id("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(n=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xd(e,t,d,n,r,null)}return;default:if(Ct(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(n=r[u])&&Jd(e,t,u,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(n=r[l])&&Xd(e,t,l,n,r,null))}var tu=null,ru=null;function su(e){return 9===e.nodeType?e:e.ownerDocument}function nu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ou(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function au(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var iu=null;var lu="function"===typeof setTimeout?setTimeout:void 0,cu="function"===typeof clearTimeout?clearTimeout:void 0,du="function"===typeof Promise?Promise:void 0,uu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof du?function(e){return du.resolve(null).then(e).catch(mu)}:lu;function mu(e){setTimeout((function(){throw e}))}function hu(e){return"head"===e}function pu(e,t){var r=t,s=0,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&8===o.nodeType)if("/$"===(r=o.data)){if(0<s&&8>s){r=s;var a=e.ownerDocument;if(1&r&&wu(a.documentElement),2&r&&wu(a.body),4&r)for(wu(r=a.head),a=r.firstChild;a;){var i=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=i}}if(0===n)return e.removeChild(o),void Lm(t);n--}else"$"===r||"$?"===r||"$!"===r?n++:s=r.charCodeAt(0)-48;else s=0;r=o}while(r);Lm(t)}function gu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gu(r),Be(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function fu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vu=null;function bu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function yu(e,t,r){switch(t=su(r),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var ju=new Map,Nu=new Set;function ku(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Su=R.d;R.d={f:function(){var e=Su.f(),t=Uc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Oa(t):Su.r(e)},D:function(e){Su.D(e),Lu("dns-prefetch",e,null)},C:function(e,t){Su.C(e,t),Lu("preconnect",e,t)},L:function(e,t,r){Su.L(e,t,r);var s=Cu;if(s&&e&&t){var n='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(n+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(n+='[imagesizes="'+gt(r.imageSizes)+'"]')):n+='[href="'+gt(e)+'"]';var o=n;switch(t){case"style":o=Pu(e);break;case"script":o=Tu(e)}ju.has(o)||(e=m({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),ju.set(o,e),null!==s.querySelector(n)||"style"===t&&s.querySelector(_u(o))||"script"===t&&s.querySelector(Ou(o))||(eu(t=s.createElement("link"),"link",e),He(t),s.head.appendChild(t)))}},m:function(e,t){Su.m(e,t);var r=Cu;if(r&&e){var s=t&&"string"===typeof t.as?t.as:"script",n='link[rel="modulepreload"][as="'+gt(s)+'"][href="'+gt(e)+'"]',o=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Tu(e)}if(!ju.has(o)&&(e=m({rel:"modulepreload",href:e},t),ju.set(o,e),null===r.querySelector(n))){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ou(o)))return}eu(s=r.createElement("link"),"link",e),He(s),r.head.appendChild(s)}}},X:function(e,t){Su.X(e,t);var r=Cu;if(r&&e){var s=Ve(r).hoistableScripts,n=Tu(e),o=s.get(n);o||((o=r.querySelector(Ou(n)))||(e=m({src:e,async:!0},t),(t=ju.get(n))&&Iu(e,t),He(o=r.createElement("script")),eu(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(n,o))}},S:function(e,t,r){Su.S(e,t,r);var s=Cu;if(s&&e){var n=Ve(s).hoistableStyles,o=Pu(e);t=t||"default";var a=n.get(o);if(!a){var i={loading:0,preload:null};if(a=s.querySelector(_u(o)))i.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},r),(r=ju.get(o))&&Du(e,r);var l=a=s.createElement("link");He(l),eu(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){i.loading|=1})),l.addEventListener("error",(function(){i.loading|=2})),i.loading|=4,Ru(a,t,s)}a={type:"stylesheet",instance:a,count:1,state:i},n.set(o,a)}}},M:function(e,t){Su.M(e,t);var r=Cu;if(r&&e){var s=Ve(r).hoistableScripts,n=Tu(e),o=s.get(n);o||((o=r.querySelector(Ou(n)))||(e=m({src:e,async:!0,type:"module"},t),(t=ju.get(n))&&Iu(e,t),He(o=r.createElement("script")),eu(o,"link",e),r.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(n,o))}}};var Cu="undefined"===typeof document?null:document;function Lu(e,t,r){var s=Cu;if(s&&"string"===typeof t&&t){var n=gt(t);n='link[rel="'+e+'"][href="'+n+'"]',"string"===typeof r&&(n+='[crossorigin="'+r+'"]'),Nu.has(n)||(Nu.add(n),e={rel:e,crossOrigin:r,href:t},null===s.querySelector(n)&&(eu(t=s.createElement("link"),"link",e),He(t),s.head.appendChild(t)))}}function Eu(e,t,r,s){var n,o,i,l,c=(c=V.current)?ku(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Pu(r.href),(s=(r=Ve(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Pu(r.href);var d=Ve(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(_u(e)))&&!d._p&&(u.instance=d,u.state.loading=5),ju.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ju.set(e,r),d||(n=c,o=e,i=r,l=u.state,n.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=n.createElement("link"),l.preload=o,o.addEventListener("load",(function(){return l.loading|=1})),o.addEventListener("error",(function(){return l.loading|=2})),eu(o,"link",i),He(o),n.head.appendChild(o))))),t&&null===s)throw Error(a(528,""));return u}if(t&&null!==s)throw Error(a(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Tu(r),(s=(r=Ve(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Pu(e){return'href="'+gt(e)+'"'}function _u(e){return'link[rel="stylesheet"]['+e+"]"}function Mu(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Tu(e){return'[src="'+gt(e)+'"]'}function Ou(e){return"script[async]"+e}function Au(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(s)return t.instance=s,He(s),s;var n=m({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return He(s=(e.ownerDocument||e).createElement("style")),eu(s,"style",n),Ru(s,r.precedence,e),t.instance=s;case"stylesheet":n=Pu(r.href);var o=e.querySelector(_u(n));if(o)return t.state.loading|=4,t.instance=o,He(o),o;s=Mu(r),(n=ju.get(n))&&Du(s,n),He(o=(e.ownerDocument||e).createElement("link"));var i=o;return i._p=new Promise((function(e,t){i.onload=e,i.onerror=t})),eu(o,"link",s),t.state.loading|=4,Ru(o,r.precedence,e),t.instance=o;case"script":return o=Tu(r.src),(n=e.querySelector(Ou(o)))?(t.instance=n,He(n),n):(s=r,(n=ju.get(o))&&Iu(s=m({},r),n),He(n=(e=e.ownerDocument||e).createElement("script")),eu(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Ru(s,r.precedence,e));return t.instance}function Ru(e,t,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,o=n,a=0;a<s.length;a++){var i=s[a];if(i.dataset.precedence===t)o=i;else if(o!==n)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Du(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Iu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zu=null;function Fu(e,t,r){if(null===zu){var s=new Map,n=zu=new Map;n.set(r,s)}else(s=(n=zu).get(r))||(s=new Map,n.set(r,s));if(s.has(e))return s;for(s.set(e,null),r=r.getElementsByTagName(e),n=0;n<r.length;n++){var o=r[n];if(!(o[Fe]||o[Te]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var i=s.get(a);i?i.push(o):s.set(a,[o])}}return s}function Bu(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $u=null;function Wu(){}function Vu(){if(this.count--,0===this.count)if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hu=null;function qu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hu=new Map,t.forEach(Gu,e),Hu=null,Vu.call(e))}function Gu(e,t){if(!(4&t.state.loading)){var r=Hu.get(e);if(r)var s=r.get(null);else{r=new Map,Hu.set(e,r);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<n.length;o++){var a=n[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(r.set(a.dataset.precedence,a),s=a)}s&&r.set(null,s)}a=(n=t.instance).getAttribute("data-precedence"),(o=r.get(a)||s)===s&&r.set(null,n),r.set(a,n),this.count++,s=Vu.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),o?o.parentNode.insertBefore(n,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(n,e.firstChild),t.state.loading|=4}}var Ku={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Yu(e,t,r,s,n,o,a,i){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Zu(e,t,r,s,n,o,a,i,l,c,d,u){return e=new Yu(e,t,r,a,i,l,c,u),t=1,!0===o&&(t|=24),o=Rs(3,null,null,t),e.current=o,o.stateNode=e,(t=On()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:s,isDehydrated:r,cache:t},ro(o),e}function Qu(e){return e?e=Os:Os}function Xu(e,t,r,s,n,o){n=Qu(n),null===s.context?s.context=n:s.pendingContext=n,(s=no(t)).payload={element:r},null!==(o=void 0===o?null:o)&&(s.callback=o),null!==(r=oo(e,s,t))&&(Dc(r,0,t),ao(r,e,t))}function Ju(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function em(e,t){Ju(e,t),(e=e.alternate)&&Ju(e,t)}function tm(e){if(13===e.tag){var t=_s(e,67108864);null!==t&&Dc(t,0,67108864),em(e,67108864)}}var rm=!0;function sm(e,t,r,s){var n=A.T;A.T=null;var o=R.p;try{R.p=2,om(e,t,r,s)}finally{R.p=o,A.T=n}}function nm(e,t,r,s){var n=A.T;A.T=null;var o=R.p;try{R.p=8,om(e,t,r,s)}finally{R.p=o,A.T=n}}function om(e,t,r,s){if(rm){var n=am(s);if(null===n)$d(e,t,s,im,r),vm(e,s);else if(function(e,t,r,s,n){switch(t){case"focusin":return um=bm(um,e,t,r,s,n),!0;case"dragenter":return mm=bm(mm,e,t,r,s,n),!0;case"mouseover":return hm=bm(hm,e,t,r,s,n),!0;case"pointerover":var o=n.pointerId;return pm.set(o,bm(pm.get(o)||null,e,t,r,s,n)),!0;case"gotpointercapture":return o=n.pointerId,gm.set(o,bm(gm.get(o)||null,e,t,r,s,n)),!0}return!1}(n,e,t,r,s))s.stopPropagation();else if(vm(e,s),4&t&&-1<xm.indexOf(e)){for(;null!==n;){var o=$e(n);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var i=o;for(i.pendingLanes|=2,i.entangledLanes|=2;a;){var l=1<<31-he(a);i.entanglements[1]|=l,a&=~l}jd(o),0===(6&rc)&&(jc=te()+500,Nd(0,!1))}}break;case 13:null!==(i=_s(o,2))&&Dc(i,0,2),Uc(),em(o,2)}if(null===(o=am(s))&&$d(e,t,s,im,r),o===n)break;n=o}null!==n&&s.stopPropagation()}else $d(e,t,s,null,r)}}function am(e){return lm(e=Mt(e))}var im=null;function lm(e){if(im=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return im=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case se:return 2;case ne:return 8;case oe:case ae:return 32;case ie:return 268435456;default:return 32}default:return 32}}var dm=!1,um=null,mm=null,hm=null,pm=new Map,gm=new Map,fm=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":um=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":hm=null;break;case"pointerover":case"pointerout":pm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gm.delete(t.pointerId)}}function bm(e,t,r,s,n,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[n]},null!==t&&(null!==(t=$e(t))&&tm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function ym(e){var t=Ue(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void function(e,t){var r=R.p;try{return R.p=e,t()}finally{R.p=r}}(e.priority,(function(){if(13===r.tag){var e=Ac();e=Ee(e);var t=_s(r,e);null!==t&&Dc(t,0,e),em(r,e)}}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=am(e.nativeEvent);if(null!==r)return null!==(t=$e(r))&&tm(t),e.blockedOn=r,!1;var s=new(r=e.nativeEvent).constructor(r.type,r);_t=s,r.target.dispatchEvent(s),_t=null,t.shift()}return!0}function jm(e,t,r){wm(e)&&r.delete(t)}function Nm(){dm=!1,null!==um&&wm(um)&&(um=null),null!==mm&&wm(mm)&&(mm=null),null!==hm&&wm(hm)&&(hm=null),pm.forEach(jm),gm.forEach(jm)}function km(e,t){e.blockedOn===t&&(e.blockedOn=null,dm||(dm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Nm)))}var Sm=null;function Cm(e){Sm!==e&&(Sm=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,(function(){Sm===e&&(Sm=null);for(var t=0;t<e.length;t+=3){var r=e[t],s=e[t+1],n=e[t+2];if("function"!==typeof s){if(null===lm(s||r))continue;break}var o=$e(r);null!==o&&(e.splice(t,3),t-=3,Ma(o,{pending:!0,data:n,method:r.method,action:s},s,n))}})))}function Lm(e){function t(t){return km(t,e)}null!==um&&km(um,e),null!==mm&&km(mm,e),null!==hm&&km(hm,e),pm.forEach(t),gm.forEach(t);for(var r=0;r<fm.length;r++){var s=fm[r];s.blockedOn===e&&(s.blockedOn=null)}for(;0<fm.length&&null===(r=fm[0]).blockedOn;)ym(r),null===r.blockedOn&&fm.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(s=0;s<r.length;s+=3){var n=r[s],o=r[s+1],a=n[Oe]||null;if("function"===typeof o)a||Cm(r);else if(a){var i=null;if(o&&o.hasAttribute("formAction")){if(n=o,a=o[Oe]||null)i=a.formAction;else if(null!==lm(n))continue}else i=a.action;"function"===typeof i?r[s+1]=i:(r.splice(s,3),s-=3),Cm(r)}}}function Em(e){this._internalRoot=e}function Pm(e){this._internalRoot=e}Pm.prototype.render=Em.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xu(t.current,Ac(),e,t,null,null)},Pm.prototype.unmount=Em.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xu(e.current,2,null,e,null,null),Uc(),t[Ae]=null}},Pm.prototype.unstable_scheduleHydration=function(e){if(e){var t=_e();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fm.length&&0!==t&&t<fm[r].priority;r++);fm.splice(r,0,e),0===r&&ym(e)}};var _m=n.version;if("19.1.0"!==_m)throw Error(a(527,_m,"19.1.0"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(s=n.return)){r=s;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return d(n),e;if(o===s)return d(n),t;o=o.sibling}throw Error(a(188))}if(r.return!==s.return)r=n,s=o;else{for(var i=!1,c=n.child;c;){if(c===r){i=!0,r=n,s=o;break}if(c===s){i=!0,s=n,r=o;break}c=c.sibling}if(!i){for(c=o.child;c;){if(c===r){i=!0,r=o,s=n;break}if(c===s){i=!0,s=o,r=n;break}c=c.sibling}if(!i)throw Error(a(189))}}if(r.alternate!==s)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Mm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{de=Tm.inject(Mm),ue=Tm}catch(Am){}}t.createRoot=function(e,t){if(!i(e))throw Error(a(299));var r=!1,s="",n=vi,o=bi,l=yi;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(n=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zu(e,1,!1,null,0,r,s,n,o,l,0,null),e[Ae]=t.current,Bd(e),new Em(t)},t.hydrateRoot=function(e,t,r){if(!i(e))throw Error(a(299));var s=!1,n="",o=vi,l=bi,c=yi,d=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(n=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(d=r.formState)),(t=Zu(e,1,!0,t,0,s,n,o,l,c,0,d)).context=Qu(null),r=t.current,(n=no(s=Ee(s=Ac()))).callback=null,oo(r,n,s),r=s,t.current.lanes=r,Se(t,r),jd(t),e[Ae]=t.current,Bd(e),new Pm(t)},t.version="19.1.0"},119:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(863)},138:(e,t)=>{"use strict";var r="function"===typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,n=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116,x=r?Symbol.for("react.block"):60121,v=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,y=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case d:case u:case o:case i:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case m:case f:case g:case l:return e;default:return t}}case n:return t}}}function j(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=s,t.ForwardRef=m,t.Fragment=o,t.Lazy=f,t.Memo=g,t.Portal=n,t.Profiler=i,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return j(e)||w(e)===d},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return w(e)===m},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===f},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===n},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===u||e===i||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===m||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===x)},t.typeOf=w},340:(e,t,r)=>{"use strict";e.exports=r(487)},352:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(85)},414:(e,t,r)=>{"use strict";e.exports=r(916)},487:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var s=r-1>>>1,n=e[s];if(!(0<o(n,t)))break e;e[s]=t,e[r]=n,r=s}}function s(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var s=0,n=e.length,a=n>>>1;s<a;){var i=2*(s+1)-1,l=e[i],c=i+1,d=e[c];if(0>o(l,r))c<n&&0>o(d,l)?(e[s]=d,e[c]=r,s=c):(e[s]=l,e[i]=r,s=i);else{if(!(c<n&&0>o(d,r)))break e;e[s]=d,e[c]=r,s=c}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,g=!1,f=!1,x=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=s(d);null!==t;){if(null===t.callback)n(d);else{if(!(t.startTime<=e))break;n(d),t.sortIndex=t.expirationTime,r(c,t)}t=s(d)}}function j(e){if(f=!1,w(e),!g)if(null!==s(c))g=!0,k||(k=!0,N());else{var t=s(d);null!==t&&T(j,t.startTime-e)}}var N,k=!1,S=-1,C=5,L=-1;function E(){return!!x||!(t.unstable_now()-L<C)}function P(){if(x=!1,k){var e=t.unstable_now();L=e;var r=!0;try{e:{g=!1,f&&(f=!1,b(S),S=-1),p=!0;var o=h;try{t:{for(w(e),m=s(c);null!==m&&!(m.expirationTime>e&&E());){var a=m.callback;if("function"===typeof a){m.callback=null,h=m.priorityLevel;var i=a(m.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof i){m.callback=i,w(e),r=!0;break t}m===s(c)&&n(c),w(e)}else n(c);m=s(c)}if(null!==m)r=!0;else{var l=s(d);null!==l&&T(j,l.startTime-e),r=!1}}break e}finally{m=null,h=o,p=!1}r=void 0}}finally{r?N():k=!1}}}if("function"===typeof y)N=function(){y(P)};else if("undefined"!==typeof MessageChannel){var _=new MessageChannel,M=_.port2;_.port1.onmessage=P,N=function(){M.postMessage(null)}}else N=function(){v(P,0)};function T(e,r){S=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,n,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:n,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>a?(e.sortIndex=o,r(d,e),null===s(c)&&e===s(d)&&(f?(b(S),S=-1):f=!0,T(j,o-a))):(e.sortIndex=i,r(c,e),g||p||(g=!0,k||(k=!0,N()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},551:e=>{function t(e,t){var r=e.length,s=new Array(r),n={},o=r,a=function(e){for(var t=new Map,r=0,s=e.length;r<s;r++){var n=e[r];t.has(n[0])||t.set(n[0],new Set),t.has(n[1])||t.set(n[1],new Set),t.get(n[0]).add(n[1])}return t}(t),i=function(e){for(var t=new Map,r=0,s=e.length;r<s;r++)t.set(e[r],r);return t}(e);for(t.forEach((function(e){if(!i.has(e[0])||!i.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)n[o]||l(e[o],o,new Set);return s;function l(e,t,o){if(o.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(m){c=""}throw new Error("Cyclic dependency"+c)}if(!i.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!n[t]){n[t]=!0;var d=a.get(e)||new Set;if(t=(d=Array.from(d)).length){o.add(e);do{var u=d[--t];l(u,i.get(u),o)}while(t);o.delete(e)}s[--r]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,r=0,s=e.length;r<s;r++){var n=e[r];t.add(n[0]),t.add(n[1])}return Array.from(t)}(e),e)},e.exports.array=t},599:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function c(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},630:(e,t,r)=>{"use strict";e.exports=r(138)},816:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,r=e=>e.match(t)||[],s=e=>e[0].toUpperCase()+e.slice(1),n=(e,t)=>r(e).join(t).toLowerCase(),o=e=>r(e).reduce(((e,t)=>`${e}${e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()}`),"");e.exports={words:r,upperFirst:s,camelCase:o,pascalCase:e=>s(o(e)),snakeCase:e=>n(e,"_"),kebabCase:e=>n(e,"-"),sentenceCase:e=>s(n(e," ")),titleCase:e=>r(e).map(s).join(" ")}},863:(e,t,r)=>{"use strict";var s=r(950);function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},i=Symbol.for("react.portal");var l=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(n(299));return function(e,t,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==s?null:""+s,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=r,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,s=c(r,t.crossOrigin),n="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:s,integrity:n,fetchPriority:o}):"script"===r&&a.d.X(e,{crossOrigin:s,integrity:n,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,s=c(r,t.crossOrigin);a.d.L(e,r,{crossOrigin:s,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},876:(e,t,r)=>{"use strict";var s=r(630),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return s.isMemo(e)?a:i[e.$$typeof]||n}i[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[s.Memo]=a;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,s){if("string"!==typeof r){if(p){var n=h(r);n&&n!==p&&e(t,n,s)}var a=d(r);u&&(a=a.concat(u(r)));for(var i=l(t),g=l(r),f=0;f<a.length;++f){var x=a[f];if(!o[x]&&(!s||!s[x])&&(!g||!g[x])&&(!i||!i[x])){var v=m(r,x);try{c(t,x,v)}catch(b){}}}}return t}},901:e=>{"use strict";var t=Array.isArray,r=Object.keys,s=Object.prototype.hasOwnProperty,n="undefined"!==typeof Element;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){var i,l,c,d=t(e),u=t(a);if(d&&u){if((l=e.length)!=a.length)return!1;for(i=l;0!==i--;)if(!o(e[i],a[i]))return!1;return!0}if(d!=u)return!1;var m=e instanceof Date,h=a instanceof Date;if(m!=h)return!1;if(m&&h)return e.getTime()==a.getTime();var p=e instanceof RegExp,g=a instanceof RegExp;if(p!=g)return!1;if(p&&g)return e.toString()==a.toString();var f=r(e);if((l=f.length)!==r(a).length)return!1;for(i=l;0!==i--;)if(!s.call(a,f[i]))return!1;if(n&&e instanceof Element&&a instanceof Element)return e===a;for(i=l;0!==i--;)if(("_owner"!==(c=f[i])||!e.$$typeof)&&!o(e[c],a[c]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||-2146828260===r.number)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}},916:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function n(e,t,s){var n=null;if(void 0!==s&&(n=""+s),void 0!==t.key&&(n=""+t.key),"key"in t)for(var o in s={},t)"key"!==o&&(s[o]=t[o]);else s=t;return t=s.ref,{$$typeof:r,type:e,key:n,ref:void 0!==t?t:null,props:s}}t.Fragment=s,t.jsx=n,t.jsxs=n},950:(e,t,r)=>{"use strict";e.exports=r(983)},974:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,s=/^\d+$/,n=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,i=new t(512),l=new t(512),c=new t(512);function d(e){return i.get(e)||i.set(e,u(e).map((function(e){return e.replace(a,"$2")})))}function u(e){return e.match(r)||[""]}function m(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!m(e)&&(function(e){return e.match(n)&&!e.match(s)}(e)||function(e){return o.test(e)}(e))}e.exports={Cache:t,split:u,normalizePath:d,setter:function(e){var t=d(e);return l.get(e)||l.set(e,(function(e,r){for(var s=0,n=t.length,o=e;s<n-1;){var a=t[s];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;o=o[t[s++]]}o[t[s]]=r}))},getter:function(e,t){var r=d(e);return c.get(e)||c.set(e,(function(e){for(var s=0,n=r.length;s<n;){if(null==e&&t)return;e=e[r[s++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(m(t)||s.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,r){!function(e,t,r){var s,n,o,a,i=e.length;for(n=0;n<i;n++)(s=e[n])&&(h(s)&&(s='"'+s+'"'),o=!(a=m(s))&&/^\d+$/.test(s),t.call(r,s,a,o,n,e))}(Array.isArray(e)?e:u(e),t,r)}}},983:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function x(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=b.prototype=new v;y.constructor=b,g(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function k(e,t,s,n,o,a){return s=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==s?s:null,props:a}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function P(e,t,n,o,a){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(i){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case r:case s:d=!0;break;case m:return P((d=e._init)(e._payload),t,n,o,a)}}if(d)return a=a(e),d=""===o?"."+L(e,0):o,w(a)?(n="",null!=d&&(n=d.replace(C,"$&/")+"/"),P(a,t,n,"",(function(e){return e}))):null!=a&&(S(a)&&(l=a,c=n+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+d,a=k(l.type,c,void 0,0,0,l.props)),t.push(a)),1;d=0;var u,p=""===o?".":o+":";if(w(e))for(var g=0;g<e.length;g++)d+=P(o=e[g],t,n,i=p+L(o,g),a);else if("function"===typeof(g=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=h&&u[h]||u["@@iterator"])?u:null))for(e=g.call(e),g=0;!(o=e.next()).done;)d+=P(o=o.value,t,n,i=p+L(o,g++),a);else if("object"===i){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function _(e,t,r){if(null==e)return e;var s=[],n=0;return P(e,s,"","",(function(e){return t.call(r,e,n++)})),s}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:_,forEach:function(e,t,r){_(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=n,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var s=g({},e.props),n=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(n=""+t.key),t)!N.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(s[o]=t[o]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var a=Array(o),i=0;i<o;i++)a[i]=arguments[i+2];s.children=a}return k(e.type,n,void 0,0,0,s)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:i,_context:e},e},t.createElement=function(e,t,r){var s,n={},o=null;if(null!=t)for(s in void 0!==t.key&&(o=""+t.key),t)N.call(t,s)&&"key"!==s&&"__self"!==s&&"__source"!==s&&(n[s]=t[s]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var i=Array(a),l=0;l<a;l++)i[l]=arguments[l+2];n.children=i}if(e&&e.defaultProps)for(s in a=e.defaultProps)void 0===n[s]&&(n[s]=a[s]);return k(e,o,void 0,0,0,n)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,r={};j.T=r;try{var s=e(),n=j.S;null!==n&&n(r,s),"object"===typeof s&&null!==s&&"function"===typeof s.then&&s.then(O,T)}catch(o){T(o)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,r){return j.H.useActionState(e,t,r)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var s=j.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,r){return j.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return j.H.useReducer(e,t,r)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return j.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.0"}},t={};function r(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,r),o.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>"static/js/"+e+".ee436173.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="zammer-frontend:";r.l=(s,n,o,a)=>{if(e[s])e[s].push(n);else{var i,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[n];var m=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var n=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="./",(()=>{var e={792:0};r.f.j=(t,s)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var o=new Promise(((r,s)=>n=e[t]=[r,s]));s.push(n[2]=o);var a=r.p+r.u(t),i=new Error;r.l(a,(s=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,n[1](i)}}),"chunk-"+t,t)}};var t=(t,s)=>{var n,o,a=s[0],i=s[1],l=s[2],c=0;if(a.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)l(r)}for(t&&t(s);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},s=self.webpackChunkzammer_frontend=self.webpackChunkzammer_frontend||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>ls,hasStandardBrowserEnv:()=>ds,hasStandardBrowserWebWorkerEnv:()=>us,navigator:()=>cs,origin:()=>ms});var t={};r.r(t),r.d(t,{Decoder:()=>mm,Encoder:()=>dm,PacketType:()=>cm,protocol:()=>lm});var s=r(950),n=r(352),o=(r(599),"popstate");function a(){return h((function(e,t){let{pathname:r,search:s,hash:n}=e.location;return d("",{pathname:r,search:s,hash:n},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function i(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?m(t):t,state:r,key:t&&t.key||s||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function m(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function h(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:n=document.defaultView,v5Compat:a=!1}=s,i=n.history,l="POP",u=null,m=h();function h(){return(i.state||{idx:null}).idx}function g(){l="POP";let e=h(),t=null==e?null:e-m;m=e,u&&u({action:l,location:x.location,delta:t})}function f(e){return p(e)}null==m&&(m=0,i.replaceState({...i.state,idx:m},""));let x={get action(){return l},get location(){return e(n,i)},listen(e){if(u)throw new Error("A history only accepts one active listener");return n.addEventListener(o,g),u=e,()=>{n.removeEventListener(o,g),u=null}},createHref:e=>t(n,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let s=d(x.location,e,t);r&&r(s,e),m=h()+1;let o=c(s,m),p=x.createHref(s);try{i.pushState(o,"",p)}catch(g){if(g instanceof DOMException&&"DataCloneError"===g.name)throw g;n.location.assign(p)}a&&u&&u({action:l,location:x.location,delta:1})},replace:function(e,t){l="REPLACE";let s=d(x.location,e,t);r&&r(s,e),m=h();let n=c(s,m),o=x.createHref(s);i.replaceState(n,"",o),a&&u&&u({action:l,location:x.location,delta:0})},go:e=>i.go(e)};return x}function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),i(r,"No window.location.(origin|href) available to create URL");let s="string"===typeof e?e:u(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=r+s),new URL(s,r)}new WeakMap;function g(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function f(e,t,r,s){let n=M(("string"===typeof t?m(t):t).pathname||"/",r);if(null==n)return null;let o=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let a=null;for(let i=0;null==a&&i<o.length;++i){let e=_(n);a=L(o[i],e,s)}return a}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=(e,n,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:n,route:e};a.relativePath.startsWith("/")&&(i(a.relativePath.startsWith(s),`Absolute route path "${a.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(s.length));let l=D([s,a.relativePath]),c=r.concat(a);e.children&&e.children.length>0&&(i(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),x(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of v(e.path))n(e,t,r);else n(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===s.length)return n?[o,""]:[o];let a=v(s.join("/")),i=[];return i.push(...a.map((e=>""===e?o:[o,e].join("/")))),n&&i.push(...a),i.map((t=>e.startsWith("/")&&""===t?"/":t))}var b=/^:[\w-]+$/,y=3,w=2,j=1,N=10,k=-2,S=e=>"*"===e;function C(e,t){let r=e.split("/"),s=r.length;return r.some(S)&&(s+=k),t&&(s+=w),r.filter((e=>!S(e))).reduce(((e,t)=>e+(b.test(t)?y:""===t?j:N)),s)}function L(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:s}=e,n={},o="/",a=[];for(let i=0;i<s.length;++i){let e=s[i],l=i===s.length-1,c="/"===o?t:t.slice(o.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!s[s.length-1].route.index&&(d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(n,d.params),a.push({params:n,pathname:D([o,d.pathname]),pathnameBase:I(D([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=D([o,d.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=P(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let o=n[0],a=o.replace(/(.)\/+$/,"$1"),i=n.slice(1),l=s.reduce(((e,t,r)=>{let{paramName:s,isOptional:n}=t;if("*"===s){let e=i[r]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[s]=n&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];l("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(s.push({paramName:"*"}),n+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":""!==e&&"/"!==e&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function T(e,t,r,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e){let t=O(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function R(e,t,r){let s,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?s=m(e):(s={...e},i(!s.pathname||!s.pathname.includes("?"),T("?","pathname","search",s)),i(!s.pathname||!s.pathname.includes("#"),T("#","pathname","hash",s)),i(!s.search||!s.search.includes("#"),T("#","search","hash",s)));let o,a=""===e||""===s.pathname,l=a?"/":s.pathname;if(null==l)o=r;else{let e=t.length-1;if(!n&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:s="",hash:n=""}="string"===typeof e?m(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:z(s),hash:F(n)}}(s,o),d=l&&"/"!==l&&l.endsWith("/"),u=(a||"."===l)&&r.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var D=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var U=["POST","PUT","PATCH","DELETE"],$=(new Set(U),["GET",...U]);new Set($),Symbol("ResetLoaderData");var W=s.createContext(null);W.displayName="DataRouter";var V=s.createContext(null);V.displayName="DataRouterState";var H=s.createContext({isTransitioning:!1});H.displayName="ViewTransition";var q=s.createContext(new Map);q.displayName="Fetchers";var G=s.createContext(null);G.displayName="Await";var K=s.createContext(null);K.displayName="Navigation";var Y=s.createContext(null);Y.displayName="Location";var Z=s.createContext({outlet:null,matches:[],isDataRoute:!1});Z.displayName="Route";var Q=s.createContext(null);Q.displayName="RouteError";function X(){return null!=s.useContext(Y)}function J(){return i(X(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(Y).location}var ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function te(e){s.useContext(K).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(Z);return e?function(){let{router:e}=me("useNavigate"),t=pe("useNavigate"),r=s.useRef(!1);te((()=>{r.current=!0}));let n=s.useCallback((async function(s){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(r.current,ee),r.current&&("number"===typeof s?e.navigate(s):await e.navigate(s,{fromRouteId:t,...n}))}),[e,t]);return n}():function(){i(X(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(W),{basename:t,navigator:r}=s.useContext(K),{matches:n}=s.useContext(Z),{pathname:o}=J(),a=JSON.stringify(A(n)),c=s.useRef(!1);te((()=>{c.current=!0}));let d=s.useCallback((function(s){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(c.current,ee),!c.current)return;if("number"===typeof s)return void r.go(s);let i=R(s,JSON.parse(a),o,"path"===n.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:D([t,i.pathname])),(n.replace?r.replace:r.push)(i,n.state,n)}),[t,r,a,o,e]);return d}()}s.createContext(null);function se(){let{matches:e}=s.useContext(Z),t=e[e.length-1];return t?t.params:{}}function ne(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=s.useContext(Z),{pathname:n}=J(),o=JSON.stringify(A(r));return s.useMemo((()=>R(e,JSON.parse(o),n,"path"===t)),[e,o,n,t])}function oe(e,t,r,n){i(X(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=s.useContext(K),{matches:c}=s.useContext(Z),d=c[c.length-1],u=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",f=d&&d.route;{let e=f&&f.path||"";xe(h,!f||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let x,v=J();if(t){let e="string"===typeof t?m(t):t;i("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),x=e}else x=v;let b=x.pathname||"/",y=b;if("/"!==p){let e=p.replace(/^\//,"").split("/");y="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=!a&&r&&r.matches&&r.matches.length>0?r.matches:g(e,{pathname:y});l(f||null!=w,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),l(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=de(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([p,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:D([p,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,n);return t&&j?s.createElement(Y.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function ae(){let e=ge(),t=B(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:a},"ErrorBoundary")," or"," ",s.createElement("code",{style:a},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:o},r):null,i)}var ie=s.createElement(ae,null),le=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Z.Provider,{value:this.props.routeContext},s.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ce(e){let{routeContext:t,match:r,children:n}=e,o=s.useContext(W);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(Z.Provider,{value:t},n)}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let n=e,o=r?.errors;if(null!=o){let e=n.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));i(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),n=n.slice(0,Math.min(n.length,e+1))}let a=!1,l=-1;if(r)for(let s=0;s<n.length;s++){let e=n[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=s),e.route.id){let{loaderData:t,errors:s}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!s||void 0===s[e.route.id]);if(e.route.lazy||o){a=!0,n=l>=0?n.slice(0,l+1):[n[0]];break}}}return n.reduceRight(((e,i,c)=>{let d,u=!1,m=null,h=null;r&&(d=o&&i.route.id?o[i.route.id]:void 0,m=i.route.errorElement||ie,a&&(l<0&&0===c?(xe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,h=null):l===c&&(u=!0,h=i.route.hydrateFallbackElement||null)));let p=t.concat(n.slice(0,c+1)),g=()=>{let t;return t=d?m:u?h:i.route.Component?s.createElement(i.route.Component,null):i.route.element?i.route.element:e,s.createElement(ce,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:t})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===c)?s.createElement(le,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}function ue(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function me(e){let t=s.useContext(W);return i(t,ue(e)),t}function he(e){let t=s.useContext(V);return i(t,ue(e)),t}function pe(e){let t=function(e){let t=s.useContext(Z);return i(t,ue(e)),t}(e),r=t.matches[t.matches.length-1];return i(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function ge(){let e=s.useContext(Q),t=he("useRouteError"),r=pe("useRouteError");return void 0!==e?e:t.errors?.[r]}var fe={};function xe(e,t,r){t||fe[e]||(fe[e]=!0,l(!1,r))}s.memo((function(e){let{routes:t,future:r,state:s}=e;return oe(t,void 0,s,r)}));function ve(e){let{to:t,replace:r,state:n,relative:o}=e;i(X(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=s.useContext(K);l(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=s.useContext(Z),{pathname:d}=J(),u=re(),m=R(t,A(c),d,"path"===o),h=JSON.stringify(m);return s.useEffect((()=>{u(JSON.parse(h),{replace:r,state:n,relative:o})}),[u,h,o,r,n]),null}function be(e){i(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(e){let{basename:t="/",children:r=null,location:n,navigationType:o="POP",navigator:a,static:c=!1}=e;i(!X(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=s.useMemo((()=>({basename:d,navigator:a,static:c,future:{}})),[d,a,c]);"string"===typeof n&&(n=m(n));let{pathname:h="/",search:p="",hash:g="",state:f=null,key:x="default"}=n,v=s.useMemo((()=>{let e=M(h,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:f,key:x},navigationType:o}}),[d,h,p,g,f,x,o]);return l(null!=v,`<Router basename="${d}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),null==v?null:s.createElement(K.Provider,{value:u},s.createElement(Y.Provider,{children:r,value:v}))}function we(e){let{children:t,location:r}=e;return oe(je(t),r)}s.Component;function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return s.Children.forEach(e,((e,n)=>{if(!s.isValidElement(e))return;let o=[...t,n];if(e.type===s.Fragment)return void r.push.apply(r,je(e.props.children,o));i(e.type===be,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),i(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=je(e.props.children,o)),r.push(a)})),r}var Ne="get",ke="application/x-www-form-urlencoded";function Se(e){return null!=e&&"string"===typeof e.tagName}var Ce=null;var Le=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ee(e){return null==e||Le.has(e)?e:(l(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ke}"`),null)}function Pe(e,t){let r,s,n,o,a;if(function(e){return Se(e)&&"form"===e.tagName.toLowerCase()}(e)){let a=e.getAttribute("action");s=a?M(a,t):null,r=e.getAttribute("method")||Ne,n=Ee(e.getAttribute("enctype"))||ke,o=new FormData(e)}else if(function(e){return Se(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Se(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let i=e.getAttribute("formaction")||a.getAttribute("action");if(s=i?M(i,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||Ne,n=Ee(e.getAttribute("formenctype"))||Ee(a.getAttribute("enctype"))||ke,o=new FormData(a,e),!function(){if(null===Ce)try{new FormData(document.createElement("form"),0),Ce=!1}catch(e){Ce=!0}return Ce}()){let{name:t,type:r,value:s}=e;if("image"===r){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,s)}}else{if(Se(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ne,s=null,n=ke,a=e}return o&&"text/plain"===n&&(a=o,o=void 0),{action:s,method:r.toLowerCase(),encType:n,formData:o,body:a}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Me(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Te(e){return null!=e&&"string"===typeof e.page}function Oe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ae(e,t,r,s,n,o){let a=(e,t)=>!r[t]||e.route.id!==r[t].route.id,i=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>a(e,t)||i(e,t))):"data"===o?t.filter(((t,o)=>{let l=s.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||i(t,o))return!0;if(t.route.shouldRevalidate){let s=t.route.shouldRevalidate({currentUrl:new URL(n.pathname+n.search+n.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof s)return s}return!0})):[]}function Re(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s=e.map((e=>{let s=t.routes[e.route.id];if(!s)return[];let n=[s.module];return s.clientActionModule&&(n=n.concat(s.clientActionModule)),s.clientLoaderModule&&(n=n.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(n=n.concat(s.hydrateFallbackModule)),s.imports&&(n=n.concat(s.imports)),n})).flat(1),[...new Set(s)];var s}function De(e,t){let r=new Set,s=new Set(t);return e.reduce(((e,n)=>{if(t&&!Te(n)&&"script"===n.as&&n.href&&s.has(n.href))return e;let o=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let s of r)t[s]=e[s];return t}(n));return r.has(o)||(r.add(o),e.push({key:o,link:n})),e}),[])}function Ie(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var ze=new Set([100,101,204,205]);function Fe(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===M(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}s.Component;function Be(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,o=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(B(t))return s.createElement(Ue,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return s.createElement(Ue,{title:"Application Error!",isOutsideRemixApp:r},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),o)}function Ue(e){let{title:t,renderScripts:r,isOutsideRemixApp:n,children:o}=e,{routeModules:a}=qe();return a.root?.Layout&&!n?o:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,t)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,r?s.createElement(Je,null):null)))}function $e(e,t){return"lazy"===e.mode&&!0===t}function We(){let e=s.useContext(W);return _e(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ve(){let e=s.useContext(V);return _e(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var He=s.createContext(void 0);function qe(){let e=s.useContext(He);return _e(e,"You must render this element inside a <HydratedRouter> element"),e}function Ge(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ke(e,t,r){if(r&&!Xe)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function Ye(e){let{page:t,...r}=e,{router:n}=We(),o=s.useMemo((()=>g(n.routes,t,n.basename)),[n.routes,t,n.basename]);return o?s.createElement(Qe,{page:t,matches:o,...r}):null}function Ze(e){let{manifest:t,routeModules:r}=qe(),[n,o]=s.useState([]);return s.useEffect((()=>{let s=!1;return async function(e,t,r){return De((await Promise.all(e.map((async e=>{let s=t.routes[e.route.id];if(s){let e=await Me(s,r);return e.links?e.links():[]}return[]})))).flat(1).filter(Oe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,r).then((e=>{s||o(e)})),()=>{s=!0}}),[e,t,r]),n}function Qe(e){let{page:t,matches:r,...n}=e,o=J(),{manifest:a,routeModules:i}=qe(),{basename:l}=We(),{loaderData:c,matches:d}=Ve(),u=s.useMemo((()=>Ae(t,r,d,a,o,"data")),[t,r,d,a,o]),m=s.useMemo((()=>Ae(t,r,d,a,o,"assets")),[t,r,d,a,o]),h=s.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,s=!1;if(r.forEach((t=>{let r=a.routes[t.route.id];r&&r.hasLoader&&(!u.some((e=>e.route.id===t.route.id))&&t.route.id in c&&i[t.route.id]?.shouldRevalidate||r.hasClientLoader?s=!0:e.add(t.route.id))})),0===e.size)return[];let n=Fe(t,l);return s&&e.size>0&&n.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[n.pathname+n.search]}),[l,c,o,a,u,r,t,i]),p=s.useMemo((()=>Re(m,a)),[m,a]),g=Ze(m);return s.createElement(s.Fragment,null,h.map((e=>s.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n}))),p.map((e=>s.createElement("link",{key:e,rel:"modulepreload",href:e,...n}))),g.map((e=>{let{key:t,link:r}=e;return s.createElement("link",{key:t,...r})})))}He.displayName="FrameworkContext";var Xe=!1;function Je(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,renderMeta:o,routeDiscovery:a,ssr:i}=qe(),{router:l,static:c,staticContext:d}=We(),{matches:u}=Ve(),m=$e(a,i);o&&(o.didRenderScripts=!0);let h=Ke(u,null,n);s.useEffect((()=>{0}),[]);let p=s.useMemo((()=>{let n=d?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=c?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${m?"":`import ${JSON.stringify(t.url)}`};\n${h.map(((e,r)=>{let s=`route${r}`,n=t.routes[e.route.id];_e(n,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:a,clientMiddlewareModule:i,hydrateFallbackModule:l,module:c}=n,d=[...o?[{module:o,varName:`${s}_clientAction`}]:[],...a?[{module:a,varName:`${s}_clientLoader`}]:[],...i?[{module:i,varName:`${s}_clientMiddleware`}]:[],...l?[{module:l,varName:`${s}_HydrateFallback`}]:[],{module:c,varName:`${s}_main`}];return 1===d.length?`import * as ${s} from ${JSON.stringify(c)};`:[d.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${s} = {${d.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${m?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...s}=e,n=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(o.pop();o.length>0;)a.push(`/${o.join("/")}`),o.pop();a.forEach((e=>{let r=g(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let i=[...n].reduce(((e,t)=>Object.assign(e,{[t]:s.routes[t]})),{});return{...s,routes:i,sri:!!r||void 0}}(t,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return s.createElement(s.Fragment,null,s.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(n),type:void 0}),s.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(o),type:"module",async:!0}))}),[]),f=Xe?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(Re(h,t,{includeHydrateFallback:!0}))),x="object"===typeof t.sri?t.sri:{};return Xe?null:s.createElement(s.Fragment,null,"object"===typeof t.sri?s.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,m?null:s.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),s.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),f.map((t=>s.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0}))),p)}function et(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.6.0")}catch(Kf){}function rt(e){let{basename:t,children:r,window:n}=e,o=s.useRef();null==o.current&&(o.current=a({window:n,v5Compat:!0}));let i=o.current,[l,c]=s.useState({action:i.action,location:i.location}),d=s.useCallback((e=>{s.startTransition((()=>c(e)))}),[c]);return s.useLayoutEffect((()=>i.listen(d)),[i,d]),s.createElement(ye,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i})}var st=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=s.forwardRef((function(e,t){let r,{onClick:n,discover:o="render",prefetch:a="none",relative:c,reloadDocument:d,replace:m,state:h,target:p,to:g,preventScrollReset:f,viewTransition:x,...v}=e,{basename:b}=s.useContext(K),y="string"===typeof g&&st.test(g),w=!1;if("string"===typeof g&&y&&(r=g,tt))try{let e=new URL(window.location.href),t=g.startsWith("//")?new URL(e.protocol+g):new URL(g),r=M(t.pathname,b);t.origin===e.origin&&null!=r?g=r+t.search+t.hash:w=!0}catch(Kf){l(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(X(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=s.useContext(K),{hash:o,pathname:a,search:l}=ne(e,{relative:t}),c=a;return"/"!==r&&(c="/"===a?r:D([r,a])),n.createHref({pathname:c,search:l,hash:o})}(g,{relative:c}),[N,k,S]=function(e,t){let r=s.useContext(He),[n,o]=s.useState(!1),[a,i]=s.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:m}=t,h=s.useRef(null);s.useEffect((()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{i(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),s.useEffect((()=>{if(n){let e=setTimeout((()=>{i(!0)}),100);return()=>{clearTimeout(e)}}}),[n]);let p=()=>{o(!0)},g=()=>{o(!1),i(!1)};return r?"intent"!==e?[a,h,{}]:[a,h,{onFocus:Ge(l,p),onBlur:Ge(c,g),onMouseEnter:Ge(d,p),onMouseLeave:Ge(u,g),onTouchStart:Ge(m,p)}]:[!1,h,{}]}(a,v),C=function(e){let{target:t,replace:r,state:n,preventScrollReset:o,relative:a,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=re(),c=J(),d=ne(e,{relative:a});return s.useCallback((s=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(s,t)){s.preventDefault();let t=void 0!==r?r:u(c)===u(d);l(e,{replace:t,state:n,preventScrollReset:o,relative:a,viewTransition:i})}}),[c,l,d,r,n,t,e,o,a,i])}(g,{replace:m,state:h,target:p,preventScrollReset:f,relative:c,viewTransition:x});let L=s.createElement("a",{...v,...S,href:r||j,onClick:w||d?n:function(e){n&&n(e),e.defaultPrevented||C(e)},ref:et(t,k),target:p,"data-discover":y||"render"!==o?void 0:"true"});return N&&!y?s.createElement(s.Fragment,null,L,s.createElement(Ye,{page:j})):L}));nt.displayName="Link",s.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:a=!1,style:l,to:c,viewTransition:d,children:u,...m}=e,h=ne(c,{relative:m.relative}),p=J(),g=s.useContext(V),{navigator:f,basename:x}=s.useContext(K),v=null!=g&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.useContext(H);i(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=it("useViewTransitionState"),o=ne(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=M(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=M(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=E(o.pathname,l)||null!=E(o.pathname,a)}(h)&&!0===d,b=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,y=p.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&x&&(w=M(w,x)||w);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let N,k=y===b||!a&&y.startsWith(b)&&"/"===y.charAt(j),S=null!=w&&(w===b||!a&&w.startsWith(b)&&"/"===w.charAt(b.length)),C={isActive:k,isPending:S,isTransitioning:v},L=k?r:void 0;N="function"===typeof o?o(C):[o,k?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof l?l(C):l;return s.createElement(nt,{...m,"aria-current":L,className:N,ref:t,style:P,to:c,viewTransition:d},"function"===typeof u?u(C):u)})).displayName="NavLink";var ot=s.forwardRef(((e,t)=>{let{discover:r="render",fetcherKey:n,navigate:o,reloadDocument:a,replace:l,state:c,method:d=Ne,action:m,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:f,...x}=e,v=dt(),b=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=s.useContext(K),n=s.useContext(Z);i(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),a={...ne(e||".",{relative:t})},l=J();if(null==e){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();a.search=r?`?${r}`:""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:D([r,a.pathname]));return u(a)}(m,{relative:p}),y="get"===d.toLowerCase()?"get":"post",w="string"===typeof m&&st.test(m);return s.createElement("form",{ref:t,method:y,action:b,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||d;v(t||e.currentTarget,{fetcherKey:n,method:r,navigate:o,replace:l,state:c,relative:p,preventScrollReset:g,viewTransition:f})},...x,"data-discover":w||"render"!==r?void 0:"true"})}));function at(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function it(e){let t=s.useContext(W);return i(t,at(e)),t}ot.displayName="Form";var lt=0,ct=()=>`__${String(++lt)}__`;function dt(){let{router:e}=it("useSubmit"),{basename:t}=s.useContext(K),r=pe("useRouteId");return s.useCallback((async function(s){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:i,formData:l,body:c}=Pe(s,t);if(!1===n.navigate){let t=n.fetcherKey||ct();await e.fetch(t,r,n.action||o,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||a,formEncType:n.encType||i,flushSync:n.flushSync})}else await e.navigate(n.action||o,{preventScrollReset:n.preventScrollReset,formData:l,body:c,formMethod:n.method||a,formEncType:n.encType||i,replace:n.replace,state:n.state,fromRouteId:r,flushSync:n.flushSync,viewTransition:n.viewTransition})}),[e,t,r])}function ut(e){var t,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=ut(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}const mt=function(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=ut(e))&&(s&&(s+=" "),s+=t);return s};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ht=e=>"number"==typeof e&&!isNaN(e),pt=e=>"string"==typeof e,gt=e=>"function"==typeof e,ft=e=>pt(e)||gt(e)?e:null,xt=(e,t)=>!1===e||ht(e)&&e>0?e:t,vt=e=>(0,s.isValidElement)(e)||pt(e)||gt(e)||ht(e);function bt(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:i,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m,playToast:h}=e,p=n?`${t}--${l}`:t,g=n?`${r}--${l}`:r,f=(0,s.useRef)(0);return(0,s.useLayoutEffect)((()=>{let e=u.current,t=p.split(" "),r=s=>{s.target===u.current&&(h(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===f.current&&"animationcancel"!==s.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)}),[]),(0,s.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:s,style:n}=e;requestAnimationFrame((()=>{n.minHeight="initial",n.height=s+"px",n.transition=`all ${r}ms`,requestAnimationFrame((()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,r)}))}))}(e,d,a):d()};m||(c?t():(f.current=1,e.className+=` ${g}`,e.addEventListener("animationend",t)))}),[m]),s.createElement(s.Fragment,null,i)}}function yt(e,t){return{content:wt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function wt(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,s.isValidElement)(e)&&!pt(e.type)?(0,s.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):gt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function jt(e){let{delay:t,isRunning:r,closeToast:n,type:o="default",hide:a,className:i,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:m}=e,h=a||l&&0===c,p={animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(p.transform=`scaleX(${c})`);let g=mt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":d}),f=gt(i)?i({rtl:d,type:o,defaultClassName:g}):mt(g,i),x={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&n()}};return s.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},s.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${o}`}),s.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:f,style:p,...x}))}var Nt=1,kt=()=>""+Nt++;function St(e,t,r){let s=1,n=0,o=[],a=[],i=t,l=new Map,c=new Set,d=()=>{a=Array.from(l.values()),c.forEach((e=>e()))},u=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},h=e=>{var t,s;let{toastId:n,updateId:o}=e.props,a=null==o;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(n,e),d(),r(yt(e,a?"added":"updated")),a&&(null==(s=(t=e.props).onOpen)||s.call(t))};return{id:e,props:i,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach((r=>{var s;(null==t||t===r.props.toastId)&&(null==(s=r.toggle)||s.call(r,e))}))},removeToast:m,toasts:l,clearQueue:()=>{n-=o.length,o=[]},buildToast:(t,a)=>{if((t=>{let{containerId:r,toastId:s,updateId:n}=t,o=r?r!==e:1!==e,a=l.has(s)&&null==n;return o||a})(a))return;let{toastId:c,updateId:u,data:p,staleId:g,delay:f}=a,x=null==u;x&&n++;let v={...i,style:i.toastStyle,key:s++,...Object.fromEntries(Object.entries(a).filter((e=>{let[t,r]=e;return null!=r}))),toastId:c,updateId:u,data:p,isIn:!1,className:ft(a.className||i.toastClassName),progressClassName:ft(a.progressClassName||i.progressClassName),autoClose:!a.isLoading&&xt(a.autoClose,i.autoClose),closeToast(e){l.get(c).removalReason=e,m(c)},deleteToast(){let e=l.get(c);if(null!=e){if(r(yt(e,"removed")),l.delete(c),n--,n<0&&(n=0),o.length>0)return void h(o.shift());d()}}};v.closeButton=i.closeButton,!1===a.closeButton||vt(a.closeButton)?v.closeButton=a.closeButton:!0===a.closeButton&&(v.closeButton=!vt(i.closeButton)||i.closeButton);let b={content:t,props:v,staleId:g};i.limit&&i.limit>0&&n>i.limit&&x?o.push(b):ht(f)?setTimeout((()=>{h(b)}),f):h(b)},setProps(e){i=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var Ct=new Map,Lt=[],Et=new Set,Pt=e=>Et.forEach((t=>t(e))),_t=()=>Ct.size>0;function Mt(e,t){var r;if(t)return!(null==(r=Ct.get(t))||!r.isToastActive(e));let s=!1;return Ct.forEach((t=>{t.isToastActive(e)&&(s=!0)})),s}function Tt(e){if(_t()){if(null==e||(e=>pt(e)||ht(e))(e))Ct.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=Ct.get(e.containerId);t?t.removeToast(e.id):Ct.forEach((t=>{t.removeToast(e.id)}))}}else Lt=Lt.filter((t=>null!=e&&t.options.toastId!==e))}function Ot(e,t){vt(e)&&(_t()||Lt.push({content:e,options:t}),Ct.forEach((r=>{r.buildToast(e,t)})))}function At(e,t){Ct.forEach((r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)}))}function Rt(e){let t=e.containerId||1;return{subscribe(r){let s=St(t,e,Pt);Ct.set(t,s);let n=s.observe(r);return Lt.forEach((e=>Ot(e.content,e.options))),Lt=[],()=>{n(),Ct.delete(t)}},setProps(e){var r;null==(r=Ct.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Ct.get(t))?void 0:e.getSnapshot()}}}function Dt(e){return e&&(pt(e.toastId)||ht(e.toastId))?e.toastId:kt()}function It(e,t){return Ot(e,t),t.toastId}function zt(e,t){return{...t,type:t&&t.type||e,toastId:Dt(t)}}function Ft(e){return(t,r)=>It(t,zt(e,r))}function Bt(e,t){return It(e,zt("default",t))}function Ut(e){let[t,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),a=(0,s.useRef)(null),i=(0,s.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:m}=e;function h(){r(!0)}function p(){r(!1)}function g(r){let s=a.current;if(i.canDrag&&s){i.didMove=!0,t&&p(),"x"===e.draggableDirection?i.delta=r.clientX-i.start:i.delta=r.clientY-i.start,i.start!==r.clientX&&(i.canCloseOnClick=!1);let n="x"===e.draggableDirection?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;s.style.transform=`translate3d(${n},0)`,s.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance))}}function f(){document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",f);let t=a.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Ct.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,s.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",h),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",p)}}),[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",g),document.addEventListener("pointerup",f);let r=a.current;i.canCloseOnClick=!0,i.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:s,left:n,right:o}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=n&&t.clientX<=o&&t.clientY>=r&&t.clientY<=s?p():h()}};return l&&c&&(x.onMouseEnter=p,e.stacked||(x.onMouseLeave=h)),m&&(x.onClick=e=>{u&&u(e),i.canCloseOnClick&&d(!0)}),{playToast:h,pauseToast:p,isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:x}}Bt.loading=(e,t)=>It(e,zt("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Bt.promise=function(e,t,r){let s,{pending:n,error:o,success:a}=t;n&&(s=pt(n)?Bt.loading(n,r):Bt.loading(n.render,{...r,...n}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,n)=>{if(null==t)return void Bt.dismiss(s);let o={type:e,...i,...r,data:n},a=pt(t)?{render:t}:t;return s?Bt.update(s,{...o,...a}):Bt(a.render,{...o,...a}),n},c=gt(e)?e():e;return c.then((e=>l("success",a,e))).catch((e=>l("error",o,e))),c},Bt.success=Ft("success"),Bt.info=Ft("info"),Bt.error=Ft("error"),Bt.warning=Ft("warning"),Bt.warn=Bt.warning,Bt.dark=(e,t)=>It(e,zt("default",{theme:"dark",...t})),Bt.dismiss=function(e){Tt(e)},Bt.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},Bt.isActive=Mt,Bt.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=((e,t)=>{let{containerId:r}=t;var s;return null==(s=Ct.get(r||1))?void 0:s.toasts.get(e)})(e,t);if(r){let{props:s,content:n}=r,o={delay:100,...s,...t,toastId:t.toastId||e,updateId:kt()};o.toastId!==e&&(o.staleId=e);let a=o.render||n;delete o.render,It(a,o)}},Bt.done=e=>{Bt.update(e,{progress:1})},Bt.onChange=function(e){return Et.add(e),()=>{Et.delete(e)}},Bt.play=e=>At(!0,e),Bt.pause=e=>At(!1,e);var $t="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Wt=e=>{let{theme:t,type:r,isLoading:n,...o}=e;return s.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${r})`,...o})};var Vt={info:function(e){return s.createElement(Wt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return s.createElement(Wt,{...e},s.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return s.createElement(Wt,{...e},s.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return s.createElement(Wt,{...e},s.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return s.createElement("div",{className:"Toastify__spinner"})}};function Ht(e){let{theme:t,type:r,isLoading:n,icon:o}=e,a=null,i={theme:t,type:r};return!1===o||(gt(o)?a=o({...i,isLoading:n}):(0,s.isValidElement)(o)?a=(0,s.cloneElement)(o,i):n?a=Vt.spinner():(e=>e in Vt)(r)&&(a=Vt[r](i))),a}var qt=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:o,playToast:a}=Ut(e),{closeButton:i,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:m,closeToast:h,transition:p,position:g,className:f,style:x,progressClassName:v,updateId:b,role:y,progress:w,rtl:j,toastId:N,deleteToast:k,isIn:S,isLoading:C,closeOnClick:L,theme:E,ariaLabel:P}=e,_=mt("Toastify__toast",`Toastify__toast-theme--${E}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":L}),M=gt(f)?f({rtl:j,position:g,type:u,defaultClassName:_}):mt(_,f),T=Ht(e),O=!!w||!c,A={closeToast:h,type:u,theme:E},R=null;return!1===i||(R=gt(i)?i(A):(0,s.isValidElement)(i)?(0,s.cloneElement)(i,A):function(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return s.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":n},s.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},s.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(A)),s.createElement(p,{isIn:S,done:k,position:g,preventExitTransition:r,nodeRef:n,playToast:a},s.createElement("div",{id:N,tabIndex:0,onClick:d,"data-in":S,className:M,...o,style:x,ref:n,...S&&{role:y,"aria-label":P}},null!=T&&s.createElement("div",{className:mt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},T),wt(l,e,!t),R,!e.customProgressBar&&s.createElement(jt,{...b&&!O?{key:`p-${b}`}:{},rtl:j,theme:E,delay:c,isRunning:t,isIn:S,closeToast:h,hide:m,type:u,className:v,controlledProgress:O,progress:w||0})))},Gt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Kt=bt(Gt("bounce",!0)),Yt=(bt(Gt("slide",!0)),bt(Gt("zoom")),bt(Gt("flip")),{position:"top-right",transition:Kt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Zt(e){let t={...Yt,...e},r=e.stacked,[n,o]=(0,s.useState)(!0),a=(0,s.useRef)(null),{getToastToRender:i,isToastActive:l,count:c}=function(e){var t;let{subscribe:r,getSnapshot:n,setProps:o}=(0,s.useRef)(Rt(e)).current;o(e);let a=null==(t=(0,s.useSyncExternalStore)(r,n,n))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let r=new Map;return e.newestOnTop&&a.reverse(),a.forEach((e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)})),Array.from(r,(e=>t(e[0],e[1])))},isToastActive:Mt,count:null==a?void 0:a.length}}(t),{className:d,style:u,rtl:m,containerId:h,hotKeys:p}=t;function g(e){let t=mt("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":m});return gt(d)?d({position:e,rtl:m,defaultClassName:t}):mt(t,ft(d))}function f(){r&&(o(!0),Bt.play())}return $t((()=>{var e;if(r){let r=a.current.querySelectorAll('[data-in="true"]'),s=12,o=null==(e=t.position)?void 0:e.includes("top"),i=0,l=0;Array.from(r).reverse().forEach(((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${n}`),r.dataset.pos||(r.dataset.pos=o?"top":"bot");let a=i*(n?.2:1)+(n?0:s*t);r.style.setProperty("--y",`${o?a:-1*a}px`),r.style.setProperty("--g",`${s}`),r.style.setProperty("--s",""+(1-(n?l:0))),i+=r.offsetHeight,l+=.025}))}}),[n,c,r]),(0,s.useEffect)((()=>{function e(e){var t;let r=a.current;p(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),Bt.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(o(!0),Bt.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[p]),s.createElement("section",{ref:a,className:"Toastify",id:h,onMouseEnter:()=>{r&&(o(!1),Bt.pause())},onMouseLeave:f,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i(((e,t)=>{let n=t.length?{...u}:{...u,pointerEvents:"none"};return s.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":r,style:n,key:`c-${e}`},t.map((e=>{let{content:t,props:n}=e;return s.createElement(qt,{...n,stacked:r,collapseAll:f,isIn:l(n.toastId,n.containerId),key:`t-${n.key}`},t)})))})))}const Qt=()=>new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition((t=>{e({coordinates:[t.coords.longitude,t.coords.latitude]})}),(e=>{t(e)}),{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):t(new Error("Geolocation is not supported by your browser"))}));var Xt=r(414);const Jt=e=>{if(!e||"string"!==typeof e)return!1;try{const t=e.split(".");if(3!==t.length)return!1;for(let e of t)if(!e||0===e.length)return!1;return!0}catch(t){return!1}},er=(0,s.createContext)(),tr=e=>{let{children:t}=e;const[r,n]=(0,s.useState)({isAuthenticated:!1,seller:null,token:null}),[o,a]=(0,s.useState)({isAuthenticated:!1,user:null,token:null}),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),u=(e,t)=>{try{return localStorage.setItem(e,t),null===t||void 0===t||t.length,!0}catch(r){return r.message,!1}},m=e=>{try{const t=localStorage.getItem(e);return null===t||void 0===t||t.length,t}catch(t){return t.message,null}},h=e=>{try{return localStorage.removeItem(e),!0}catch(t){return t.message,!1}};(0,s.useEffect)((()=>{const e=setTimeout((()=>{l(!1)}),5e3);return(async()=>{try{const[t,r,s,o]=[m("sellerToken"),m("sellerData"),m("userToken"),m("userData")];if(t&&r&&Jt(t))try{const e=JSON.parse(r);null===e||void 0===e||e.firstName,null===e||void 0===e||e._id,n({isAuthenticated:!0,seller:e,token:t})}catch(e){e.message,h("sellerToken"),h("sellerData")}if(!!s&&Jt(s),s&&o&&Jt(s))try{const e=JSON.parse(o);e&&e._id&&e.name?(null===e||void 0===e||e.name,null===e||void 0===e||e._id,null===e||void 0===e||e.email,a({isAuthenticated:!0,user:e,token:s})):(null===e||void 0===e||e._id,null===e||void 0===e||e.name,h("userToken"),h("userData"))}catch(e){e.message,h("userToken"),h("userData")}else(s||o)&&(!!s&&Jt(s),h("userToken"),h("userData"))}catch(e){e.message,d(e.message),["userToken","userData","sellerToken","sellerData"].forEach((e=>{h(e)}))}finally{l(!1)}})().finally((()=>{clearTimeout(e)})),()=>{clearTimeout(e)}}),[]);const p={sellerAuth:r,userAuth:o,loading:i,initError:c,loginSeller:e=>{try{if(null===e||void 0===e||e.firstName,null===e||void 0===e||e.token,!e||!e.token)throw new Error("Invalid seller login data - missing token");if(!Jt(e.token))throw new Error("Invalid token format received from server");const t=u("sellerToken",e.token),r=u("sellerData",JSON.stringify(e));if(!t||!r)throw new Error("Failed to store seller authentication data");n({isAuthenticated:!0,seller:e,token:e.token})}catch(t){throw t.message,t}},logoutSeller:()=>{try{h("sellerToken"),h("sellerData"),n({isAuthenticated:!1,seller:null,token:null})}catch(e){e.message}},loginUser:async e=>{try{if(null===e||void 0===e||e.name,null===e||void 0===e||e.email,null===e||void 0===e||e.token,!e)throw new Error("No login data provided");if(!e.token)throw Object.keys(e),new Error("Invalid user login data - missing token");if(!Jt(e.token))throw e.token.length,e.token.substring(0,30),new Error("Invalid token format received from server");try{const t=await Qt();t&&e&&(e.location={...e.location,coordinates:t.coordinates},t.coordinates)}catch(t){t.message}e.token.length,e.name,e.email;const r=u("userToken",e.token),s=u("userData",JSON.stringify(e));if(!r||!s)throw new Error("Failed to store authentication data");a({isAuthenticated:!0,user:e,token:e.token}),e.name,e._id}catch(t){throw t.message,e&&Object.keys(e),h("userToken"),h("userData"),t}},logoutUser:()=>{try{h("userToken"),h("userData"),a({isAuthenticated:!1,user:null,token:null})}catch(e){e.message}},handleAuthError:e=>{try{if(null===e||void 0===e||!e.response)return!1;const{status:r,data:s}=e.response;if(null===s||void 0===s||s.message,null===s||void 0===s||s.code,null===s||void 0===s||s.forceLogout,401===r){var t;if("INVALID_TOKEN"===(null===s||void 0===s?void 0:s.code)||"TOKEN_EXPIRED"===(null===s||void 0===s?void 0:s.code)||"MALFORMED_TOKEN"===(null===s||void 0===s?void 0:s.code)||"USER_NOT_FOUND"===(null===s||void 0===s?void 0:s.code)||!0===(null===s||void 0===s?void 0:s.forceLogout)||(null===s||void 0===s||null===(t=s.message)||void 0===t?void 0:t.toLowerCase().includes("token")))return null===s||void 0===s||s.code,null===s||void 0===s||s.forceLogout,h("userToken"),h("userData"),h("sellerToken"),h("sellerData"),a({isAuthenticated:!1,user:null,token:null}),n({isAuthenticated:!1,seller:null,token:null}),null!==s&&void 0!==s&&s.forceLogout&&setTimeout((()=>{window.location.href="/user/login"}),1e3),!0}return!1}catch(r){return r.message,!1}},debugAuth:()=>{var e,t,s,n;const a={userAuth:{isAuthenticated:o.isAuthenticated,hasUser:!!o.user,hasToken:!!o.token,userName:null===(e=o.user)||void 0===e?void 0:e.name,tokenLength:(null===(t=o.token)||void 0===t?void 0:t.length)||0},sellerAuth:{isAuthenticated:r.isAuthenticated,hasSeller:!!r.seller,hasToken:!!r.token,sellerName:null===(s=r.seller)||void 0===s?void 0:s.firstName,tokenLength:(null===(n=r.token)||void 0===n?void 0:n.length)||0},localStorage:{userToken:m("userToken")?"present":"missing",userData:m("userData")?"present":"missing",sellerToken:m("sellerToken")?"present":"missing",sellerData:m("sellerData")?"present":"missing"}};return a},updateUser:e=>{try{if(e&&(e._id,e.name,e.location),!e||!e._id)return;const t=o.token||m("userToken"),r={...e,token:e.token||t};u("userData",JSON.stringify(r))&&(a((e=>({...e,user:r,isAuthenticated:!0,token:r.token||e.token}))),e._id,e.name)}catch(t){t.message}}};return(0,Xt.jsx)(er.Provider,{value:p,children:t})};class rr extends s.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t}),this.props.onError&&this.props.onError(e,t)}render(){return this.state.hasError?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Xt.jsxs)("div",{className:"text-center p-8 max-w-md mx-auto",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 18.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"The application encountered an error. Please try refreshing the page."}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"}),(0,Xt.jsx)("a",{href:"/",className:"block w-full bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Go to Home"})]}),!1]})}):this.props.children}}const sr=rr,nr=()=>{const e=(0,s.useRef)(null),[t,r]=(0,s.useState)("Initializing..."),[n,o]=(0,s.useState)(""),[a,i]=(0,s.useState)([]);(0,s.useEffect)((()=>{const t=()=>{try{if(!window.google)throw new Error("Google Maps not loaded");if(!window.google.maps)throw new Error("Google Maps API not available");if(!window.google.maps.places)throw new Error("Google Places API not available");console.log("\u2705 Google Places API available");const t=new window.google.maps.places.Autocomplete(e.current,{types:["establishment","geocode"],componentRestrictions:{country:"IN"},fields:["place_id","formatted_address","geometry","name"]});t.addListener("place_changed",(()=>{const e=t.getPlace();console.log("\ud83c\udfaf Place selected:",e),e.geometry?r(`\u2705 Place Selected: ${e.formatted_address}`):r("\u26a0\ufe0f Place selected but no geometry")})),r("\u2705 Google Places Autocomplete initialized"),console.log("\u2705 Autocomplete initialized successfully")}catch(t){console.error("\u274c Error initializing Places:",t),i((e=>[...e,t.message])),r(`\u274c Initialization failed: ${t.message}`)}};(async()=>{try{if(r("\ud83d\udd0d Checking API key..."),!(()=>{const e="AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs";return console.log("\ud83d\udd11 API Key found:",e?"YES":"NO"),console.log("\ud83d\udd11 API Key value:",e),o(e||"NOT FOUND"),!0})())return;r("\ud83d\udce1 Loading Google Maps API..."),await new Promise(((e,t)=>{if(window.google)return console.log("\u2705 Google Maps already loaded"),void e();const r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs&libraries=places",r.async=!0,r.defer=!0,r.onload=()=>{console.log("\u2705 Google Maps script loaded successfully"),e()},r.onerror=e=>{console.error("\u274c Failed to load Google Maps script:",e),t(new Error("Script loading failed"))},document.head.appendChild(r)})),r("\u2699\ufe0f Initializing Places Autocomplete..."),setTimeout(t,100)}catch(e){console.error("\u274c Test failed:",e),i((t=>[...t,e.message])),r(`\u274c Test failed: ${e.message}`)}})()}),[]);return(0,Xt.jsxs)("div",{className:"p-6 max-w-2xl mx-auto bg-white rounded-lg shadow-lg",children:[(0,Xt.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"\ud83e\uddea Google Places API Test"}),(0,Xt.jsxs)("div",{className:"mb-4 p-3 rounded-md bg-gray-50",children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-700",children:"Status:"}),(0,Xt.jsx)("p",{className:"text-sm mt-1",children:t})]}),(0,Xt.jsxs)("div",{className:"mb-4 p-3 rounded-md bg-blue-50",children:[(0,Xt.jsx)("p",{className:"font-medium text-blue-700",children:"API Key:"}),(0,Xt.jsx)("p",{className:"text-sm mt-1 font-mono break-all",children:n.length>10?`${n.substring(0,10)}...${n.substring(n.length-10)}`:n})]}),a.length>0&&(0,Xt.jsxs)("div",{className:"mb-4 p-3 rounded-md bg-red-50 border border-red-200",children:[(0,Xt.jsx)("p",{className:"font-medium text-red-700 mb-2",children:"Errors:"}),a.map(((e,t)=>(0,Xt.jsxs)("p",{className:"text-sm text-red-600 mb-1",children:["\u2022 ",e]},t)))]}),(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:'Test Address Input (Try typing "Mumbai" or "Delhi"):'}),(0,Xt.jsx)("input",{ref:e,type:"text",placeholder:"Start typing an address...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"If working, you should see suggestions appear below as you type"})]}),(0,Xt.jsxs)("div",{className:"space-y-2",children:[(0,Xt.jsx)("button",{onClick:()=>{window.open("https://maps.googleapis.com/maps/api/js?key=AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs&libraries=places","_blank")},className:"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"\ud83d\udd17 Test API Key Directly (Opens New Tab)"}),(0,Xt.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"\ud83d\udd04 Reload Page"})]}),(0,Xt.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[(0,Xt.jsx)("h3",{className:"font-medium text-yellow-800 mb-2",children:"\ud83d\udd0d Debugging Instructions:"}),(0,Xt.jsxs)("ol",{className:"text-sm text-yellow-700 space-y-1",children:[(0,Xt.jsx)("li",{children:"1. Open Browser DevTools (F12) and check Console tab for errors"}),(0,Xt.jsx)("li",{children:"2. Check Network tab for failed requests to googleapis.com"}),(0,Xt.jsx)("li",{children:"3. Verify the API key test opens successfully in new tab"}),(0,Xt.jsx)("li",{children:"4. Ensure Places API and Maps JavaScript API are enabled in Google Cloud Console"}),(0,Xt.jsx)("li",{children:"5. Confirm billing is enabled in your Google Cloud project"})]})]})]})};function or(e,t){return function(){return e.apply(t,arguments)}}const{toString:ar}=Object.prototype,{getPrototypeOf:ir}=Object,{iterator:lr,toStringTag:cr}=Symbol,dr=(e=>t=>{const r=ar.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ur=e=>(e=e.toLowerCase(),t=>dr(t)===e),mr=e=>t=>typeof t===e,{isArray:hr}=Array,pr=mr("undefined");const gr=ur("ArrayBuffer");const fr=mr("string"),xr=mr("function"),vr=mr("number"),br=e=>null!==e&&"object"===typeof e,yr=e=>{if("object"!==dr(e))return!1;const t=ir(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(cr in e)&&!(lr in e)},wr=ur("Date"),jr=ur("File"),Nr=ur("Blob"),kr=ur("FileList"),Sr=ur("URLSearchParams"),[Cr,Lr,Er,Pr]=["ReadableStream","Request","Response","Headers"].map(ur);function _r(e,t){let r,s,{allOwnKeys:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),hr(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function Mr(e,t){t=t.toLowerCase();const r=Object.keys(e);let s,n=r.length;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Tr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Or=e=>!pr(e)&&e!==Tr;const Ar=(Rr="undefined"!==typeof Uint8Array&&ir(Uint8Array),e=>Rr&&e instanceof Rr);var Rr;const Dr=ur("HTMLFormElement"),Ir=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),zr=ur("RegExp"),Fr=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};_r(r,((r,n)=>{let o;!1!==(o=t(r,n,e))&&(s[n]=o||r)})),Object.defineProperties(e,s)};const Br=ur("AsyncFunction"),Ur=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,s=[],Tr.addEventListener("message",(e=>{let{source:t,data:n}=e;t===Tr&&n===r&&s.length&&s.shift()()}),!1),e=>{s.push(e),Tr.postMessage(r,"*")}):e=>setTimeout(e);var r,s})("function"===typeof setImmediate,xr(Tr.postMessage)),$r="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Tr):"undefined"!==typeof process&&process.nextTick||Ur,Wr={isArray:hr,isArrayBuffer:gr,isBuffer:function(e){return null!==e&&!pr(e)&&null!==e.constructor&&!pr(e.constructor)&&xr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||xr(e.append)&&("formdata"===(t=dr(e))||"object"===t&&xr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&gr(e.buffer),t},isString:fr,isNumber:vr,isBoolean:e=>!0===e||!1===e,isObject:br,isPlainObject:yr,isReadableStream:Cr,isRequest:Lr,isResponse:Er,isHeaders:Pr,isUndefined:pr,isDate:wr,isFile:jr,isBlob:Nr,isRegExp:zr,isFunction:xr,isStream:e=>br(e)&&xr(e.pipe),isURLSearchParams:Sr,isTypedArray:Ar,isFileList:kr,forEach:_r,merge:function e(){const{caseless:t}=Or(this)&&this||{},r={},s=(s,n)=>{const o=t&&Mr(r,n)||n;yr(r[o])&&yr(s)?r[o]=e(r[o],s):yr(s)?r[o]=e({},s):hr(s)?r[o]=s.slice():r[o]=s};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&_r(arguments[n],s);return r},extend:function(e,t,r){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _r(t,((t,s)=>{r&&xr(t)?e[s]=or(t,r):e[s]=t}),{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,s)=>{let n,o,a;const i={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)a=n[o],s&&!s(a,e,t)||i[a]||(t[a]=e[a],i[a]=!0);e=!1!==r&&ir(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:dr,kindOfTest:ur,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return-1!==s&&s===r},toArray:e=>{if(!e)return null;if(hr(e))return e;let t=e.length;if(!vr(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[lr]).call(e);let s;for(;(s=r.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const s=[];for(;null!==(r=e.exec(t));)s.push(r);return s},isHTMLForm:Dr,hasOwnProperty:Ir,hasOwnProp:Ir,reduceDescriptors:Fr,freezeMethods:e=>{Fr(e,((t,r)=>{if(xr(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const s=e[r];xr(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},s=e=>{e.forEach((e=>{r[e]=!0}))};return hr(e)?s(e):s(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Mr,global:Tr,isContextDefined:Or,isSpecCompliantForm:function(e){return!!(e&&xr(e.append)&&"FormData"===e[cr]&&e[lr])},toJSONObject:e=>{const t=new Array(10),r=(e,s)=>{if(br(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[s]=e;const n=hr(e)?[]:{};return _r(e,((e,t)=>{const o=r(e,s+1);!pr(o)&&(n[t]=o)})),t[s]=void 0,n}}return e};return r(e,0)},isAsyncFn:Br,isThenable:e=>e&&(br(e)||xr(e))&&xr(e.then)&&xr(e.catch),setImmediate:Ur,asap:$r,isIterable:e=>null!=e&&xr(e[lr])};function Vr(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}Wr.inherits(Vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Wr.toJSONObject(this.config),code:this.code,status:this.status}}});const Hr=Vr.prototype,qr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{qr[e]={value:e}})),Object.defineProperties(Vr,qr),Object.defineProperty(Hr,"isAxiosError",{value:!0}),Vr.from=(e,t,r,s,n,o)=>{const a=Object.create(Hr);return Wr.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Vr.call(a,e.message,t,r,s,n),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const Gr=Vr;function Kr(e){return Wr.isPlainObject(e)||Wr.isArray(e)}function Yr(e){return Wr.endsWith(e,"[]")?e.slice(0,-2):e}function Zr(e,t,r){return e?e.concat(t).map((function(e,t){return e=Yr(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Qr=Wr.toFlatObject(Wr,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Xr=function(e,t,r){if(!Wr.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(r=Wr.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Wr.isUndefined(t[e])}))).metaTokens,n=r.visitor||c,o=r.dots,a=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&Wr.isSpecCompliantForm(t);if(!Wr.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Wr.isDate(e))return e.toISOString();if(!i&&Wr.isBlob(e))throw new Gr("Blob is not supported. Use a Buffer instead.");return Wr.isArrayBuffer(e)||Wr.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,n){let i=e;if(e&&!n&&"object"===typeof e)if(Wr.endsWith(r,"{}"))r=s?r:r.slice(0,-2),e=JSON.stringify(e);else if(Wr.isArray(e)&&function(e){return Wr.isArray(e)&&!e.some(Kr)}(e)||(Wr.isFileList(e)||Wr.endsWith(r,"[]"))&&(i=Wr.toArray(e)))return r=Yr(r),i.forEach((function(e,s){!Wr.isUndefined(e)&&null!==e&&t.append(!0===a?Zr([r],s,o):null===a?r:r+"[]",l(e))})),!1;return!!Kr(e)||(t.append(Zr(n,r,o),l(e)),!1)}const d=[],u=Object.assign(Qr,{defaultVisitor:c,convertValue:l,isVisitable:Kr});if(!Wr.isObject(e))throw new TypeError("data must be an object");return function e(r,s){if(!Wr.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+s.join("."));d.push(r),Wr.forEach(r,(function(r,o){!0===(!(Wr.isUndefined(r)||null===r)&&n.call(t,r,Wr.isString(o)?o.trim():o,s,u))&&e(r,s?s.concat(o):[o])})),d.pop()}}(e),t};function Jr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function es(e,t){this._pairs=[],e&&Xr(e,this,t)}const ts=es.prototype;ts.append=function(e,t){this._pairs.push([e,t])},ts.toString=function(e){const t=e?function(t){return e.call(this,t,Jr)}:Jr;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const rs=es;function ss(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ns(e,t,r){if(!t)return e;const s=r&&r.encode||ss;Wr.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(o=n?n(t,r):Wr.isURLSearchParams(t)?t.toString():new rs(t,r).toString(s),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const os=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Wr.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},as={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},is={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:rs,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ls="undefined"!==typeof window&&"undefined"!==typeof document,cs="object"===typeof navigator&&navigator||void 0,ds=ls&&(!cs||["ReactNative","NativeScript","NS"].indexOf(cs.product)<0),us="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ms=ls&&window.location.href||"http://localhost",hs={...e,...is};const ps=function(e){function t(e,r,s,n){let o=e[n++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),i=n>=e.length;if(o=!o&&Wr.isArray(s)?s.length:o,i)return Wr.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a;s[o]&&Wr.isObject(s[o])||(s[o]=[]);return t(e,r,s[o],n)&&Wr.isArray(s[o])&&(s[o]=function(e){const t={},r=Object.keys(e);let s;const n=r.length;let o;for(s=0;s<n;s++)o=r[s],t[o]=e[o];return t}(s[o])),!a}if(Wr.isFormData(e)&&Wr.isFunction(e.entries)){const r={};return Wr.forEachEntry(e,((e,s)=>{t(function(e){return Wr.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),s,r,0)})),r}return null};const gs={transitional:as,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,n=Wr.isObject(e);n&&Wr.isHTMLForm(e)&&(e=new FormData(e));if(Wr.isFormData(e))return s?JSON.stringify(ps(e)):e;if(Wr.isArrayBuffer(e)||Wr.isBuffer(e)||Wr.isStream(e)||Wr.isFile(e)||Wr.isBlob(e)||Wr.isReadableStream(e))return e;if(Wr.isArrayBufferView(e))return e.buffer;if(Wr.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Xr(e,new hs.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,s){return hs.isNode&&Wr.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=Wr.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Xr(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||s?(t.setContentType("application/json",!1),function(e,t,r){if(Wr.isString(e))try{return(t||JSON.parse)(e),Wr.trim(e)}catch(Kf){if("SyntaxError"!==Kf.name)throw Kf}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||gs.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if(Wr.isResponse(e)||Wr.isReadableStream(e))return e;if(e&&Wr.isString(e)&&(r&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(Kf){if(r){if("SyntaxError"===Kf.name)throw Gr.from(Kf,Gr.ERR_BAD_RESPONSE,this,null,this.response);throw Kf}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hs.classes.FormData,Blob:hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Wr.forEach(["delete","get","head","post","put","patch"],(e=>{gs.headers[e]={}}));const fs=gs,xs=Wr.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vs=Symbol("internals");function bs(e){return e&&String(e).trim().toLowerCase()}function ys(e){return!1===e||null==e?e:Wr.isArray(e)?e.map(ys):String(e)}function ws(e,t,r,s,n){return Wr.isFunction(s)?s.call(this,t,r):(n&&(t=r),Wr.isString(t)?Wr.isString(s)?-1!==t.indexOf(s):Wr.isRegExp(s)?s.test(t):void 0:void 0)}class js{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function n(e,t,r){const n=bs(t);if(!n)throw new Error("header name must be a non-empty string");const o=Wr.findKey(s,n);(!o||void 0===s[o]||!0===r||void 0===r&&!1!==s[o])&&(s[o||t]=ys(e))}const o=(e,t)=>Wr.forEach(e,((e,r)=>n(e,r,t)));if(Wr.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Wr.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,s,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),r=e.substring(0,n).trim().toLowerCase(),s=e.substring(n+1).trim(),!r||t[r]&&xs[r]||("set-cookie"===r?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)})),t})(e),t);else if(Wr.isObject(e)&&Wr.isIterable(e)){let r,s,n={};for(const t of e){if(!Wr.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[s=t[0]]=(r=n[s])?Wr.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}o(n,t)}else null!=e&&n(t,e,r);return this}get(e,t){if(e=bs(e)){const r=Wr.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}(e);if(Wr.isFunction(t))return t.call(this,e,r);if(Wr.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=bs(e)){const r=Wr.findKey(this,e);return!(!r||void 0===this[r]||t&&!ws(0,this[r],r,t))}return!1}delete(e,t){const r=this;let s=!1;function n(e){if(e=bs(e)){const n=Wr.findKey(r,e);!n||t&&!ws(0,r[n],n,t)||(delete r[n],s=!0)}}return Wr.isArray(e)?e.forEach(n):n(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const n=t[r];e&&!ws(0,this[n],n,e,!0)||(delete this[n],s=!0)}return s}normalize(e){const t=this,r={};return Wr.forEach(this,((s,n)=>{const o=Wr.findKey(r,n);if(o)return t[o]=ys(s),void delete t[n];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(n):String(n).trim();a!==n&&delete t[n],t[a]=ys(s),r[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Wr.forEach(this,((r,s)=>{null!=r&&!1!==r&&(t[s]=e&&Wr.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,s=new Array(r>1?r-1:0),n=1;n<r;n++)s[n-1]=arguments[n];return s.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[vs]=this[vs]={accessors:{}}).accessors,r=this.prototype;function s(e){const s=bs(e);t[s]||(!function(e,t){const r=Wr.toCamelCase(" "+t);["get","set","has"].forEach((s=>{Object.defineProperty(e,s+r,{value:function(e,r,n){return this[s].call(this,t,e,r,n)},configurable:!0})}))}(r,e),t[s]=!0)}return Wr.isArray(e)?e.forEach(s):s(e),this}}js.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Wr.reduceDescriptors(js.prototype,((e,t)=>{let{value:r}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[s]=e}}})),Wr.freezeMethods(js);const Ns=js;function ks(e,t){const r=this||fs,s=t||r,n=Ns.from(s.headers);let o=s.data;return Wr.forEach(e,(function(e){o=e.call(r,o,n.normalize(),t?t.status:void 0)})),n.normalize(),o}function Ss(e){return!(!e||!e.__CANCEL__)}function Cs(e,t,r){Gr.call(this,null==e?"canceled":e,Gr.ERR_CANCELED,t,r),this.name="CanceledError"}Wr.inherits(Cs,Gr,{__CANCEL__:!0});const Ls=Cs;function Es(e,t,r){const s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new Gr("Request failed with status code "+r.status,[Gr.ERR_BAD_REQUEST,Gr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Ps=function(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n,o=0,a=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=s[a];n||(n=l),r[o]=i,s[o]=l;let d=a,u=0;for(;d!==o;)u+=r[d++],d%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-n<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const _s=function(e,t){let r,s,n=0,o=1e3/t;const a=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();n=o,r=null,s&&(clearTimeout(s),s=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-n;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=o?a(l,e):(r=l,s||(s=setTimeout((()=>{s=null,a(r)}),o-t)))},()=>r&&a(r)]},Ms=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const n=Ps(50,250);return _s((r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,i=o-s,l=n(i);s=o;e({loaded:o,total:a,progress:a?o/a:void 0,bytes:i,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:r,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),r)},Ts=(e,t)=>{const r=null!=e;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Os=e=>function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return Wr.asap((()=>e(...r)))},As=hs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,hs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(hs.origin),hs.navigator&&/(msie|trident)/i.test(hs.navigator.userAgent)):()=>!0,Rs=hs.hasStandardBrowserEnv?{write(e,t,r,s,n,o){const a=[e+"="+encodeURIComponent(t)];Wr.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),Wr.isString(s)&&a.push("path="+s),Wr.isString(n)&&a.push("domain="+n),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ds(e,t,r){let s=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(s||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Is=e=>e instanceof Ns?{...e}:e;function zs(e,t){t=t||{};const r={};function s(e,t,r,s){return Wr.isPlainObject(e)&&Wr.isPlainObject(t)?Wr.merge.call({caseless:s},e,t):Wr.isPlainObject(t)?Wr.merge({},t):Wr.isArray(t)?t.slice():t}function n(e,t,r,n){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:s(void 0,e,0,n):s(e,t,0,n)}function o(e,t){if(!Wr.isUndefined(t))return s(void 0,t)}function a(e,t){return Wr.isUndefined(t)?Wr.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function i(r,n,o){return o in t?s(r,n):o in e?s(void 0,r):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(e,t,r)=>n(Is(e),Is(t),0,!0)};return Wr.forEach(Object.keys(Object.assign({},e,t)),(function(s){const o=l[s]||n,a=o(e[s],t[s],s);Wr.isUndefined(a)&&o!==i||(r[s]=a)})),r}const Fs=e=>{const t=zs({},e);let r,{data:s,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Ns.from(i),t.url=ns(Ds(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Wr.isFormData(s))if(hs.hasStandardBrowserEnv||hs.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(hs.hasStandardBrowserEnv&&(n&&Wr.isFunction(n)&&(n=n(t)),n||!1!==n&&As(t.url))){const e=o&&a&&Rs.read(a);e&&i.set(o,e)}return t},Bs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const s=Fs(e);let n=s.data;const o=Ns.from(s.headers).normalize();let a,i,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=s;function p(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(a),s.signal&&s.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function f(){if(!g)return;const s=Ns.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Es((function(e){t(e),p()}),(function(e){r(e),p()}),{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:s,config:e,request:g}),g=null}g.open(s.method.toUpperCase(),s.url,!0),g.timeout=s.timeout,"onloadend"in g?g.onloadend=f:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(f)},g.onabort=function(){g&&(r(new Gr("Request aborted",Gr.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new Gr("Network Error",Gr.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const n=s.transitional||as;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),r(new Gr(t,n.clarifyTimeoutError?Gr.ETIMEDOUT:Gr.ECONNABORTED,e,g)),g=null},void 0===n&&o.setContentType(null),"setRequestHeader"in g&&Wr.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),Wr.isUndefined(s.withCredentials)||(g.withCredentials=!!s.withCredentials),u&&"json"!==u&&(g.responseType=s.responseType),h&&([l,d]=Ms(h,!0),g.addEventListener("progress",l)),m&&g.upload&&([i,c]=Ms(m),g.upload.addEventListener("progress",i),g.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(a=t=>{g&&(r(!t||t.type?new Ls(null,e,g):t),g.abort(),g=null)},s.cancelToken&&s.cancelToken.subscribe(a),s.signal&&(s.signal.aborted?a():s.signal.addEventListener("abort",a)));const x=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);x&&-1===hs.protocols.indexOf(x)?r(new Gr("Unsupported protocol "+x+":",Gr.ERR_BAD_REQUEST,e)):g.send(n||null)}))},Us=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,s=new AbortController;const n=function(e){if(!r){r=!0,a();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Gr?t:new Ls(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,n(new Gr(`timeout ${t} of ms exceeded`,Gr.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)})),e=null)};e.forEach((e=>e.addEventListener("abort",n)));const{signal:i}=s;return i.unsubscribe=()=>Wr.asap(a),i}},$s=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let s,n=0;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Ws=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},Vs=(e,t,r,s)=>{const n=async function*(e,t){for await(const r of Ws(e))yield*$s(r,t)}(e,t);let o,a=0,i=e=>{o||(o=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await n.next();if(t)return i(),void e.close();let o=s.byteLength;if(r){let e=a+=o;r(e)}e.enqueue(new Uint8Array(s))}catch(t){throw i(t),t}},cancel:e=>(i(e),n.return())},{highWaterMark:2})},Hs="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qs=Hs&&"function"===typeof ReadableStream,Gs=Hs&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ks=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return!!e(...r)}catch(Kf){return!1}},Ys=qs&&Ks((()=>{let e=!1;const t=new Request(hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Zs=qs&&Ks((()=>Wr.isReadableStream(new Response("").body))),Qs={stream:Zs&&(e=>e.body)};var Xs;Hs&&(Xs=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Qs[e]&&(Qs[e]=Wr.isFunction(Xs[e])?t=>t[e]():(t,r)=>{throw new Gr(`Response type '${e}' is not supported`,Gr.ERR_NOT_SUPPORT,r)})})));const Js=async(e,t)=>{const r=Wr.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Wr.isBlob(e))return e.size;if(Wr.isSpecCompliantForm(e)){const t=new Request(hs.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Wr.isArrayBufferView(e)||Wr.isArrayBuffer(e)?e.byteLength:(Wr.isURLSearchParams(e)&&(e+=""),Wr.isString(e)?(await Gs(e)).byteLength:void 0)})(t):r},en=Hs&&(async e=>{let{url:t,method:r,data:s,signal:n,cancelToken:o,timeout:a,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Fs(e);c=c?(c+"").toLowerCase():"text";let h,p=Us([n,o&&o.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(l&&Ys&&"get"!==r&&"head"!==r&&0!==(f=await Js(d,s))){let e,r=new Request(t,{method:"POST",body:s,duplex:"half"});if(Wr.isFormData(s)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Ts(f,Ms(Os(l)));s=Vs(r.body,65536,e,t)}}Wr.isString(u)||(u=u?"include":"omit");const n="credentials"in Request.prototype;h=new Request(t,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:n?u:void 0});let o=await fetch(h);const a=Zs&&("stream"===c||"response"===c);if(Zs&&(i||a&&g)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=Wr.toFiniteNumber(o.headers.get("content-length")),[r,s]=i&&Ts(t,Ms(Os(i),!0))||[];o=new Response(Vs(o.body,65536,r,(()=>{s&&s(),g&&g()})),e)}c=c||"text";let x=await Qs[Wr.findKey(Qs,c)||"text"](o,e);return!a&&g&&g(),await new Promise(((t,r)=>{Es(t,r,{data:x,headers:Ns.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})}))}catch(x){if(g&&g(),x&&"TypeError"===x.name&&/Load failed|fetch/i.test(x.message))throw Object.assign(new Gr("Network Error",Gr.ERR_NETWORK,e,h),{cause:x.cause||x});throw Gr.from(x,x&&x.code,e,h)}}),tn={http:null,xhr:Bs,fetch:en};Wr.forEach(tn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Kf){}Object.defineProperty(e,"adapterName",{value:t})}}));const rn=e=>`- ${e}`,sn=e=>Wr.isFunction(e)||null===e||!1===e,nn=e=>{e=Wr.isArray(e)?e:[e];const{length:t}=e;let r,s;const n={};for(let o=0;o<t;o++){let t;if(r=e[o],s=r,!sn(r)&&(s=tn[(t=String(r)).toLowerCase()],void 0===s))throw new Gr(`Unknown adapter '${t}'`);if(s)break;n[t||"#"+o]=s}if(!s){const e=Object.entries(n).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(rn).join("\n"):" "+rn(e[0]):"as no adapter specified";throw new Gr("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s};function on(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ls(null,e)}function an(e){on(e),e.headers=Ns.from(e.headers),e.data=ks.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return nn(e.adapter||fs.adapter)(e).then((function(t){return on(e),t.data=ks.call(e,e.transformResponse,t),t.headers=Ns.from(t.headers),t}),(function(t){return Ss(t)||(on(e),t&&t.response&&(t.response.data=ks.call(e,e.transformResponse,t.response),t.response.headers=Ns.from(t.response.headers))),Promise.reject(t)}))}const ln="1.9.0",cn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{cn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const dn={};cn.transitional=function(e,t,r){function s(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,n,o)=>{if(!1===e)throw new Gr(s(n," has been removed"+(t?" in "+t:"")),Gr.ERR_DEPRECATED);return t&&!dn[n]&&(dn[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}},cn.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const un={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Gr("options must be an object",Gr.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const o=s[n],a=t[o];if(a){const t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new Gr("option "+o+" must be "+r,Gr.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Gr("Unknown option "+o,Gr.ERR_BAD_OPTION)}},validators:cn},mn=un.validators;class hn{constructor(e){this.defaults=e||{},this.interceptors={request:new os,response:new os}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Kf){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zs(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:n}=t;void 0!==r&&un.assertOptions(r,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),null!=s&&(Wr.isFunction(s)?t.paramsSerializer={serialize:s}:un.assertOptions(s,{encode:mn.function,serialize:mn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),un.assertOptions(t,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&Wr.merge(n.common,n[t.method]);n&&Wr.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=Ns.concat(o,n);const a=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[an.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=a.length;let m=t;for(u=0;u<d;){const e=a[u++],t=a[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=an.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ns(Ds((e=zs(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Wr.forEach(["delete","get","head","options"],(function(e){hn.prototype[e]=function(t,r){return this.request(zs(r||{},{method:e,url:t,data:(r||{}).data}))}})),Wr.forEach(["post","put","patch"],(function(e){function t(t){return function(r,s,n){return this.request(zs(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}hn.prototype[e]=t(),hn.prototype[e+"Form"]=t(!0)}));const pn=hn;class gn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const s=new Promise((e=>{r.subscribe(e),t=e})).then(e);return s.cancel=function(){r.unsubscribe(t)},s},e((function(e,s,n){r.reason||(r.reason=new Ls(e,s,n),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new gn((function(t){e=t})),cancel:e}}}const fn=gn;const xn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xn).forEach((e=>{let[t,r]=e;xn[r]=t}));const vn=xn;const bn=function e(t){const r=new pn(t),s=or(pn.prototype.request,r);return Wr.extend(s,pn.prototype,r,{allOwnKeys:!0}),Wr.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return e(zs(t,r))},s}(fs);bn.Axios=pn,bn.CanceledError=Ls,bn.CancelToken=fn,bn.isCancel=Ss,bn.VERSION=ln,bn.toFormData=Xr,bn.AxiosError=Gr,bn.Cancel=bn.CanceledError,bn.all=function(e){return Promise.all(e)},bn.spread=function(e){return function(t){return e.apply(null,t)}},bn.isAxiosError=function(e){return Wr.isObject(e)&&!0===e.isAxiosError},bn.mergeConfig=zs,bn.AxiosHeaders=Ns,bn.formToJSON=e=>ps(Wr.isHTMLForm(e)?new FormData(e):e),bn.getAdapter=nn,bn.HttpStatusCode=vn,bn.default=bn;const yn=bn,wn=window.location.hostname.includes("appspot.com")?"https://onyx-osprey-462815-i9.uc.r.appspot.com/api":"https://zammer2.appspot.com/api";console.log("\ud83c\udf10 API URL:",wn);const jn=yn.create({baseURL:wn,timeout:3e4,withCredentials:!1,headers:{"Content-Type":"application/json"}});jn.interceptors.request.use((e=>{const t=localStorage.getItem("token")||localStorage.getItem("sellerToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>(console.error("\ud83d\udea8 API Request Error:",e),Promise.reject(e)))),jn.interceptors.response.use((e=>e),(e=>{var t;return console.error("\ud83d\udea8 API Response Error:",e),401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("sellerToken"),window.location.pathname.includes("/login")||(window.location.href="/user/login")),Promise.reject(e)}));const Nn=jn,kn={loginAdmin:async e=>{try{var t,r,s;e.email;const n=await Nn.post("/admin/login",e);return n.data.success,null===(t=n.data.data)||void 0===t||t.name,null===(r=n.data.data)||void 0===r||r.role,null===(s=n.data.data)||void 0===s||s.token,n.data}catch(d){var n,o,a,i,l,c;throw null===(n=d.response)||void 0===n||n.status,(null===(o=d.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||d.message,null===(i=d.response)||void 0===i||null===(l=i.data)||void 0===l||l.errors,(null===(c=d.response)||void 0===c?void 0:c.data)||{success:!1,message:"Network error"}}},getDashboardStats:async()=>{try{var e,t,r,s,n,o;const a=await Nn.get("/admin/dashboard/stats");return null===(e=a.data.data)||void 0===e||null===(t=e.overview)||void 0===t||t.totalSellers,null===(r=a.data.data)||void 0===r||null===(s=r.overview)||void 0===s||s.totalUsers,null===(n=a.data.data)||void 0===n||null===(o=n.overview)||void 0===o||o.totalProducts,a.data}catch(d){var a,i,l,c;throw null===(a=d.response)||void 0===a||a.status,(null===(i=d.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||d.message,(null===(c=d.response)||void 0===c?void 0:c.data)||{success:!1,message:"Network error"}}},getAllSellers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r,s;const n=await Nn.get("/admin/sellers",{params:e});return null===(t=n.data.data)||void 0===t||t.length,null===(r=n.data.pagination)||void 0===r||r.totalSellers,null===(s=n.data.pagination)||void 0===s||s.currentPage,n.data}catch(l){var n,o,a,i;throw null===(n=l.response)||void 0===n||n.status,(null===(o=l.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||l.message,(null===(i=l.response)||void 0===i?void 0:i.data)||{success:!1,message:"Network error"}}},getSellerProfile:async e=>{try{var t,r,s,n,o,a,i;const l=await Nn.get(`/admin/sellers/${e}`);return null===(t=l.data.data)||void 0===t||null===(r=t.seller)||void 0===r||r.firstName,null===(s=l.data.data)||void 0===s||null===(n=s.seller)||void 0===n||null===(o=n.shop)||void 0===o||o.name,null===(a=l.data.data)||void 0===a||null===(i=a.stats)||void 0===i||i.totalProducts,l.data}catch(m){var l,c,d,u;throw null===(l=m.response)||void 0===l||l.status,(null===(c=m.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||m.message,(null===(u=m.response)||void 0===u?void 0:u.data)||{success:!1,message:"Network error"}}},getAllUsers:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t,r,s;const n=await Nn.get("/admin/users",{params:e});return null===(t=n.data.data)||void 0===t||t.length,null===(r=n.data.pagination)||void 0===r||r.totalUsers,null===(s=n.data.pagination)||void 0===s||s.currentPage,n.data}catch(l){var n,o,a,i;throw null===(n=l.response)||void 0===n||n.status,(null===(o=l.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||l.message,(null===(i=l.response)||void 0===i?void 0:i.data)||{success:!1,message:"Network error"}}},getUserProfile:async e=>{try{var t,r,s,n,o,a;const i=await Nn.get(`/admin/users/${e}`);return null===(t=i.data.data)||void 0===t||null===(r=t.user)||void 0===r||r.name,null===(s=i.data.data)||void 0===s||null===(n=s.user)||void 0===n||n.email,null===(o=i.data.data)||void 0===o||null===(a=o.stats)||void 0===a||a.wishlistItems,i.data}catch(u){var i,l,c,d;throw null===(i=u.response)||void 0===i||i.status,(null===(l=u.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||u.message,(null===(d=u.response)||void 0===d?void 0:d.data)||{success:!1,message:"Network error"}}}},Sn=()=>{const[e,t]=(0,s.useState)({email:"",password:""}),[r,n]=(0,s.useState)(!1),[o,a]=(0,s.useState)({}),[i,l]=(0,s.useState)(!1),c=re(),d=e=>{const{name:r,value:s}=e.target;t((e=>({...e,[r]:s}))),o[r]&&a((e=>({...e,[r]:""})))};return(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"mx-auto h-16 w-16 bg-orange-600 rounded-full flex items-center justify-center mb-4",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Xt.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Admin Login"}),(0,Xt.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the admin dashboard"})]}),(0,Xt.jsxs)("div",{className:"bg-white py-8 px-6 shadow-xl rounded-lg",children:[(0,Xt.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return e.email.trim()?/^\S+@\S+\.\S+$/.test(e.email)||(t.email="Please enter a valid email"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Password is required",a(t),0===Object.keys(t).length})()){n(!0);try{console.log("\ud83d\udd10 Admin login attempt:",{email:e.email});const t=await kn.loginAdmin({email:e.email.trim(),password:e.password});if(!t.success)throw new Error(t.message||"Login failed");console.log("\u2705 Admin login successful:",t.data),localStorage.setItem("adminToken",t.data.token),localStorage.setItem("adminData",JSON.stringify(t.data)),Bt.success(`Welcome back, ${t.data.name}!`),c("/admin/dashboard",{replace:!0})}catch(r){if(console.error("\u274c Admin login error:",r),r.errors&&Array.isArray(r.errors)){const e={};r.errors.forEach((t=>{e[t.path||t.param]=t.msg})),a(e)}else Bt.error(r.message||"Login failed. Please try again.")}finally{n(!1)}}},children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e.email,onChange:d,className:`appearance-none relative block w-full px-3 py-3 border ${o.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm`,placeholder:"Enter your admin email"}),(0,Xt.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,Xt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})})]}),o.email&&(0,Xt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("input",{id:"password",name:"password",type:i?"text":"password",autoComplete:"current-password",required:!0,value:e.password,onChange:d,className:`appearance-none relative block w-full px-3 py-3 border ${o.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm pr-10`,placeholder:"Enter your password"}),(0,Xt.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>l(!i),children:i?(0,Xt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,Xt.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),o.password&&(0,Xt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.password})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,Xt.jsx)("svg",{className:"h-5 w-5 text-orange-500 group-hover:text-orange-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),"Sign in to Admin Panel"]})})})]}),(0,Xt.jsx)("div",{className:"mt-6 text-center",children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Not an admin?"," ",(0,Xt.jsx)(nt,{to:"/user/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"User Login"})," ","or"," ",(0,Xt.jsx)(nt,{to:"/seller/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Seller Login"})]})})]}),!1]})})},Cn=e=>{var t,r;let{children:n}=e;const o=re(),a=J(),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(null);(0,s.useEffect)((()=>{0}),[a.pathname]),(0,s.useEffect)((()=>{(()=>{try{const t=localStorage.getItem("adminToken"),r=localStorage.getItem("adminData");if(!t||!r)return console.log("AdminLayout - Not authenticated, redirecting to login"),void o("/admin/login",{replace:!0,state:{from:a.pathname}});try{const e=JSON.parse(r);if(!e||!e._id)throw new Error("Invalid admin data structure");d(e),m(null)}catch(e){return console.error("AdminLayout - Error parsing admin data:",e),m("Session data corrupted. Please log in again."),localStorage.removeItem("adminToken"),localStorage.removeItem("adminData"),void o("/admin/login",{replace:!0})}}catch(t){console.error("AdminLayout - Auth check error:",t),m("Authentication error occurred")}finally{l(!1)}})()}),[o,a.pathname]);const h=[{path:"/admin/dashboard",label:"Dashboard",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/admin/sellers",label:"View Sellers",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})},{path:"/admin/users",label:"View Users",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}];return i?(0,Xt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):u?(0,Xt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Authentication Error"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:u}),(0,Xt.jsx)("button",{onClick:()=>o("/admin/login"),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Go to Login"})]})}):c?(0,Xt.jsxs)("div",{className:"admin-layout min-h-screen bg-gray-50",children:[(0,Xt.jsx)("header",{className:"bg-orange-600 text-white shadow-md",children:(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("h1",{className:"text-xl font-bold",children:"Zammer Admin Panel"}),!1]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[c&&(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"bg-orange-500 rounded-full w-8 h-8 flex items-center justify-center",children:(0,Xt.jsx)("span",{className:"text-sm font-medium",children:(null===(t=c.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"A"})}),(0,Xt.jsxs)("div",{className:"hidden sm:block",children:[(0,Xt.jsx)("span",{className:"text-sm font-medium",children:c.name||"Admin"}),(0,Xt.jsx)("p",{className:"text-xs text-orange-200",children:c.role||"admin"})]})]}),(0,Xt.jsx)("button",{onClick:async()=>{try{console.log("AdminLayout - Logging out admin"),localStorage.removeItem("adminToken"),localStorage.removeItem("adminData"),Bt.success("Logged out successfully"),o("/admin/login",{replace:!0})}catch(u){console.error("AdminLayout - Logout error:",u),Bt.error("Error during logout")}},className:"bg-white text-orange-600 px-4 py-2 rounded-md hover:bg-gray-50 transition-colors text-sm font-medium",children:"Logout"})]})]})}),(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-6 flex flex-col lg:flex-row gap-6",children:[(0,Xt.jsxs)("aside",{className:"lg:w-64 bg-white rounded-lg shadow-sm p-4",children:[(0,Xt.jsx)("nav",{children:(0,Xt.jsx)("ul",{className:"space-y-1",children:h.map((e=>{const t=a.pathname===e.path;return(0,Xt.jsx)("li",{children:(0,Xt.jsx)(nt,{to:e.path,className:"flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors "+(t?"bg-orange-500 text-white":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>{0},children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[e.icon,(0,Xt.jsx)("span",{children:e.label})]})})},e.path)}))})}),(0,Xt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Xt.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Admin Info"}),(0,Xt.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Name:"})," ",(null===c||void 0===c?void 0:c.name)||"Not set"]}),(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Role:"})," ",(null===c||void 0===c?void 0:c.role)||"admin"]}),(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Email:"})," ",(null===c||void 0===c?void 0:c.email)||"Not set"]}),(0,Xt.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Xt.jsx)("span",{className:"text-xs text-green-600",children:"System monitoring active"})]})})]})]})]}),(0,Xt.jsx)("main",{className:"flex-1 bg-white rounded-lg shadow-sm p-6 min-h-[calc(100vh-12rem)]",children:(0,Xt.jsx)("div",{className:"max-w-full",children:n})})]}),(0,Xt.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-8",children:(0,Xt.jsxs)("div",{className:"container mx-auto px-4 text-center text-gray-600 text-sm",children:[(0,Xt.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Zammer Marketplace Admin Panel. All rights reserved."]}),!1]})})]}):null},Ln=()=>{var e,t,r,n,o,a,i,l;const[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),[h,p]=(0,s.useState)(null);(0,s.useEffect)((()=>{g()}),[]);const g=async()=>{try{m(!0),console.log("\ud83d\udcca Fetching dashboard statistics...");const e=await kn.getDashboardStats();if(!e.success)throw new Error(e.message||"Failed to fetch dashboard stats");d(e.data),console.log("\u2705 Dashboard stats loaded:",e.data)}catch(h){console.error("\u274c Dashboard stats error:",h),p(h.message||"Failed to load dashboard data"),Bt.error("Failed to load dashboard data")}finally{m(!1)}},f=e=>{let{title:t,value:r,icon:s,color:n,link:o}=e;return(0,Xt.jsx)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200 hover:shadow-md transition-shadow",children:(0,Xt.jsx)("div",{className:"p-6",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:`w-12 h-12 rounded-lg ${n} flex items-center justify-center`,children:s})}),(0,Xt.jsx)("div",{className:"ml-4 flex-1",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600 truncate",children:t}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),o&&(0,Xt.jsx)(nt,{to:o,className:"text-sm text-orange-600 hover:text-orange-500 font-medium",children:"View All \u2192"})]})})]})})})},x=e=>{var t,r,s,n,o;let{item:a,type:i}=e;return(0,Xt.jsxs)("div",{className:"flex items-center p-4 hover:bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("span",{className:"text-sm font-medium text-orange-600",children:"seller"===i?(null===(t=a.firstName)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"S":(null===(s=a.name)||void 0===s||null===(n=s.charAt(0))||void 0===n?void 0:n.toUpperCase())||"U"})})}),(0,Xt.jsxs)("div",{className:"ml-4 flex-1",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"seller"===i?a.firstName:a.name}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:a.email}),"seller"===i&&(null===(o=a.shop)||void 0===o?void 0:o.name)&&(0,Xt.jsxs)("p",{className:"text-xs text-gray-400",children:["Shop: ",a.shop.name]})]}),(0,Xt.jsx)("div",{className:"text-xs text-gray-400",children:new Date(a.createdAt).toLocaleDateString()})]})};return u?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})}):h?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Dashboard"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:h}),(0,Xt.jsx)("button",{onClick:g,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Try Again"})]})})}):(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"space-y-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Welcome to the Zammer Admin Panel"})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Xt.jsx)("span",{className:"text-sm text-green-600",children:"System Active"})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Xt.jsx)(f,{title:"Total Sellers",value:(null===c||void 0===c||null===(e=c.overview)||void 0===e?void 0:e.totalSellers)||0,icon:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"bg-blue-500",link:"/admin/sellers"}),(0,Xt.jsx)(f,{title:"Total Users",value:(null===c||void 0===c||null===(t=c.overview)||void 0===t?void 0:t.totalUsers)||0,icon:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),color:"bg-green-500",link:"/admin/users"}),(0,Xt.jsx)(f,{title:"Total Products",value:(null===c||void 0===c||null===(r=c.overview)||void 0===r?void 0:r.totalProducts)||0,icon:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),color:"bg-purple-500"}),(0,Xt.jsx)(f,{title:"Active Products",value:(null===c||void 0===c||null===(n=c.overview)||void 0===n?void 0:n.activeProducts)||0,icon:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"bg-emerald-500"})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,Xt.jsx)("div",{className:"p-6",children:(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xt.jsxs)(nt,{to:"/admin/sellers",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"View Registered Sellers"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Manage all seller accounts and shops"})]})]}),(0,Xt.jsxs)(nt,{to:"/admin/users",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"View All Buyers"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Manage all user accounts and profiles"})]})]})]})})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Xt.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Sellers"}),(0,Xt.jsx)(nt,{to:"/admin/sellers",className:"text-sm text-orange-600 hover:text-orange-500 font-medium",children:"View All"})]}),(0,Xt.jsx)("div",{className:"divide-y divide-gray-200",children:(null===c||void 0===c||null===(o=c.recent)||void 0===o||null===(a=o.sellers)||void 0===a?void 0:a.length)>0?c.recent.sellers.map((e=>(0,Xt.jsx)(x,{item:e,type:"seller"},e._id))):(0,Xt.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No recent sellers found"})})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,Xt.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Users"}),(0,Xt.jsx)(nt,{to:"/admin/users",className:"text-sm text-orange-600 hover:text-orange-500 font-medium",children:"View All"})]}),(0,Xt.jsx)("div",{className:"divide-y divide-gray-200",children:(null===c||void 0===c||null===(i=c.recent)||void 0===i||null===(l=i.users)||void 0===l?void 0:l.length)>0?c.recent.users.map((e=>(0,Xt.jsx)(x,{item:e,type:"user"},e._id))):(0,Xt.jsx)("div",{className:"p-6 text-center text-gray-500",children:"No recent users found"})})]})]})]})})},En=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(null),[i,l]=(0,s.useState)({currentPage:1,totalPages:1,totalSellers:0}),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)([]);(0,s.useEffect)((()=>{h()}),[i.currentPage]),(0,s.useEffect)((()=>{if(""===c.trim())m(e);else{const t=e.filter((e=>{var t,r,s,n,o,a;return(null===(t=e.firstName)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(s=e.shop)||void 0===s||null===(n=s.name)||void 0===n?void 0:n.toLowerCase().includes(c.toLowerCase()))||(null===(o=e.shop)||void 0===o||null===(a=o.category)||void 0===a?void 0:a.toLowerCase().includes(c.toLowerCase()))}));m(t)}}),[c,e]);const h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{n(!0),console.log("\ud83d\udcca Fetching sellers for page:",e);const r=await kn.getAllSellers({page:e,limit:20});if(!r.success)throw new Error(r.message||"Failed to fetch sellers");t(r.data),m(r.data),l(r.pagination),console.log("\u2705 Sellers loaded:",{count:r.data.length,total:r.pagination.totalSellers})}catch(o){console.error("\u274c Sellers fetch error:",o),a(o.message||"Failed to load sellers"),Bt.error("Failed to load sellers")}finally{n(!1)}},p=e=>{var t,r,s,n,o;let{seller:a}=e;const i=(e=>{var t;return null!==(t=e.shop)&&void 0!==t&&t.name?{status:"Active",color:"bg-green-100 text-green-800"}:{status:"No Shop",color:"bg-red-100 text-red-800"}})(a);return(0,Xt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Xt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("span",{className:"text-lg font-semibold text-orange-600",children:(null===(t=a.firstName)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"S"})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.firstName||"Unknown"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:a.email}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:a.mobileNumber}),(0,Xt.jsxs)("div",{className:"mt-2",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${i.color}`,children:i.status}),(null===(s=a.shop)||void 0===s?void 0:s.category)&&(0,Xt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:a.shop.category})]}),(null===(n=a.shop)||void 0===n?void 0:n.name)&&(0,Xt.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Shop:"})," ",a.shop.name]})]})]})]}),(0,Xt.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,Xt.jsx)(nt,{to:`/admin/sellers/${a._id}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"View Profile"}),(0,Xt.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[(0,Xt.jsxs)("p",{children:["Products: ",a.productCount||0]}),(0,Xt.jsxs)("p",{children:["Joined: ",(l=a.createdAt,new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]})]})]}),(null===(o=a.shop)||void 0===o?void 0:o.address)&&(0,Xt.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Address:"})," ",a.shop.address]})})]});var l};return r?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading sellers..."})]})})}):o?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Sellers"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:o}),(0,Xt.jsx)("button",{onClick:()=>h(),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Try Again"})]})})}):(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"View Registered Sellers"}),(0,Xt.jsxs)("p",{className:"text-gray-600",children:["Total ",i.totalSellers," sellers registered in the system"]})]}),(0,Xt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Xt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Xt.jsx)("input",{type:"text",placeholder:"Search sellers...",value:c,onChange:e=>d(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm"})]})})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Sellers"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:i.totalSellers})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Shops"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.filter((e=>{var t;return null===(t=e.shop)||void 0===t?void 0:t.name})).length})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.reduce(((e,t)=>e+(t.productCount||0)),0)})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Showing"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:u.length})]})]})})]}),(0,Xt.jsx)("div",{className:"space-y-4",children:u.length>0?u.map((e=>(0,Xt.jsx)(p,{seller:e},e._id))):(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Xt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No sellers found"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c?"Try adjusting your search terms.":"No sellers have registered yet."})]})}),i.totalPages>1&&(0,Xt.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,Xt.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Xt.jsx)("button",{onClick:()=>h(i.currentPage-1),disabled:!i.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Xt.jsx)("button",{onClick:()=>h(i.currentPage+1),disabled:!i.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Xt.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Xt.jsx)("div",{children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,Xt.jsx)("span",{className:"font-medium",children:i.currentPage})," of"," ",(0,Xt.jsx)("span",{className:"font-medium",children:i.totalPages})]})}),(0,Xt.jsx)("div",{children:(0,Xt.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Xt.jsxs)("button",{onClick:()=>h(i.currentPage-1),disabled:!i.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xt.jsx)("span",{className:"sr-only",children:"Previous"}),(0,Xt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]}),(0,Xt.jsxs)("button",{onClick:()=>h(i.currentPage+1),disabled:!i.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xt.jsx)("span",{className:"sr-only",children:"Next"}),(0,Xt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})]})]})})},Pn=()=>{var e,t,r,n,o,a,i,l,c,d,u,m;const{id:h}=se(),[p,g]=(0,s.useState)(null),[f,x]=(0,s.useState)(!0),[v,b]=(0,s.useState)(null),[y,w]=(0,s.useState)("profile");(0,s.useEffect)((()=>{h&&j()}),[h]);const j=async()=>{try{x(!0),console.log("\ud83d\udc64 Fetching seller profile for ID:",h);const e=await kn.getSellerProfile(h);if(!e.success)throw new Error(e.message||"Failed to fetch seller profile");g(e.data),console.log("\u2705 Seller profile loaded:",e.data)}catch(v){console.error("\u274c Seller profile fetch error:",v),b(v.message||"Failed to load seller profile"),Bt.error("Failed to load seller profile")}finally{x(!1)}},N=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"outOfStock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=e=>{var t;let{product:r}=e;return(0,Xt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Xt.jsxs)("div",{className:"flex space-x-4",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:r.images&&r.images.length>0?(0,Xt.jsx)("img",{src:r.images[0],alt:r.name,className:"w-20 h-20 object-cover rounded-lg",onError:e=>{e.target.onerror=null,e.target.src="/api/placeholder/80/80"}}):(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h4",{className:"text-lg font-medium text-gray-900",children:r.name}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:r.description}),(0,Xt.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["\u20b9",r.zammerPrice]}),r.mrp>r.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20b9",r.mrp]})]}),(0,Xt.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(r.status)}`,children:r.status}),r.isLimitedEdition&&(0,Xt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Limited Edition"}),r.isTrending&&(0,Xt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Trending"})]}),(0,Xt.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,Xt.jsxs)("span",{className:"text-sm text-gray-500",children:["Category: ",r.category]}),(0,Xt.jsxs)("span",{className:"text-sm text-gray-500",children:["Sub: ",r.subCategory]}),(0,Xt.jsxs)("span",{className:"text-sm text-gray-500",children:["Variants: ",(null===(t=r.variants)||void 0===t?void 0:t.length)||0]})]})]})]})})};if(f)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading seller profile..."})]})})});if(v)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Profile"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:v}),(0,Xt.jsx)("button",{onClick:j,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Try Again"})]})})});if(!p)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Seller not found"}),(0,Xt.jsx)(nt,{to:"/admin/sellers",className:"text-orange-600 hover:text-orange-500 mt-2 inline-block",children:"Back to Sellers"})]})});const{seller:C,products:L,stats:E}=p;return(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("nav",{className:"flex mb-4",children:(0,Xt.jsx)(nt,{to:"/admin/sellers",className:"text-orange-600 hover:text-orange-500",children:"\u2190 Back to All Sellers"})}),(0,Xt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[C.firstName," Profile"]}),(0,Xt.jsxs)("p",{className:"text-gray-600",children:["Seller ID: ",C._id]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Xt.jsx)("span",{className:"text-sm text-green-600",children:"Active Account"})]})]}),(0,Xt.jsx)("div",{className:"border-b border-gray-200",children:(0,Xt.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Xt.jsx)("button",{onClick:()=>w("profile"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("profile"===y?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Profile & Shop"}),(0,Xt.jsxs)("button",{onClick:()=>w("products"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("products"===y?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Products (",E.totalProducts,")"]}),(0,Xt.jsx)("button",{onClick:()=>w("statistics"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("statistics"===y?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Statistics"})]})}),"profile"===y&&(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"})}),(0,Xt.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:C.firstName})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:C.email})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mobile Number"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:C.mobileNumber})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Joined"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N(C.createdAt)})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:N(C.updatedAt)})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Shop Information"})}),(0,Xt.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Shop Name"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(e=C.shop)||void 0===e?void 0:e.name)||"Not set"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(t=C.shop)||void 0===t?void 0:t.category)||"Not set"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(r=C.shop)||void 0===r?void 0:r.address)||"Not set"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"GST Number"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:(null===(n=C.shop)||void 0===n?void 0:n.gstNumber)||"Not provided"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Phone Numbers"}),(0,Xt.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,Xt.jsxs)("p",{className:"text-sm text-gray-900",children:["Main: ",(null===(o=C.shop)||void 0===o||null===(a=o.phoneNumber)||void 0===a?void 0:a.main)||"Not set"]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-900",children:["Alt: ",(null===(i=C.shop)||void 0===i||null===(l=i.phoneNumber)||void 0===l?void 0:l.alternate)||"Not set"]})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Working Hours"}),(0,Xt.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,Xt.jsxs)("p",{className:"text-sm text-gray-900",children:["Time: ",(null===(c=C.shop)||void 0===c?void 0:c.openTime)||"Not set"," - ",(null===(d=C.shop)||void 0===d?void 0:d.closeTime)||"Not set"]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-900",children:["Days: ",(null===(u=C.shop)||void 0===u?void 0:u.workingDays)||"Not set"]})]})]})]})]}),(null===(m=C.shop)||void 0===m?void 0:m.images)&&C.shop.images.length>0&&(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 lg:col-span-2",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Shop Images"})}),(0,Xt.jsx)("div",{className:"p-6",children:(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:C.shop.images.map(((e,t)=>(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("img",{src:e,alt:`Shop ${t+1}`,className:"w-full h-24 object-cover rounded-lg",onError:e=>{e.target.onerror=null,e.target.src="/api/placeholder/200/200"}}),C.shop.mainImage===e&&(0,Xt.jsx)("div",{className:"absolute top-1 right-1 bg-orange-500 text-white text-xs px-2 py-1 rounded",children:"Main"})]},t)))})})]})]}),"products"===y&&(0,Xt.jsx)("div",{className:"space-y-4",children:L&&L.length>0?L.map((e=>(0,Xt.jsx)(S,{product:e},e._id))):(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),(0,Xt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This seller hasn't added any products yet."})]})}),"statistics"===y&&(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.totalProducts})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.activeProducts})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Limited Edition"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.limitedEditionProducts})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Trending"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.trendingProducts})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Paused"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.pausedProducts})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:E.outOfStockProducts})]})]})})]})]})})},_n=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(null),[i,l]=(0,s.useState)({currentPage:1,totalPages:1,totalUsers:0}),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)([]);(0,s.useEffect)((()=>{h()}),[i.currentPage]),(0,s.useEffect)((()=>{if(""===c.trim())m(e);else{const t=e.filter((e=>{var t,r,s;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(c.toLowerCase()))||(null===(s=e.mobileNumber)||void 0===s?void 0:s.includes(c))}));m(t)}}),[c,e]);const h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{n(!0),console.log("\ud83d\udcca Fetching users for page:",e);const r=await kn.getAllUsers({page:e,limit:20});if(!r.success)throw new Error(r.message||"Failed to fetch users");t(r.data),m(r.data),l(r.pagination),console.log("\u2705 Users loaded:",{count:r.data.length,total:r.pagination.totalUsers})}catch(o){console.error("\u274c Users fetch error:",o),a(o.message||"Failed to load users"),Bt.error("Failed to load users")}finally{n(!1)}},p=e=>{var t,r,s,n,o,a,i,l;let{user:c}=e;const d=(e=>e.isVerified?{status:"Verified",color:"bg-green-100 text-green-800"}:{status:"Unverified",color:"bg-yellow-100 text-yellow-800"})(c);return(0,Xt.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,Xt.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("span",{className:"text-lg font-semibold text-blue-600",children:(null===(t=c.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U"})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c.name||"Unknown"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:c.email}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:c.mobileNumber}),(0,Xt.jsxs)("div",{className:"mt-2",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.color}`,children:d.status}),(null===(s=c.location)||void 0===s?void 0:s.address)&&(0,Xt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Has Location"}),c.wishlist&&c.wishlist.length>0&&(0,Xt.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-pink-100 text-pink-800",children:[c.wishlist.length," Wishlist"]})]}),(null===(n=c.location)||void 0===n?void 0:n.address)&&(0,Xt.jsxs)("p",{className:"text-sm text-gray-700 mt-1",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Location:"})," ",c.location.address]})]})]})]}),(0,Xt.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,Xt.jsx)(nt,{to:`/admin/users/${c._id}`,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"View Profile"}),(0,Xt.jsxs)("div",{className:"text-xs text-gray-500 text-right",children:[(0,Xt.jsxs)("p",{children:["Wishlist: ",(null===(o=c.wishlist)||void 0===o?void 0:o.length)||0," items"]}),(0,Xt.jsxs)("p",{children:["Joined: ",(u=c.createdAt,new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))]})]})]})]}),(null===(a=c.location)||void 0===a?void 0:a.coordinates)&&(0,Xt.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Coordinates:"})," ",null===(i=c.location.coordinates[1])||void 0===i?void 0:i.toFixed(4),", ",null===(l=c.location.coordinates[0])||void 0===l?void 0:l.toFixed(4)]})})]});var u};return r?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading users..."})]})})}):o?(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Users"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:o}),(0,Xt.jsx)("button",{onClick:()=>h(),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Try Again"})]})})}):(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"View All Buyers/Users"}),(0,Xt.jsxs)("p",{className:"text-gray-600",children:["Total ",i.totalUsers," users registered in the system"]})]}),(0,Xt.jsx)("div",{className:"flex items-center space-x-4",children:(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Xt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Xt.jsx)("input",{type:"text",placeholder:"Search users...",value:c,onChange:e=>d(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-orange-500 focus:border-orange-500 sm:text-sm"})]})})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:i.totalUsers})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Verified"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.filter((e=>e.isVerified)).length})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"With Location"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:e.filter((e=>{var t;return null===(t=e.location)||void 0===t?void 0:t.address})).length})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-3",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Showing"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:u.length})]})]})})]}),(0,Xt.jsx)("div",{className:"space-y-4",children:u.length>0?u.map((e=>(0,Xt.jsx)(p,{user:e},e._id))):(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),(0,Xt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:c?"Try adjusting your search terms.":"No users have registered yet."})]})}),i.totalPages>1&&(0,Xt.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,Xt.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,Xt.jsx)("button",{onClick:()=>h(i.currentPage-1),disabled:!i.hasPrevPage,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Xt.jsx)("button",{onClick:()=>h(i.currentPage+1),disabled:!i.hasNextPage,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,Xt.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,Xt.jsx)("div",{children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing page ",(0,Xt.jsx)("span",{className:"font-medium",children:i.currentPage})," of"," ",(0,Xt.jsx)("span",{className:"font-medium",children:i.totalPages})]})}),(0,Xt.jsx)("div",{children:(0,Xt.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[(0,Xt.jsxs)("button",{onClick:()=>h(i.currentPage-1),disabled:!i.hasPrevPage,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xt.jsx)("span",{className:"sr-only",children:"Previous"}),(0,Xt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})]}),(0,Xt.jsxs)("button",{onClick:()=>h(i.currentPage+1),disabled:!i.hasNextPage,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Xt.jsx)("span",{className:"sr-only",children:"Next"}),(0,Xt.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})]})]})})},Mn=()=>{var e,t;const{id:r}=se(),[n,o]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null);(0,s.useEffect)((()=>{r&&d()}),[r]);const d=async()=>{try{i(!0),console.log("\ud83d\udc64 Fetching user profile for ID:",r);const e=await kn.getUserProfile(r);if(!e.success)throw new Error(e.message||"Failed to fetch user profile");o(e.data),console.log("\u2705 User profile loaded:",e.data)}catch(l){console.error("\u274c User profile fetch error:",l),c(l.message||"Failed to load user profile"),Bt.error("Failed to load user profile")}finally{i(!1)}},u=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=e=>{let{item:t}=e;return(0,Xt.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,Xt.jsxs)("div",{className:"flex space-x-4",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:t.images&&t.images.length>0?(0,Xt.jsx)("img",{src:t.images[0],alt:t.name,className:"w-16 h-16 object-cover rounded-lg",onError:e=>{e.target.onerror=null,e.target.src="/api/placeholder/64/64"}}):(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,Xt.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[(0,Xt.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["\u20b9",t.zammerPrice]}),t.mrp>t.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20b9",t.mrp]})]}),(0,Xt.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Category: ",t.category]})]})]})})};if(a)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading user profile..."})]})})});if(l)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error Loading Profile"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,Xt.jsx)("button",{onClick:d,className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Try Again"})]})})});if(!n)return(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"User not found"}),(0,Xt.jsx)(nt,{to:"/admin/users",className:"text-orange-600 hover:text-orange-500 mt-2 inline-block",children:"Back to Users"})]})});const{user:h,stats:p}=n;return(0,Xt.jsx)(Cn,{children:(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("nav",{className:"flex mb-4",children:(0,Xt.jsx)(nt,{to:"/admin/users",className:"text-orange-600 hover:text-orange-500",children:"\u2190 Back to All Users"})}),(0,Xt.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[h.name," Profile"]}),(0,Xt.jsxs)("p",{className:"text-gray-600",children:["User ID: ",h._id]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 rounded-full animate-pulse "+(h.isVerified?"bg-green-500":"bg-yellow-500")}),(0,Xt.jsx)("span",{className:"text-sm "+(h.isVerified?"text-green-600":"text-yellow-600"),children:h.isVerified?"Verified Account":"Unverified Account"})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-pink-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Wishlist Items"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:p.wishlistItems})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Verification Status"}),(0,Xt.jsx)("p",{className:"text-lg font-bold text-gray-900",children:h.isVerified?"Verified":"Unverified"})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Location Status"}),(0,Xt.jsx)("p",{className:"text-lg font-bold text-gray-900",children:p.hasLocation?"Available":"Not Set"})]})]})}),(0,Xt.jsx)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3a4 4 0 118 0v4m-4 12V9"})})})}),(0,Xt.jsxs)("div",{className:"ml-4",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Member Since"}),(0,Xt.jsx)("p",{className:"text-sm font-bold text-gray-900",children:u(p.joinedDate).split(",")[0]})]})]})})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"})}),(0,Xt.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.name})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.email})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Mobile Number"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.mobileNumber})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Account Status"}),(0,Xt.jsx)("div",{className:"mt-1",children:(0,Xt.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(h.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:h.isVerified?"Verified":"Unverified"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Joined"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:u(h.createdAt)})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:u(h.updatedAt)})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Location Information"})}),(0,Xt.jsx)("div",{className:"p-6 space-y-4",children:h.location?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Address"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.location.address||"Not provided"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Coordinates"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.location.coordinates&&2===h.location.coordinates.length?`${null===(e=h.location.coordinates[1])||void 0===e?void 0:e.toFixed(6)}, ${null===(t=h.location.coordinates[0])||void 0===t?void 0:t.toFixed(6)}`:"Not available"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Location Type"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:h.location.type||"Point"})]})]}):(0,Xt.jsxs)("div",{className:"text-center py-4",children:[(0,Xt.jsxs)("svg",{className:"mx-auto h-8 w-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"No location information available"})]})})]})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Wishlist (",p.wishlistItems," items)"]})}),(0,Xt.jsx)("div",{className:"p-6",children:h.wishlist&&h.wishlist.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:h.wishlist.map((e=>(0,Xt.jsx)(m,{item:e},e._id)))}):(0,Xt.jsxs)("div",{className:"text-center py-8",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,Xt.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Empty Wishlist"}),(0,Xt.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"This user hasn't added any items to their wishlist yet."})]})})]}),(0,Xt.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200",children:[(0,Xt.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Activity Summary"})}),(0,Xt.jsx)("div",{className:"p-6",children:(0,Xt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Xt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.wishlistItems}),(0,Xt.jsx)("div",{className:"text-sm text-gray-600",children:"Items Wishlisted"})]}),(0,Xt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:Math.floor((new Date-new Date(h.createdAt))/864e5)}),(0,Xt.jsx)("div",{className:"text-sm text-gray-600",children:"Days as Member"})]}),(0,Xt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:h.isVerified?"\u2713":"\u2717"}),(0,Xt.jsx)("div",{className:"text-sm text-gray-600",children:"Email Verified"})]}),(0,Xt.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.hasLocation?"\u2713":"\u2717"}),(0,Xt.jsx)("div",{className:"text-sm text-gray-600",children:"Location Set"})]})]})})]})]})})};var Tn=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===On}(e)}(e)};var On="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function An(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Dn((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function Rn(e,t,r){return e.concat(t).map((function(e){return An(e,r)}))}function Dn(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||Rn,r.isMergeableObject=r.isMergeableObject||Tn;var s=Array.isArray(t);return s===Array.isArray(e)?s?r.arrayMerge(e,t,r):function(e,t,r){var s={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){s[t]=An(e[t],r)})),Object.keys(t).forEach((function(n){r.isMergeableObject(t[n])&&e[n]?s[n]=Dn(e[n],t[n],r):s[n]=An(t[n],r)})),s}(e,t,r):An(t,r)}Dn.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return Dn(e,r,t)}),{})};const In=Dn;const zn="object"==typeof global&&global&&global.Object===Object&&global;var Fn="object"==typeof self&&self&&self.Object===Object&&self;const Bn=zn||Fn||Function("return this")();const Un=Bn.Symbol;var $n=Object.prototype,Wn=$n.hasOwnProperty,Vn=$n.toString,Hn=Un?Un.toStringTag:void 0;const qn=function(e){var t=Wn.call(e,Hn),r=e[Hn];try{e[Hn]=void 0;var s=!0}catch(Kf){}var n=Vn.call(e);return s&&(t?e[Hn]=r:delete e[Hn]),n};var Gn=Object.prototype.toString;const Kn=function(e){return Gn.call(e)};var Yn=Un?Un.toStringTag:void 0;const Zn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Yn&&Yn in Object(e)?qn(e):Kn(e)};const Qn=function(e,t){return function(r){return e(t(r))}};const Xn=Qn(Object.getPrototypeOf,Object);const Jn=function(e){return null!=e&&"object"==typeof e};var eo=Function.prototype,to=Object.prototype,ro=eo.toString,so=to.hasOwnProperty,no=ro.call(Object);const oo=function(e){if(!Jn(e)||"[object Object]"!=Zn(e))return!1;var t=Xn(e);if(null===t)return!0;var r=so.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ro.call(r)==no};const ao=function(){this.__data__=[],this.size=0};const io=function(e,t){return e===t||e!==e&&t!==t};const lo=function(e,t){for(var r=e.length;r--;)if(io(e[r][0],t))return r;return-1};var co=Array.prototype.splice;const uo=function(e){var t=this.__data__,r=lo(t,e);return!(r<0)&&(r==t.length-1?t.pop():co.call(t,r,1),--this.size,!0)};const mo=function(e){var t=this.__data__,r=lo(t,e);return r<0?void 0:t[r][1]};const ho=function(e){return lo(this.__data__,e)>-1};const po=function(e,t){var r=this.__data__,s=lo(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this};function go(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}go.prototype.clear=ao,go.prototype.delete=uo,go.prototype.get=mo,go.prototype.has=ho,go.prototype.set=po;const fo=go;const xo=function(){this.__data__=new fo,this.size=0};const vo=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};const bo=function(e){return this.__data__.get(e)};const yo=function(e){return this.__data__.has(e)};const wo=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const jo=function(e){if(!wo(e))return!1;var t=Zn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const No=Bn["__core-js_shared__"];var ko=function(){var e=/[^.]+$/.exec(No&&No.keys&&No.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const So=function(e){return!!ko&&ko in e};var Co=Function.prototype.toString;const Lo=function(e){if(null!=e){try{return Co.call(e)}catch(Kf){}try{return e+""}catch(Kf){}}return""};var Eo=/^\[object .+?Constructor\]$/,Po=Function.prototype,_o=Object.prototype,Mo=Po.toString,To=_o.hasOwnProperty,Oo=RegExp("^"+Mo.call(To).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Ao=function(e){return!(!wo(e)||So(e))&&(jo(e)?Oo:Eo).test(Lo(e))};const Ro=function(e,t){return null==e?void 0:e[t]};const Do=function(e,t){var r=Ro(e,t);return Ao(r)?r:void 0};const Io=Do(Bn,"Map");const zo=Do(Object,"create");const Fo=function(){this.__data__=zo?zo(null):{},this.size=0};const Bo=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var Uo=Object.prototype.hasOwnProperty;const $o=function(e){var t=this.__data__;if(zo){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Uo.call(t,e)?t[e]:void 0};var Wo=Object.prototype.hasOwnProperty;const Vo=function(e){var t=this.__data__;return zo?void 0!==t[e]:Wo.call(t,e)};const Ho=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zo&&void 0===t?"__lodash_hash_undefined__":t,this};function qo(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}qo.prototype.clear=Fo,qo.prototype.delete=Bo,qo.prototype.get=$o,qo.prototype.has=Vo,qo.prototype.set=Ho;const Go=qo;const Ko=function(){this.size=0,this.__data__={hash:new Go,map:new(Io||fo),string:new Go}};const Yo=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Zo=function(e,t){var r=e.__data__;return Yo(t)?r["string"==typeof t?"string":"hash"]:r.map};const Qo=function(e){var t=Zo(this,e).delete(e);return this.size-=t?1:0,t};const Xo=function(e){return Zo(this,e).get(e)};const Jo=function(e){return Zo(this,e).has(e)};const ea=function(e,t){var r=Zo(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this};function ta(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}ta.prototype.clear=Ko,ta.prototype.delete=Qo,ta.prototype.get=Xo,ta.prototype.has=Jo,ta.prototype.set=ea;const ra=ta;const sa=function(e,t){var r=this.__data__;if(r instanceof fo){var s=r.__data__;if(!Io||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new ra(s)}return r.set(e,t),this.size=r.size,this};function na(e){var t=this.__data__=new fo(e);this.size=t.size}na.prototype.clear=xo,na.prototype.delete=vo,na.prototype.get=bo,na.prototype.has=yo,na.prototype.set=sa;const oa=na;const aa=function(e,t){for(var r=-1,s=null==e?0:e.length;++r<s&&!1!==t(e[r],r,e););return e};const ia=function(){try{var e=Do(Object,"defineProperty");return e({},"",{}),e}catch(Kf){}}();const la=function(e,t,r){"__proto__"==t&&ia?ia(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var ca=Object.prototype.hasOwnProperty;const da=function(e,t,r){var s=e[t];ca.call(e,t)&&io(s,r)&&(void 0!==r||t in e)||la(e,t,r)};const ua=function(e,t,r,s){var n=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var i=t[o],l=s?s(r[i],e[i],i,r,e):void 0;void 0===l&&(l=e[i]),n?la(r,i,l):da(r,i,l)}return r};const ma=function(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s};const ha=function(e){return Jn(e)&&"[object Arguments]"==Zn(e)};var pa=Object.prototype,ga=pa.hasOwnProperty,fa=pa.propertyIsEnumerable,xa=ha(function(){return arguments}())?ha:function(e){return Jn(e)&&ga.call(e,"callee")&&!fa.call(e,"callee")};const va=xa;const ba=Array.isArray;const ya=function(){return!1};var wa="object"==typeof exports&&exports&&!exports.nodeType&&exports,ja=wa&&"object"==typeof module&&module&&!module.nodeType&&module,Na=ja&&ja.exports===wa?Bn.Buffer:void 0;const ka=(Na?Na.isBuffer:void 0)||ya;var Sa=/^(?:0|[1-9]\d*)$/;const Ca=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&Sa.test(e))&&e>-1&&e%1==0&&e<t};const La=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Ea={};Ea["[object Float32Array]"]=Ea["[object Float64Array]"]=Ea["[object Int8Array]"]=Ea["[object Int16Array]"]=Ea["[object Int32Array]"]=Ea["[object Uint8Array]"]=Ea["[object Uint8ClampedArray]"]=Ea["[object Uint16Array]"]=Ea["[object Uint32Array]"]=!0,Ea["[object Arguments]"]=Ea["[object Array]"]=Ea["[object ArrayBuffer]"]=Ea["[object Boolean]"]=Ea["[object DataView]"]=Ea["[object Date]"]=Ea["[object Error]"]=Ea["[object Function]"]=Ea["[object Map]"]=Ea["[object Number]"]=Ea["[object Object]"]=Ea["[object RegExp]"]=Ea["[object Set]"]=Ea["[object String]"]=Ea["[object WeakMap]"]=!1;const Pa=function(e){return Jn(e)&&La(e.length)&&!!Ea[Zn(e)]};const _a=function(e){return function(t){return e(t)}};var Ma="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ta=Ma&&"object"==typeof module&&module&&!module.nodeType&&module,Oa=Ta&&Ta.exports===Ma&&zn.process;const Aa=function(){try{var e=Ta&&Ta.require&&Ta.require("util").types;return e||Oa&&Oa.binding&&Oa.binding("util")}catch(Kf){}}();var Ra=Aa&&Aa.isTypedArray;const Da=Ra?_a(Ra):Pa;var Ia=Object.prototype.hasOwnProperty;const za=function(e,t){var r=ba(e),s=!r&&va(e),n=!r&&!s&&ka(e),o=!r&&!s&&!n&&Da(e),a=r||s||n||o,i=a?ma(e.length,String):[],l=i.length;for(var c in e)!t&&!Ia.call(e,c)||a&&("length"==c||n&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ca(c,l))||i.push(c);return i};var Fa=Object.prototype;const Ba=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fa)};const Ua=Qn(Object.keys,Object);var $a=Object.prototype.hasOwnProperty;const Wa=function(e){if(!Ba(e))return Ua(e);var t=[];for(var r in Object(e))$a.call(e,r)&&"constructor"!=r&&t.push(r);return t};const Va=function(e){return null!=e&&La(e.length)&&!jo(e)};const Ha=function(e){return Va(e)?za(e):Wa(e)};const qa=function(e,t){return e&&ua(t,Ha(t),e)};const Ga=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var Ka=Object.prototype.hasOwnProperty;const Ya=function(e){if(!wo(e))return Ga(e);var t=Ba(e),r=[];for(var s in e)("constructor"!=s||!t&&Ka.call(e,s))&&r.push(s);return r};const Za=function(e){return Va(e)?za(e,!0):Ya(e)};const Qa=function(e,t){return e&&ua(t,Za(t),e)};var Xa="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ja=Xa&&"object"==typeof module&&module&&!module.nodeType&&module,ei=Ja&&Ja.exports===Xa?Bn.Buffer:void 0,ti=ei?ei.allocUnsafe:void 0;const ri=function(e,t){if(t)return e.slice();var r=e.length,s=ti?ti(r):new e.constructor(r);return e.copy(s),s};const si=function(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t};const ni=function(e,t){for(var r=-1,s=null==e?0:e.length,n=0,o=[];++r<s;){var a=e[r];t(a,r,e)&&(o[n++]=a)}return o};const oi=function(){return[]};var ai=Object.prototype.propertyIsEnumerable,ii=Object.getOwnPropertySymbols,li=ii?function(e){return null==e?[]:(e=Object(e),ni(ii(e),(function(t){return ai.call(e,t)})))}:oi;const ci=li;const di=function(e,t){return ua(e,ci(e),t)};const ui=function(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e};var mi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ui(t,ci(e)),e=Xn(e);return t}:oi;const hi=mi;const pi=function(e,t){return ua(e,hi(e),t)};const gi=function(e,t,r){var s=t(e);return ba(e)?s:ui(s,r(e))};const fi=function(e){return gi(e,Ha,ci)};const xi=function(e){return gi(e,Za,hi)};const vi=Do(Bn,"DataView");const bi=Do(Bn,"Promise");const yi=Do(Bn,"Set");const wi=Do(Bn,"WeakMap");var ji="[object Map]",Ni="[object Promise]",ki="[object Set]",Si="[object WeakMap]",Ci="[object DataView]",Li=Lo(vi),Ei=Lo(Io),Pi=Lo(bi),_i=Lo(yi),Mi=Lo(wi),Ti=Zn;(vi&&Ti(new vi(new ArrayBuffer(1)))!=Ci||Io&&Ti(new Io)!=ji||bi&&Ti(bi.resolve())!=Ni||yi&&Ti(new yi)!=ki||wi&&Ti(new wi)!=Si)&&(Ti=function(e){var t=Zn(e),r="[object Object]"==t?e.constructor:void 0,s=r?Lo(r):"";if(s)switch(s){case Li:return Ci;case Ei:return ji;case Pi:return Ni;case _i:return ki;case Mi:return Si}return t});const Oi=Ti;var Ai=Object.prototype.hasOwnProperty;const Ri=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ai.call(e,"index")&&(r.index=e.index,r.input=e.input),r};const Di=Bn.Uint8Array;const Ii=function(e){var t=new e.constructor(e.byteLength);return new Di(t).set(new Di(e)),t};const zi=function(e,t){var r=t?Ii(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var Fi=/\w*$/;const Bi=function(e){var t=new e.constructor(e.source,Fi.exec(e));return t.lastIndex=e.lastIndex,t};var Ui=Un?Un.prototype:void 0,$i=Ui?Ui.valueOf:void 0;const Wi=function(e){return $i?Object($i.call(e)):{}};const Vi=function(e,t){var r=t?Ii(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};const Hi=function(e,t,r){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return Ii(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return zi(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vi(e,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return Bi(e);case"[object Symbol]":return Wi(e)}};var qi=Object.create,Gi=function(){function e(){}return function(t){if(!wo(t))return{};if(qi)return qi(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const Ki=Gi;const Yi=function(e){return"function"!=typeof e.constructor||Ba(e)?{}:Ki(Xn(e))};const Zi=function(e){return Jn(e)&&"[object Map]"==Oi(e)};var Qi=Aa&&Aa.isMap;const Xi=Qi?_a(Qi):Zi;const Ji=function(e){return Jn(e)&&"[object Set]"==Oi(e)};var el=Aa&&Aa.isSet;const tl=el?_a(el):Ji;var rl="[object Arguments]",sl="[object Function]",nl="[object Object]",ol={};ol[rl]=ol["[object Array]"]=ol["[object ArrayBuffer]"]=ol["[object DataView]"]=ol["[object Boolean]"]=ol["[object Date]"]=ol["[object Float32Array]"]=ol["[object Float64Array]"]=ol["[object Int8Array]"]=ol["[object Int16Array]"]=ol["[object Int32Array]"]=ol["[object Map]"]=ol["[object Number]"]=ol[nl]=ol["[object RegExp]"]=ol["[object Set]"]=ol["[object String]"]=ol["[object Symbol]"]=ol["[object Uint8Array]"]=ol["[object Uint8ClampedArray]"]=ol["[object Uint16Array]"]=ol["[object Uint32Array]"]=!0,ol["[object Error]"]=ol[sl]=ol["[object WeakMap]"]=!1;const al=function e(t,r,s,n,o,a){var i,l=1&r,c=2&r,d=4&r;if(s&&(i=o?s(t,n,o,a):s(t)),void 0!==i)return i;if(!wo(t))return t;var u=ba(t);if(u){if(i=Ri(t),!l)return si(t,i)}else{var m=Oi(t),h=m==sl||"[object GeneratorFunction]"==m;if(ka(t))return ri(t,l);if(m==nl||m==rl||h&&!o){if(i=c||h?{}:Yi(t),!l)return c?pi(t,Qa(i,t)):di(t,qa(i,t))}else{if(!ol[m])return o?t:{};i=Hi(t,m,l)}}a||(a=new oa);var p=a.get(t);if(p)return p;a.set(t,i),tl(t)?t.forEach((function(n){i.add(e(n,r,s,n,t,a))})):Xi(t)&&t.forEach((function(n,o){i.set(o,e(n,r,s,o,t,a))}));var g=u?void 0:(d?c?xi:fi:c?Za:Ha)(t);return aa(g||t,(function(n,o){g&&(n=t[o=n]),da(i,o,e(n,r,s,o,t,a))})),i};const il=function(e){return al(e,5)};var ll=r(901),cl=r.n(ll);const dl=function(e,t){};const ul=function(e){return al(e,4)};const ml=function(e,t){for(var r=-1,s=null==e?0:e.length,n=Array(s);++r<s;)n[r]=t(e[r],r,e);return n};const hl=function(e){return"symbol"==typeof e||Jn(e)&&"[object Symbol]"==Zn(e)};function pl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var s=arguments,n=t?t.apply(this,s):s[0],o=r.cache;if(o.has(n))return o.get(n);var a=e.apply(this,s);return r.cache=o.set(n,a)||o,a};return r.cache=new(pl.Cache||ra),r}pl.Cache=ra;const gl=pl;const fl=function(e){var t=gl(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t};var xl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vl=/\\(\\)?/g,bl=fl((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xl,(function(e,r,s,n){t.push(s?n.replace(vl,"$1"):r||e)})),t}));const yl=bl;const wl=function(e){if("string"==typeof e||hl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var jl=Un?Un.prototype:void 0,Nl=jl?jl.toString:void 0;const kl=function e(t){if("string"==typeof t)return t;if(ba(t))return ml(t,e)+"";if(hl(t))return Nl?Nl.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};const Sl=function(e){return null==e?"":kl(e)};const Cl=function(e){return ba(e)?ml(e,wl):hl(e)?[e]:si(yl(Sl(e)))};var Ll=r(876),El=r.n(Ll);function Pl(){return Pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Pl.apply(this,arguments)}function _l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ml(e,t){if(null==e)return{};var r,s,n={},o=Object.keys(e);for(s=0;s<o.length;s++)r=o[s],t.indexOf(r)>=0||(n[r]=e[r]);return n}function Tl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ol=(0,s.createContext)(void 0);Ol.displayName="FormikContext";var Al=Ol.Provider,Rl=Ol.Consumer;function Dl(){var e=(0,s.useContext)(Ol);return e||dl(!1),e}var Il=function(e){return Array.isArray(e)&&0===e.length},zl=function(e){return"function"===typeof e},Fl=function(e){return null!==e&&"object"===typeof e},Bl=function(e){return String(Math.floor(Number(e)))===e},Ul=function(e){return"[object String]"===Object.prototype.toString.call(e)},$l=function(e){return 0===s.Children.count(e)},Wl=function(e){return Fl(e)&&zl(e.then)};function Vl(e,t,r,s){void 0===s&&(s=0);for(var n=Cl(t);e&&s<n.length;)e=e[n[s++]];return s===n.length||e?void 0===e?r:e:r}function Hl(e,t,r){for(var s=ul(e),n=s,o=0,a=Cl(t);o<a.length-1;o++){var i=a[o],l=Vl(e,a.slice(0,o+1));if(l&&(Fl(l)||Array.isArray(l)))n=n[i]=ul(l);else{var c=a[o+1];n=n[i]=Bl(c)&&Number(c)>=0?[]:{}}}return(0===o?e:n)[a[o]]===r?e:(void 0===r?delete n[a[o]]:n[a[o]]=r,0===o&&void 0===r&&delete s[a[o]],s)}function ql(e,t,r,s){void 0===r&&(r=new WeakMap),void 0===s&&(s={});for(var n=0,o=Object.keys(e);n<o.length;n++){var a=o[n],i=e[a];Fl(i)?r.get(i)||(r.set(i,!0),s[a]=Array.isArray(i)?[]:{},ql(i,t,r,s[a])):s[a]=t}return s}var Gl={},Kl={};function Yl(e){var t=e.validateOnChange,r=void 0===t||t,n=e.validateOnBlur,o=void 0===n||n,a=e.validateOnMount,i=void 0!==a&&a,l=e.isInitialValid,c=e.enableReinitialize,d=void 0!==c&&c,u=e.onSubmit,m=Ml(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=Pl({validateOnChange:r,validateOnBlur:o,validateOnMount:i,onSubmit:u},m),p=(0,s.useRef)(h.initialValues),g=(0,s.useRef)(h.initialErrors||Gl),f=(0,s.useRef)(h.initialTouched||Kl),x=(0,s.useRef)(h.initialStatus),v=(0,s.useRef)(!1),b=(0,s.useRef)({});(0,s.useEffect)((function(){return v.current=!0,function(){v.current=!1}}),[]);var y=(0,s.useState)(0)[1],w=(0,s.useRef)({values:il(h.initialValues),errors:il(h.initialErrors)||Gl,touched:il(h.initialTouched)||Kl,status:il(h.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),j=w.current,N=(0,s.useCallback)((function(e){var t=w.current;w.current=function(e,t){switch(t.type){case"SET_VALUES":return Pl({},e,{values:t.payload});case"SET_TOUCHED":return Pl({},e,{touched:t.payload});case"SET_ERRORS":return cl()(e.errors,t.payload)?e:Pl({},e,{errors:t.payload});case"SET_STATUS":return Pl({},e,{status:t.payload});case"SET_ISSUBMITTING":return Pl({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Pl({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Pl({},e,{values:Hl(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Pl({},e,{touched:Hl(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Pl({},e,{errors:Hl(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Pl({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Pl({},e,{touched:ql(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Pl({},e,{isSubmitting:!1});default:return e}}(t,e),t!==w.current&&y((function(e){return e+1}))}),[]),k=(0,s.useCallback)((function(e,t){return new Promise((function(r,s){var n=h.validate(e,t);null==n?r(Gl):Wl(n)?n.then((function(e){r(e||Gl)}),(function(e){s(e)})):r(n)}))}),[h.validate]),S=(0,s.useCallback)((function(e,t){var r=h.validationSchema,s=zl(r)?r(t):r,n=t&&s.validateAt?s.validateAt(t,e):function(e,t,r,s){void 0===r&&(r=!1);var n=Ql(e);return t[r?"validateSync":"validate"](n,{abortEarly:!1,context:s||n})}(e,s);return new Promise((function(e,t){n.then((function(){e(Gl)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Hl(t,e.path,e.message);var r=e.inner,s=Array.isArray(r),n=0;for(r=s?r:r[Symbol.iterator]();;){var o;if(s){if(n>=r.length)break;o=r[n++]}else{if((n=r.next()).done)break;o=n.value}var a=o;Vl(t,a.path)||(t=Hl(t,a.path,a.message))}}return t}(r)):t(r)}))}))}),[h.validationSchema]),C=(0,s.useCallback)((function(e,t){return new Promise((function(r){return r(b.current[e].validate(t))}))}),[]),L=(0,s.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return zl(b.current[e].validate)})),r=t.length>0?t.map((function(t){return C(t,Vl(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,s){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=Hl(e,t[s],r)),e}),{})}))}),[C]),E=(0,s.useCallback)((function(e){return Promise.all([L(e),h.validationSchema?S(e):{},h.validate?k(e):{}]).then((function(e){var t=e[0],r=e[1],s=e[2];return In.all([t,r,s],{arrayMerge:Xl})}))}),[h.validate,h.validationSchema,L,k,S]),P=ec((function(e){return void 0===e&&(e=j.values),N({type:"SET_ISVALIDATING",payload:!0}),E(e).then((function(e){return v.current&&(N({type:"SET_ISVALIDATING",payload:!1}),N({type:"SET_ERRORS",payload:e})),e}))}));(0,s.useEffect)((function(){i&&!0===v.current&&cl()(p.current,h.initialValues)&&P(p.current)}),[i,P]);var _=(0,s.useCallback)((function(e){var t=e&&e.values?e.values:p.current,r=e&&e.errors?e.errors:g.current?g.current:h.initialErrors||{},s=e&&e.touched?e.touched:f.current?f.current:h.initialTouched||{},n=e&&e.status?e.status:x.current?x.current:h.initialStatus;p.current=t,g.current=r,f.current=s,x.current=n;var o=function(){N({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:s,status:n,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var a=h.onReset(j.values,Y);Wl(a)?a.then(o):o()}else o()}),[h.initialErrors,h.initialStatus,h.initialTouched,h.onReset]);(0,s.useEffect)((function(){!0!==v.current||cl()(p.current,h.initialValues)||d&&(p.current=h.initialValues,_(),i&&P(p.current))}),[d,h.initialValues,_,i,P]),(0,s.useEffect)((function(){d&&!0===v.current&&!cl()(g.current,h.initialErrors)&&(g.current=h.initialErrors||Gl,N({type:"SET_ERRORS",payload:h.initialErrors||Gl}))}),[d,h.initialErrors]),(0,s.useEffect)((function(){d&&!0===v.current&&!cl()(f.current,h.initialTouched)&&(f.current=h.initialTouched||Kl,N({type:"SET_TOUCHED",payload:h.initialTouched||Kl}))}),[d,h.initialTouched]),(0,s.useEffect)((function(){d&&!0===v.current&&!cl()(x.current,h.initialStatus)&&(x.current=h.initialStatus,N({type:"SET_STATUS",payload:h.initialStatus}))}),[d,h.initialStatus,h.initialTouched]);var M=ec((function(e){if(b.current[e]&&zl(b.current[e].validate)){var t=Vl(j.values,e),r=b.current[e].validate(t);return Wl(r)?(N({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){N({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),N({type:"SET_ISVALIDATING",payload:!1})}))):(N({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return h.validationSchema?(N({type:"SET_ISVALIDATING",payload:!0}),S(j.values,e).then((function(e){return e})).then((function(t){N({type:"SET_FIELD_ERROR",payload:{field:e,value:Vl(t,e)}}),N({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),T=(0,s.useCallback)((function(e,t){var r=t.validate;b.current[e]={validate:r}}),[]),O=(0,s.useCallback)((function(e){delete b.current[e]}),[]),A=ec((function(e,t){return N({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?P(j.values):Promise.resolve()})),R=(0,s.useCallback)((function(e){N({type:"SET_ERRORS",payload:e})}),[]),D=ec((function(e,t){var s=zl(e)?e(j.values):e;return N({type:"SET_VALUES",payload:s}),(void 0===t?r:t)?P(s):Promise.resolve()})),I=(0,s.useCallback)((function(e,t){N({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),z=ec((function(e,t,s){return N({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===s?r:s)?P(Hl(j.values,e,t)):Promise.resolve()})),F=(0,s.useCallback)((function(e,t){var r,s=t,n=e;if(!Ul(e)){e.persist&&e.persist();var o=e.target?e.target:e.currentTarget,a=o.type,i=o.name,l=o.id,c=o.value,d=o.checked,u=(o.outerHTML,o.options),m=o.multiple;s=t||(i||l),n=/number|range/.test(a)?(r=parseFloat(c),isNaN(r)?"":r):/checkbox/.test(a)?function(e,t,r){if("boolean"===typeof e)return Boolean(t);var s=[],n=!1,o=-1;if(Array.isArray(e))s=e,n=(o=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);if(t&&r&&!n)return s.concat(r);if(!n)return s;return s.slice(0,o).concat(s.slice(o+1))}(Vl(j.values,s),d,c):u&&m?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(u):c}s&&z(s,n)}),[z,j.values]),B=ec((function(e){if(Ul(e))return function(t){return F(t,e)};F(e)})),U=ec((function(e,t,r){return void 0===t&&(t=!0),N({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?o:r)?P(j.values):Promise.resolve()})),$=(0,s.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,s=r.name,n=r.id,o=(r.outerHTML,t||(s||n));U(o,!0)}),[U]),W=ec((function(e){if(Ul(e))return function(t){return $(t,e)};$(e)})),V=(0,s.useCallback)((function(e){zl(e)?N({type:"SET_FORMIK_STATE",payload:e}):N({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),H=(0,s.useCallback)((function(e){N({type:"SET_STATUS",payload:e})}),[]),q=(0,s.useCallback)((function(e){N({type:"SET_ISSUBMITTING",payload:e})}),[]),G=ec((function(){return N({type:"SUBMIT_ATTEMPT"}),P().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=Z()))return}catch(s){throw s}return Promise.resolve(r).then((function(e){return v.current&&N({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(v.current)throw N({type:"SUBMIT_FAILURE"}),e}))}if(v.current&&(N({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=ec((function(e){e&&e.preventDefault&&zl(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&zl(e.stopPropagation)&&e.stopPropagation(),G().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Y={resetForm:_,validateForm:P,validateField:M,setErrors:R,setFieldError:I,setFieldTouched:U,setFieldValue:z,setStatus:H,setSubmitting:q,setTouched:A,setValues:D,setFormikState:V,submitForm:G},Z=ec((function(){return u(j.values,Y)})),Q=ec((function(e){e&&e.preventDefault&&zl(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&zl(e.stopPropagation)&&e.stopPropagation(),_()})),X=(0,s.useCallback)((function(e){return{value:Vl(j.values,e),error:Vl(j.errors,e),touched:!!Vl(j.touched,e),initialValue:Vl(p.current,e),initialTouched:!!Vl(f.current,e),initialError:Vl(g.current,e)}}),[j.errors,j.touched,j.values]),J=(0,s.useCallback)((function(e){return{setValue:function(t,r){return z(e,t,r)},setTouched:function(t,r){return U(e,t,r)},setError:function(t){return I(e,t)}}}),[z,U,I]),ee=(0,s.useCallback)((function(e){var t=Fl(e),r=t?e.name:e,s=Vl(j.values,r),n={name:r,value:s,onChange:B,onBlur:W};if(t){var o=e.type,a=e.value,i=e.as,l=e.multiple;"checkbox"===o?void 0===a?n.checked=!!s:(n.checked=!(!Array.isArray(s)||!~s.indexOf(a)),n.value=a):"radio"===o?(n.checked=s===a,n.value=a):"select"===i&&l&&(n.value=n.value||[],n.multiple=!0)}return n}),[W,B,j.values]),te=(0,s.useMemo)((function(){return!cl()(p.current,j.values)}),[p.current,j.values]),re=(0,s.useMemo)((function(){return"undefined"!==typeof l?te?j.errors&&0===Object.keys(j.errors).length:!1!==l&&zl(l)?l(h):l:j.errors&&0===Object.keys(j.errors).length}),[l,te,j.errors,h]);return Pl({},j,{initialValues:p.current,initialErrors:g.current,initialTouched:f.current,initialStatus:x.current,handleBlur:W,handleChange:B,handleReset:Q,handleSubmit:K,resetForm:_,setErrors:R,setFormikState:V,setFieldTouched:U,setFieldValue:z,setFieldError:I,setStatus:H,setSubmitting:q,setTouched:A,setValues:D,submitForm:G,validateForm:P,validateField:M,isValid:re,dirty:te,unregisterField:O,registerField:T,getFieldProps:ee,getFieldMeta:X,getFieldHelpers:J,validateOnBlur:o,validateOnChange:r,validateOnMount:i})}function Zl(e){var t=Yl(e),r=e.component,n=e.children,o=e.render,a=e.innerRef;return(0,s.useImperativeHandle)(a,(function(){return t})),(0,s.createElement)(Al,{value:t},r?(0,s.createElement)(r,t):o?o(t):n?zl(n)?n(t):$l(n)?null:s.Children.only(n):null)}function Ql(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=String(r);!0===Array.isArray(e[s])?t[s]=e[s].map((function(e){return!0===Array.isArray(e)||oo(e)?Ql(e):""!==e?e:void 0})):oo(e[s])?t[s]=Ql(e[s]):t[s]=""!==e[s]?e[s]:void 0}return t}function Xl(e,t,r){var s=e.slice();return t.forEach((function(t,n){if("undefined"===typeof s[n]){var o=!1!==r.clone&&r.isMergeableObject(t);s[n]=o?In(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?s[n]=In(e[n],t,r):-1===e.indexOf(t)&&s.push(t)})),s}var Jl="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?s.useLayoutEffect:s.useEffect;function ec(e){var t=(0,s.useRef)(e);return Jl((function(){t.current=e})),(0,s.useCallback)((function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t.current.apply(void 0,r)}),[])}function tc(e){var t=e.validate,r=e.name,n=e.render,o=e.children,a=e.as,i=e.component,l=e.className,c=Ml(e,["validate","name","render","children","as","component","className"]),d=Ml(Dl(),["validate","validationSchema"]);var u=d.registerField,m=d.unregisterField;(0,s.useEffect)((function(){return u(r,{validate:t}),function(){m(r)}}),[u,m,r,t]);var h=d.getFieldProps(Pl({name:r},c)),p=d.getFieldMeta(r),g={field:h,form:d};if(n)return n(Pl({},g,{meta:p}));if(zl(o))return o(Pl({},g,{meta:p}));if(i){if("string"===typeof i){var f=c.innerRef,x=Ml(c,["innerRef"]);return(0,s.createElement)(i,Pl({ref:f},h,x,{className:l}),o)}return(0,s.createElement)(i,Pl({field:h,form:d},c,{className:l}),o)}var v=a||"input";if("string"===typeof v){var b=c.innerRef,y=Ml(c,["innerRef"]);return(0,s.createElement)(v,Pl({ref:b},h,y,{className:l}),o)}return(0,s.createElement)(v,Pl({},h,c,{className:l}),o)}var rc=(0,s.forwardRef)((function(e,t){var r=e.action,n=Ml(e,["action"]),o=null!=r?r:"#",a=Dl(),i=a.handleReset,l=a.handleSubmit;return(0,s.createElement)("form",Pl({onSubmit:l,ref:t,onReset:i,action:o},n))}));function sc(e){var t=function(t){return(0,s.createElement)(Rl,null,(function(r){return r||dl(!1),(0,s.createElement)(e,Pl({},t,{formik:r}))}))},r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+r+")",El()(t,e)}rc.displayName="Form";var nc=function(e,t,r){var s=oc(e);return s.splice(t,0,r),s},oc=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Pl({},e,{length:t+1}))}return[]},ac=function(e,t){var r="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||Fl(e)){var t=oc(e);return r(t)}return e}},ic=function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,s){var n=r.props,o=n.name;(0,n.formik.setFormikState)((function(r){var n=ac(s,e),a=ac(t,e),i=Hl(r.values,o,e(Vl(r.values,o))),l=s?n(Vl(r.errors,o)):void 0,c=t?a(Vl(r.touched,o)):void 0;return Il(l)&&(l=void 0),Il(c)&&(c=void 0),Pl({},r,{values:i,errors:s?Hl(r.errors,o,l):r.errors,touched:t?Hl(r.touched,o,c):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(oc(t),[il(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var s=oc(e),n=s[t];return s[t]=s[r],s[r]=n,s}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var s=oc(e),n=s[t];return s.splice(t,1),s.splice(r,0,n),s}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return nc(r,e,t)}),(function(t){return nc(t,e,null)}),(function(t){return nc(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var s=oc(e);return s[t]=r,s}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var s=r?[e].concat(r):[e];return t=s.length,s}),(function(e){return e?[null].concat(e):[null]}),(function(e){return e?[null].concat(e):[null]})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(Tl(r)),r.pop=r.pop.bind(Tl(r)),r}_l(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!cl()(Vl(e.formik.values,e.name),Vl(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(r){var s=r?oc(r):[];return t||(t=s[e]),zl(s.splice)&&s.splice(e,1),zl(s.every)&&s.every((function(e){return void 0===e}))?[]:s}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var r=t.slice();return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,n=t.render,o=t.children,a=t.name,i=Pl({},e,{form:Ml(t.formik,["validate","validationSchema"]),name:a});return r?(0,s.createElement)(r,i):n?n(i):o?"function"===typeof o?o(i):$l(o)?null:s.Children.only(o):null},t}(s.Component);ic.defaultProps={validateOnChange:!0};var lc=sc(ic),cc=sc(function(e){function t(){return e.apply(this,arguments)||this}_l(t,e);var r=t.prototype;return r.shouldComponentUpdate=function(e){return Vl(this.props.formik.errors,this.props.name)!==Vl(e.formik.errors,this.props.name)||Vl(this.props.formik.touched,this.props.name)!==Vl(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},r.render=function(){var e=this.props,t=e.component,r=e.formik,n=e.render,o=e.children,a=e.name,i=Ml(e,["component","formik","render","children","name"]),l=Vl(r.touched,a),c=Vl(r.errors,a);return l&&c?n?zl(n)?n(c):null:o?zl(o)?o(c):null:t?(0,s.createElement)(t,i,c):c:null},t}(s.Component)),dc=r(974),uc=r(816),mc=r(551),hc=r.n(mc);const pc=Object.prototype.toString,gc=Error.prototype.toString,fc=RegExp.prototype.toString,xc="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",vc=/^Symbol\((.*)\)(.*)$/;function bc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const r=typeof e;if("number"===r)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===r)return t?`"${e}"`:e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return xc.call(e).replace(vc,"Symbol($1)");const s=pc.call(e).slice(8,-1);return"Date"===s?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===s||e instanceof Error?"["+gc.call(e)+"]":"RegExp"===s?fc.call(e):null}function yc(e,t){let r=bc(e,t);return null!==r?r:JSON.stringify(e,(function(e,r){let s=bc(this[e],t);return null!==s?s:r}),2)}function wc(e){return null==e?[]:[].concat(e)}let jc,Nc,kc,Sc=/\$\{\s*(\w+)\s*\}/g;jc=Symbol.toStringTag;class Cc{constructor(e,t,r,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[jc]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=s,this.errors=[],this.inner=[],wc(e).forEach((e=>{if(Lc.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Nc=Symbol.hasInstance,kc=Symbol.toStringTag;class Lc extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),"string"===typeof e?e.replace(Sc,((e,r)=>yc(t[r]))):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,r,s,n){const o=new Cc(e,t,r,s);if(n)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[kc]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Lc)}static[Nc](e){return Cc[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Ec={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:r,value:s,originalValue:n}=e;const o=null!=n&&n!==s?` (cast from the value \`${yc(n,!0)}\`).`:".";return"mixed"!==r?`${t} must be a \`${r}\` type, but the final value was: \`${yc(s,!0)}\``+o:`${t} must match the configured type. The validated value was: \`${yc(s,!0)}\``+o}},Pc={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},_c={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Mc={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Tc={isValue:"${path} field must be ${value}"},Oc={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Ac={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Rc={notType:e=>{const{path:t,value:r,spec:s}=e,n=s.types.length;if(Array.isArray(r)){if(r.length<n)return`${t} tuple value has too few items, expected a length of ${n} but got ${r.length} for value: \`${yc(r,!0)}\``;if(r.length>n)return`${t} tuple value has too many items, expected a length of ${n} but got ${r.length} for value: \`${yc(r,!0)}\``}return Lc.formatError(Ec.notType,e)}};Object.assign(Object.create(null),{mixed:Ec,string:Pc,number:_c,date:Mc,object:Oc,array:Ac,boolean:Tc,tuple:Rc});const Dc=e=>e&&e.__isYupSchema__;class Ic{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:n}=t,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.every((e=>e===r))};return new Ic(e,((e,t)=>{var r;let a=o(...e)?s:n;return null!=(r=null==a?void 0:a(t))?r:t}))}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),s=this.fn(r,e,t);if(void 0===s||s===e)return e;if(!Dc(s))throw new TypeError("conditions must return a schema object");return s.resolve(t)}}const zc="$",Fc=".";function Bc(e,t){return new Uc(e,t)}class Uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===zc,this.isValue=this.key[0]===Fc,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?zc:this.isValue?Fc:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,dc.getter)(this.path,!0),this.map=t.map}getValue(e,t,r){let s=this.isContext?r:this.isValue?e:t;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Uc.prototype.__isYupRef=!0;const $c=e=>null==e;function Wc(e){function t(t,r,s){let{value:n,path:o="",options:a,originalValue:i,schema:l}=t;const{name:c,test:d,params:u,message:m,skipAbsent:h}=e;let{parent:p,context:g,abortEarly:f=l.spec.abortEarly,disableStackTrace:x=l.spec.disableStackTrace}=a;function v(e){return Uc.isRef(e)?e.getValue(n,p,g):e}function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.assign({value:n,originalValue:i,label:l.spec.label,path:e.path||o,spec:l.spec,disableStackTrace:e.disableStackTrace||x},u,e.params);for(const s of Object.keys(t))t[s]=v(t[s]);const r=new Lc(Lc.formatError(e.message||m,t),n,t.path,e.type||c,t.disableStackTrace);return r.params=t,r}const y=f?r:s;let w={path:o,parent:p,type:c,from:a.from,createError:b,resolve:v,options:a,originalValue:i,schema:l};const j=e=>{Lc.isError(e)?y(e):e?s(null):y(b())},N=e=>{Lc.isError(e)?y(e):r(e)};if(h&&$c(n))return j(!0);let k;try{var S;if(k=d.call(w,n,w),"function"===typeof(null==(S=k)?void 0:S.then)){if(a.sync)throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(k).then(j,N)}}catch(C){return void N(C)}j(k)}return t.OPTIONS=e,t}function Vc(e,t,r){let s,n,o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return t?((0,dc.forEach)(t,((i,l,c)=>{let d=l?i.slice(1,i.length-1):i,u="tuple"===(e=e.resolve({context:a,parent:s,value:r})).type,m=c?parseInt(d,10):0;if(e.innerType||u){if(u&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&m>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${i}, in the path: ${t}. because there is no value at that index. `);s=r,r=r&&r[m],e=u?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${o} which is a type: "${e.type}")`);s=r,r=r&&r[d],e=e.fields[d]}n=d,o=l?"["+i+"]":"."+i})),{schema:e,parent:s,parentPath:n}):{parent:s,parentPath:t,schema:e}}class Hc extends Set{describe(){const e=[];for(const t of this.values())e.push(Uc.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new Hc(this.values())}merge(e,t){const r=this.clone();return e.forEach((e=>r.add(e))),t.forEach((e=>r.delete(e))),r}}function qc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(Dc(e)||!e||"object"!==typeof e)return e;if(r.has(e))return r.get(e);if(e instanceof Date)t=new Date(e.getTime()),r.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),r.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),r.set(e,t);for(let s=0;s<e.length;s++)t[s]=qc(e[s],r)}else if(e instanceof Map){t=new Map,r.set(e,t);for(const[s,n]of e.entries())t.set(s,qc(n,r))}else if(e instanceof Set){t=new Set,r.set(e,t);for(const s of e)t.add(qc(s,r))}else{if(!(e instanceof Object))throw Error(`Unable to clone ${e}`);t={},r.set(e,t);for(const[s,n]of Object.entries(e))t[s]=qc(n,r)}return t}class Gc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Hc,this._blacklist=new Hc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(Ec.notType)})),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation((e=>{e.nonNullable()}))}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=qc(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const s=Object.assign({},t.spec,r.spec);return r.spec=s,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce(((t,r)=>r.resolve(t,e)),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,s,n;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(r=e.abortEarly)?r:this.spec.abortEarly,recursive:null!=(s=e.recursive)?s:this.spec.recursive,disableStackTrace:null!=(n=e.disableStackTrace)?n:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.resolve(Object.assign({value:e},t)),s="ignore-optionality"===t.assert,n=r._cast(e,t);if(!1!==t.assert&&!r.isType(n)){if(s&&$c(n))return n;let o=yc(e),a=yc(n);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". \n\nattempted value: ${o} \n`+(a!==o?`result of cast: ${a}`:""))}return n}_cast(e,t){let r=void 0===e?e:this.transforms.reduce(((t,r)=>r.call(this,t,e,this)),e);return void 0===r&&(r=this.getDefault(t)),r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,{path:n,originalValue:o=e,strict:a=this.spec.strict}=t,i=e;a||(i=this._cast(i,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:n,value:i,originalValue:o,options:t,tests:l},r,(e=>{if(e.length)return s(e,i);this.runTests({path:n,value:i,originalValue:o,options:t,tests:this.tests},r,s)}))}runTests(e,t,r){let s=!1,{tests:n,value:o,originalValue:a,path:i,options:l}=e,c=e=>{s||(s=!0,t(e,o))},d=e=>{s||(s=!0,r(e,o))},u=n.length,m=[];if(!u)return d([]);let h={value:o,originalValue:a,path:i,options:l,schema:this};for(let p=0;p<n.length;p++){(0,n[p])(h,c,(function(e){e&&(Array.isArray(e)?m.push(...e):m.push(e)),--u<=0&&d(m)}))}}asNestedTest(e){let{key:t,index:r,parent:s,parentPath:n,originalParent:o,options:a}=e;const i=null!=t?t:r;if(null==i)throw TypeError("Must include `key` or `index` for nested validations");const l="number"===typeof i;let c=s[i];const d=Object.assign({},a,{strict:!0,parent:s,value:c,originalValue:o[i],key:void 0,[l?"index":"key"]:i,path:l||i.includes(".")?`${n||""}[${l?i:`"${i}"`}]`:(n?`${n}.`:"")+t});return(e,t,r)=>this.resolve(d)._validate(c,d,t,r)}validate(e,t){var r;let s=this.resolve(Object.assign({},t,{value:e})),n=null!=(r=null==t?void 0:t.disableStackTrace)?r:s.spec.disableStackTrace;return new Promise(((r,o)=>s._validate(e,t,((e,t)=>{Lc.isError(e)&&(e.value=t),o(e)}),((e,t)=>{e.length?o(new Lc(e,t,void 0,void 0,n)):r(t)}))))}validateSync(e,t){var r;let s,n=this.resolve(Object.assign({},t,{value:e})),o=null!=(r=null==t?void 0:t.disableStackTrace)?r:n.spec.disableStackTrace;return n._validate(e,Object.assign({},t,{sync:!0}),((e,t)=>{throw Lc.isError(e)&&(e.value=t),e}),((t,r)=>{if(t.length)throw new Lc(t,e,void 0,void 0,o);s=r})),s}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(Lc.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(Lc.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):qc(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=Wc({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=Wc({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),r}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ec.required;return this.clone().withMutation((t=>t.nonNullable(e).defined(e)))}notRequired(){return this.clone().withMutation((e=>e.nullable().optional()))}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=Ec.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),r=Wc(e),s=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((t=>{if(t.OPTIONS.name===e.name){if(s)return!1;if(t.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),t.tests.push(r),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let r=this.clone(),s=wc(e).map((e=>new Uc(e)));return s.forEach((e=>{e.isSibling&&r.deps.push(e.key)})),r.conditions.push("function"===typeof t?new Ic(s,t):Ic.fromOptions(s,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=Wc({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ec.oneOf,r=this.clone();return e.forEach((e=>{r._whitelist.add(e),r._blacklist.delete(e)})),r.internalTests.whiteList=Wc({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ec.notOneOf,r=this.clone();return e.forEach((e=>{r._blacklist.add(e),r._whitelist.delete(e)})),r.internalTests.blacklist=Wc({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:r}})}}),r}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:s,optional:n,nullable:o}=t.spec;return{meta:s,label:r,optional:n,nullable:o,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,r)=>r.findIndex((t=>t.name===e.name))===t))}}}Gc.prototype.__isYupSchema__=!0;for(const r of["validate","validateSync"])Gc.prototype[`${r}At`]=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:n,parentPath:o,schema:a}=Vc(this,e,t,s.context);return a[r](n&&n[o],Object.assign({},s,{parent:n,path:e}))};for(const r of["equals","is"])Gc.prototype[r]=Gc.prototype.oneOf;for(const r of["not","nope"])Gc.prototype[r]=Gc.prototype.notOneOf;const Kc=()=>!0;class Yc extends Gc{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Kc},e))}}Yc.prototype;class Zc extends Gc{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation((()=>{this.transform(((e,t,r)=>{if(r.spec.coerce&&!r.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))}))}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>$c(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tc.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>$c(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Zc.prototype;const Qc=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Xc(e){var t,r;const s=Qc.exec(e);return s?{year:Jc(s[1]),month:Jc(s[2],1)-1,day:Jc(s[3],1),hour:Jc(s[4]),minute:Jc(s[5]),second:Jc(s[6]),millisecond:s[7]?Jc(s[7].substring(0,3)):0,precision:null!=(t=null==(r=s[7])?void 0:r.length)?t:void 0,z:s[8]||void 0,plusMinus:s[9]||void 0,hourOffset:Jc(s[10]),minuteOffset:Jc(s[11])}:null}function Jc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let ed=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,td=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sd=new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"),nd=e=>$c(e)||e===e.trim(),od={}.toString();function ad(){return new id}class id extends Gc{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation((()=>{this.transform(((e,t,r)=>{if(!r.spec.coerce||r.isType(e))return e;if(Array.isArray(e))return e;const s=null!=e&&e.toString?e.toString():e;return s===od?e:s}))}))}required(e){return super.required(e).withMutation((t=>t.test({message:e||Ec.required,name:"required",skipAbsent:!0,test:e=>!!e.length})))}notRequired(){return super.notRequired().withMutation((e=>(e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e)))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pc.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let r,s,n=!1;return t&&("object"===typeof t?({excludeEmptyString:n=!1,message:r,name:s}=t):r=t),this.test({name:s||"matches",message:r||Pc.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&n||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.email;return this.matches(ed,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.url;return this.matches(td,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.uuid;return this.matches(rd,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,r,s="";return e&&("object"===typeof e?({message:s="",allowOffset:t=!1,precision:r}=e):s=e),this.matches(sd,{name:"datetime",message:s||Pc.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:s||Pc.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const r=Xc(e);return!!r&&!!r.z}}).test({name:"datetime_precision",message:s||Pc.datetime_precision,params:{precision:r},skipAbsent:!0,test:e=>{if(!e||void 0==r)return!0;const t=Xc(e);return!!t&&t.precision===r}})}ensure(){return this.default("").transform((e=>null===e?"":e))}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.trim;return this.transform((e=>null!=e?e.trim():e)).test({message:e,name:"trim",test:nd})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.lowercase;return this.transform((e=>$c(e)?e:e.toLowerCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>$c(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pc.uppercase;return this.transform((e=>$c(e)?e:e.toUpperCase())).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>$c(e)||e===e.toUpperCase()})}}ad.prototype=id.prototype;function ld(){return new cd}class cd extends Gc{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation((()=>{this.transform(((e,t,r)=>{if(!r.spec.coerce)return e;let s=e;if("string"===typeof s){if(s=s.replace(/\s/g,""),""===s)return NaN;s=+s}return r.isType(s)||null===s?s:parseFloat(s)}))}))}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_c.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_c.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_c.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_c.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_c.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform((e=>$c(e)?e:0|e))}round(e){var t;let r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform((t=>$c(t)?t:Math[e](t)))}}ld.prototype=cd.prototype;let dd=new Date("");function ud(){return new md}class md extends Gc{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation((()=>{this.transform(((e,t,r)=>!r.spec.coerce||r.isType(e)||null===e?e:(e=function(e){const t=Xc(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let r=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(r=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(r=0-r)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+r,t.second,t.millisecond)}(e),isNaN(e)?md.INVALID_DATE:new Date(e))))}))}prepareParam(e,t){let r;if(Uc.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mc.min,r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(r)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mc.max,r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(r)}})}}function hd(e,t){let r=1/0;return e.some(((e,s)=>{var n;if(null!=(n=t.path)&&n.includes(e))return r=s,!0})),r}function pd(e){return(t,r)=>hd(e,t)-hd(e,r)}md.INVALID_DATE=dd,ud.prototype=md.prototype,ud.INVALID_DATE=dd;const gd=(e,t,r)=>{if("string"!==typeof e)return e;let s=e;try{s=JSON.parse(e)}catch(n){}return r.isType(s)?s:e};function fd(e){if("fields"in e){const t={};for(const[r,s]of Object.entries(e.fields))t[r]=fd(s);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=fd(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(fd)}):"optional"in e?e.optional():e}let xd=e=>"[object Object]"===Object.prototype.toString.call(e);function vd(e,t){let r=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===r.indexOf(e)))}const bd=pd([]);function yd(e){return new wd(e)}class wd extends Gc{constructor(e){super({type:"object",check:e=>xd(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=bd,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{e&&this.shape(e)}))}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;let s=super._cast(e,t);if(void 0===s)return this.getDefault(t);if(!this._typeCheck(s))return s;let n=this.fields,o=null!=(r=t.stripUnknown)?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter((e=>!this._nodes.includes(e)))),i={},l=Object.assign({},t,{parent:i,__validating:t.__validating||!1}),c=!1;for(const d of a){let e=n[d],r=d in s;if(e){let r,n=s[d];l.path=(t.path?`${t.path}.`:"")+d,e=e.resolve({value:n,context:t.context,parent:i});let o=e instanceof Gc?e.spec:void 0,a=null==o?void 0:o.strict;if(null!=o&&o.strip){c=c||d in s;continue}r=t.__validating&&a?s[d]:e.cast(s[d],l),void 0!==r&&(i[d]=r)}else r&&!o&&(i[d]=s[d]);r===d in i&&i[d]===s[d]||(c=!0)}return c?i:s}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,{from:n=[],originalValue:o=e,recursive:a=this.spec.recursive}=t;t.from=[{schema:this,value:o},...n],t.__validating=!0,t.originalValue=o,super._validate(e,t,r,((e,n)=>{if(!a||!xd(n))return void s(e,n);o=o||n;let i=[];for(let r of this._nodes){let e=this.fields[r];e&&!Uc.isRef(e)&&i.push(e.asNestedTest({options:t,key:r,parent:n,parentPath:t.path,originalParent:o}))}this.runTests({tests:i,value:n,originalValue:o,options:t},r,(t=>{s(t.sort(this._sortErrors).concat(e),n)}))}))}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[s,n]of Object.entries(this.fields)){const e=r[s];r[s]=void 0===e?n:e}return t.withMutation((t=>t.setFields(r,[...this._excludedEdges,...e._excludedEdges])))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach((r=>{var s;const n=this.fields[r];let o=e;null!=(s=o)&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),t[r]=n&&"getDefault"in n?n.getDefault(o):void 0})),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],s=new Set,n=new Set(t.map((e=>{let[t,r]=e;return`${t}-${r}`})));function o(e,t){let o=(0,dc.split)(e)[0];s.add(o),n.has(`${t}-${o}`)||r.push([t,o])}for(const a of Object.keys(e)){let t=e[a];s.add(a),Uc.isRef(t)&&t.isSibling?o(t.path,a):Dc(t)&&"deps"in t&&t.deps.forEach((e=>o(e,a)))}return hc().array(Array.from(s),r).reverse()}(e,t),r._sortErrors=pd(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation((r=>{let s=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),s=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),s)}))}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return fd(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter((t=>{let[r,s]=t;return e.includes(r)&&e.includes(s)})))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let s=(0,dc.getter)(e,!0);return this.transform((n=>{if(!n)return n;let o=n;return((e,t)=>{const r=[...(0,dc.normalizePath)(t)];if(1===r.length)return r[0]in e;let s=r.pop(),n=(0,dc.getter)((0,dc.join)(r),!0)(e);return!(!n||!(s in n))})(n,e)&&(o=Object.assign({},n),r||delete o[e],o[t]=s(n)),o}))}json(){return this.transform(gd)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Oc.exact,test(e){if(null==e)return!0;const t=vd(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const r=vd(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oc.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>{if(!t)return t;const r={};for(const s of Object.keys(t))r[e(s)]=t[s];return r}))}camelCase(){return this.transformKeys(uc.camelCase)}snakeCase(){return this.transformKeys(uc.snakeCase)}constantCase(){return this.transformKeys((e=>(0,uc.snakeCase)(e).toUpperCase()))}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[n,o]of Object.entries(t.fields)){var s;let t=e;null!=(s=t)&&s.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[n]})),r.fields[n]=o.describe(t)}return r}}function jd(e){return new Nd(e)}yd.prototype=wd.prototype;class Nd extends Gc{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let s=!1;const n=r.map(((e,r)=>{const n=this.innerType.cast(e,Object.assign({},t,{path:`${t.path||""}[${r}]`}));return n!==e&&(s=!0),n}));return s?n:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;var n;let o=this.innerType,a=null!=(n=t.recursive)?n:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,r,((n,i)=>{var l;if(!a||!o||!this._typeCheck(i))return void s(n,i);let c=new Array(i.length);for(let r=0;r<i.length;r++){var d;c[r]=o.asNestedTest({options:t,index:r,parent:i,parentPath:t.path,originalParent:null!=(d=t.originalValue)?d:e})}this.runTests({value:i,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},r,(e=>s(e.concat(n),i)))}))}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(gd)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Dc(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+yc(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ac.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Ac.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Ac.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default((()=>[])).transform(((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t)))}compact(e){let t=e?(t,r,s)=>!e(t,r,s):e=>!!e;return this.transform((e=>null!=e?e.filter(t):e))}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var s;let n=e;null!=(s=n)&&s.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[0]})),r.innerType=t.innerType.describe(n)}return r}}jd.prototype=Nd.prototype;class kd extends Gc{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation((()=>{this.typeError(Rc.notType)}))}_cast(e,t){const{types:r}=this.spec,s=super._cast(e,t);if(!this._typeCheck(s))return s;let n=!1;const o=r.map(((e,r)=>{const o=e.cast(s[r],Object.assign({},t,{path:`${t.path||""}[${r}]`}));return o!==s[r]&&(n=!0),o}));return n?o:s}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=this.spec.types;super._validate(e,t,r,((o,a)=>{var i;if(!this._typeCheck(a))return void s(o,a);let l=[];for(let[r,s]of n.entries()){var c;l[r]=s.asNestedTest({options:t,index:r,parent:a,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:a,tests:l,originalValue:null!=(i=t.originalValue)?i:e,options:t},r,(e=>s(e.concat(o),a)))}))}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);return r.innerType=t.spec.types.map(((t,r)=>{var s;let n=e;return null!=(s=n)&&s.value&&(n=Object.assign({},n,{parent:n.value,value:n.value[r]})),t.describe(n)})),r}}kd.prototype;const Sd=async e=>{try{console.log("\ud83d\udcf8 Uploading shop image to Cloudinary via backend...");const t=new FormData;t.append("images",e);const r=await Nn.post("/sellers/upload-shop-images",t,{headers:{"Content-Type":"multipart/form-data"}});return console.log("\u2705 Shop image Cloudinary upload successful:",r.data),r.data}catch(s){var t,r;throw console.error("\u274c Shop image Cloudinary upload failed:",(null===(t=s.response)||void 0===t?void 0:t.data)||s),(null===(r=s.response)||void 0===r?void 0:r.data)||s}},Cd=yd().shape({email:ad().email("Invalid email address").required("Email is required"),password:ad().min(6,"Password must be at least 6 characters").required("Password is required")}),Ld=()=>{const[e,t]=(0,s.useState)(!1),{loginSeller:r}=(0,s.useContext)(er),n=re(),o={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},card:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"40px",width:"100%",maxWidth:"480px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease"},logoContainer:{textAlign:"center",marginBottom:"30px"},logo:{height:"60px",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1))"},title:{fontSize:"28px",fontWeight:"700",color:"#ffffff",textAlign:"center",marginBottom:"8px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},subtitle:{fontSize:"16px",color:"rgba(255, 255, 255, 0.9)",textAlign:"center",marginBottom:"30px",lineHeight:"1.6"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputGroup:{display:"flex",flexDirection:"column",gap:"8px"},inputField:{width:"100%",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"16px",color:"#ffffff",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},errorMessage:{color:"#ff6b6b",fontSize:"14px",marginTop:"4px",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},forgotLink:{textAlign:"right",marginTop:"8px"},link:{color:"rgba(255, 255, 255, 0.9)",textDecoration:"none",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"},button:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)",marginTop:"10px"},buttonDisabled:{opacity:.6,cursor:"not-allowed"},registerText:{textAlign:"center",marginTop:"24px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},registerLink:{color:"rgba(255, 255, 255, 0.9)",textDecoration:"none",fontWeight:"600",transition:"all 0.3s ease"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite",display:"inline-block",marginRight:"8px"}};return(0,Xt.jsxs)("div",{style:o.container,children:[(0,Xt.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .login-input {\n            box-sizing: border-box;\n          }\n          \n          .login-input:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);\n            border-color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .login-input:focus {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);\n            border-color: rgba(255, 255, 255, 0.6);\n          }\n          \n          .login-input::placeholder {\n            color: rgba(255, 255, 255, 0.7);\n          }\n          \n          .login-button:hover:not(:disabled) {\n            transform: translateY(-2px);\n            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);\n          }\n          \n          .login-button:active:not(:disabled) {\n            transform: translateY(0);\n          }\n          \n          .auth-link:hover {\n            color: #ffffff;\n            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);\n          }\n          \n          .register-link:hover {\n            color: #ffffff;\n            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);\n          }\n          \n          @media (max-width: 768px) {\n            .login-card {\n              padding: 30px 20px !important;\n              margin: 10px;\n            }\n            \n            .login-title {\n              font-size: 24px !important;\n            }\n            \n            .login-subtitle {\n              font-size: 14px !important;\n            }\n          }\n        "}),(0,Xt.jsxs)("div",{style:o.card,className:"login-card",children:[(0,Xt.jsx)("div",{style:o.logoContainer,children:(0,Xt.jsx)("img",{src:"https://zammernow.com/assets/logo.svg",alt:"Zammer Logo",style:o.logo})}),(0,Xt.jsx)("h2",{style:o.title,className:"login-title",children:"Welcome Back Seller!"}),(0,Xt.jsx)("p",{style:o.subtitle,className:"login-subtitle",children:"Login to manage your shop"}),(0,Xt.jsx)(Zl,{initialValues:{email:"",password:""},validationSchema:Cd,onSubmit:async(e,s)=>{let{setSubmitting:o}=s;t(!0);try{const t=await(async e=>{try{return(await Nn.post("/sellers/login",e)).data}catch(t){throw t.response.data}})(e);t.success?(r(t.data),Bt.success("Login successful!"),n("/seller/dashboard")):Bt.error(t.message||"Login failed")}catch(a){Bt.error(a.message||"Something went wrong")}finally{t(!1),o(!1)}},children:t=>{let{isSubmitting:r}=t;return(0,Xt.jsxs)(rc,{style:o.form,children:[(0,Xt.jsxs)("div",{style:o.inputGroup,children:[(0,Xt.jsx)(tc,{id:"email",name:"email",type:"email",placeholder:"Enter your email",style:o.inputField,className:"login-input"}),(0,Xt.jsx)(cc,{name:"email",component:"div",style:o.errorMessage})]}),(0,Xt.jsxs)("div",{style:o.inputGroup,children:[(0,Xt.jsx)(tc,{id:"password",name:"password",type:"password",placeholder:"Enter your password",style:o.inputField,className:"login-input"}),(0,Xt.jsx)(cc,{name:"password",component:"div",style:o.errorMessage})]}),(0,Xt.jsx)("div",{style:o.forgotLink,children:(0,Xt.jsx)(nt,{to:"/seller/forgot-password",style:o.link,className:"auth-link",children:"Forgot Password?"})}),(0,Xt.jsxs)("button",{type:"submit",disabled:r||e,style:{...o.button,...r||e?o.buttonDisabled:{}},className:"login-button",children:[e&&(0,Xt.jsx)("span",{style:o.spinner}),e?"Signing in...":"Sign In"]}),(0,Xt.jsxs)("div",{style:o.registerText,children:["Don't have an account?"," ",(0,Xt.jsx)(nt,{to:"/seller/register",style:o.registerLink,className:"register-link",children:"Register"})]})]})}})]})]})},Ed=e=>{let{value:t="",onChange:r,onPlaceSelected:n,placeholder:o="Enter shop address",className:a="",disabled:i=!1,error:l=null}=e;const c=(0,s.useRef)(null),d=(0,s.useRef)(null),[u,m]=(0,s.useState)("Initializing..."),[h,p]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e="AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs";console.log("\ud83d\ude80 Starting Google Places initialization (React)..."),console.log("\ud83d\udd11 API Key:",e?e.substring(0,10)+"...":"NOT FOUND");const t=()=>{try{if(console.log("\u2705 Google Maps API callback triggered"),m("\u2705 Google Maps API loaded successfully!"),!window.google||!window.google.maps||!window.google.maps.places)throw new Error("Places library not loaded");console.log("\u2699\ufe0f Creating autocomplete instance...");const e=new window.google.maps.places.Autocomplete(c.current,{types:["address"],componentRestrictions:{country:"IN"},fields:["formatted_address","geometry","name"]});d.current=e,console.log("\u2705 Autocomplete instance created"),e.addListener("place_changed",(()=>{const t=e.getPlace();if(console.log("\ud83c\udf89 Place selected:",t),t.geometry){const e={address:t.formatted_address,coordinates:[t.geometry.location.lng(),t.geometry.location.lat()],name:t.name};m(`\u2705 Selected: ${t.formatted_address}`),r&&r(t.formatted_address),n&&n(e)}else m("\u26a0\ufe0f No geometry data for selected place"),console.warn("\u26a0\ufe0f No geometry data for selected place")})),p(!0),m("\ud83c\udfaf Ready! Start typing an address..."),console.log("\u2705 Places autocomplete initialized successfully")}catch(l){console.error("\u274c Error initializing Places:",l),m(`\u274c Error: ${l.message}`)}};return(()=>{if(window.google&&window.google.maps&&window.google.maps.places)return console.log("\u2705 Google Maps already loaded, initializing..."),void t();console.log("\ud83d\udce1 Loading Google Maps API..."),m("\ud83d\udce1 Loading Google Maps API...");const r=`initGooglePlaces_${Date.now()}`;window[r]=()=>{console.log("\ud83c\udfaf Google Maps API callback executed"),delete window[r],t()};const s=document.createElement("script");s.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places&callback=${r}`,s.async=!0,s.defer=!0,s.onerror=e=>{m("\u274c Failed to load Google Maps API"),console.error("\u274c Script loading failed:",e),delete window[r]},document.head.appendChild(s)})(),()=>{if(d.current&&window.google)try{window.google.maps.event.clearInstanceListeners(d.current)}catch(l){console.error("Error during cleanup:",l)}}}),[]);return(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("input",{ref:c,type:"text",value:t,onChange:e=>{const t=e.target.value;r&&r(t)},placeholder:o,disabled:i||!h,className:`\n          ${a}\n          ${l?"border-red-300 focus:border-red-500 focus:ring-red-500":""}\n          ${h?"":"bg-gray-100"}\n        `,autoComplete:"off"}),(0,Xt.jsxs)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:[!h&&!u.includes("\u274c")&&(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),u.includes("\u274c")&&(0,Xt.jsx)("svg",{className:"h-4 w-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h&&(0,Xt.jsxs)("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),(0,Xt.jsx)("p",{className:"mt-1 text-xs "+(u.includes("\u274c")?"text-red-600":u.includes("\u2705")||u.includes("\ud83c\udfaf")?"text-green-600":"text-gray-500"),children:u}),l&&(0,Xt.jsx)("p",{className:"mt-1 text-sm text-red-600",children:l})]})},Pd=["Personal","Shop","Payment"],_d=["Men","Women","Kids"],Md=()=>{const e=re(),{loginSeller:t}=(0,s.useContext)(er),[r,n]=(0,s.useState)(0),[o,a]=(0,s.useState)(!1),[i,l]=(0,s.useState)({firstName:"",email:"",password:"",mobile:"",address:"",shopName:"",gst:"",category:"",upi:""}),c=e=>l({...i,[e.target.name]:e.target.value}),d={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},logo:{height:"60px",marginBottom:"30px",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1))"},stepper:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"30px",gap:"20px"},stepCircle:{width:"50px",height:"50px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",border:"2px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",color:"rgba(255, 255, 255, 0.7)"},stepActive:{background:"linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)",border:"2px solid rgba(255, 255, 255, 0.5)",color:"#ffffff",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)",transform:"scale(1.1)"},stepCompleted:{background:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",border:"2px solid rgba(255, 255, 255, 0.5)",color:"#ffffff",boxShadow:"0 8px 25px rgba(72, 187, 120, 0.3)"},card:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"40px",width:"100%",maxWidth:"480px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease"},sectionTitle:{fontSize:"24px",fontWeight:"700",color:"#ffffff",textAlign:"center",marginBottom:"30px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},inputField:{width:"100%",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"16px",color:"#ffffff",outline:"none",transition:"all 0.3s ease",marginBottom:"20px",boxSizing:"border-box"},select:{width:"100%",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"16px",color:"#ffffff",outline:"none",transition:"all 0.3s ease",marginBottom:"20px",boxSizing:"border-box",cursor:"pointer"},buttonPrimary:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)",marginBottom:"15px"},buttonSecondary:{width:"100%",padding:"16px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},buttonDisabled:{opacity:.6,cursor:"not-allowed"},linkText:{textAlign:"center",marginTop:"24px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},link:{color:"rgba(255, 255, 255, 0.9)",textDecoration:"none",fontWeight:"600",transition:"all 0.3s ease"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite",display:"inline-block",marginRight:"8px"},autocompleteContainer:{width:"100%",marginBottom:"20px",position:"relative"},autocompleteInput:{width:"100%",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"16px",color:"#ffffff",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"}};return(0,Xt.jsxs)("div",{style:d.container,children:[(0,Xt.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .register-input:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);\n            border-color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .register-input:focus {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);\n            border-color: rgba(255, 255, 255, 0.6);\n          }\n          \n          .register-input::placeholder {\n            color: rgba(255, 255, 255, 0.7);\n          }\n          \n          .register-select:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);\n            border-color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .register-select:focus {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);\n            border-color: rgba(255, 255, 255, 0.6);\n          }\n          \n          .register-select option {\n            background: #2d3748;\n            color: #ffffff;\n          }\n          \n          .btn-primary:hover:not(:disabled) {\n            transform: translateY(-2px);\n            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);\n          }\n          \n          .btn-secondary:hover:not(:disabled) {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);\n            border-color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .register-link:hover {\n            color: #ffffff;\n            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);\n          }\n\n          /* \ud83c\udfaf GooglePlacesAutocomplete CSS Fix */\n          .pac-container {\n            background-color: rgba(255, 255, 255, 0.95) !important;\n            backdrop-filter: blur(10px) !important;\n            border-radius: 12px !important;\n            border: 1px solid rgba(255, 255, 255, 0.3) !important;\n            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;\n            margin-top: 4px !important;\n          }\n\n          .pac-item {\n            border-top: none !important;\n            padding: 12px 16px !important;\n            font-size: 14px !important;\n            cursor: pointer !important;\n            border-bottom: 1px solid rgba(0, 0, 0, 0.1) !important;\n          }\n\n          .pac-item:hover {\n            background-color: rgba(255, 107, 107, 0.1) !important;\n          }\n\n          .pac-item:last-child {\n            border-bottom: none !important;\n            border-radius: 0 0 12px 12px !important;\n          }\n\n          .pac-item:first-child {\n            border-radius: 12px 12px 0 0 !important;\n          }\n\n          /* \ud83c\udfaf Fix autocomplete input styling */\n          .google-places-autocomplete input {\n            width: 100% !important;\n            padding: 16px 20px !important;\n            border-radius: 12px !important;\n            border: 1px solid rgba(255, 255, 255, 0.3) !important;\n            background: rgba(255, 255, 255, 0.2) !important;\n            backdrop-filter: blur(10px) !important;\n            font-size: 16px !important;\n            color: #ffffff !important;\n            outline: none !important;\n            transition: all 0.3s ease !important;\n            box-sizing: border-box !important;\n            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;\n          }\n\n          .google-places-autocomplete input::placeholder {\n            color: rgba(255, 255, 255, 0.7) !important;\n          }\n\n          .google-places-autocomplete input:hover {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15) !important;\n            border-color: rgba(255, 255, 255, 0.5) !important;\n          }\n\n          .google-places-autocomplete input:focus {\n            transform: translateY(-2px) !important;\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2) !important;\n            border-color: rgba(255, 255, 255, 0.6) !important;\n          }\n          \n          @media (max-width: 768px) {\n            .register-container {\n              padding: 10px !important;\n            }\n            \n            .register-card {\n              padding: 30px 20px !important;\n              margin: 10px;\n            }\n            \n            .register-stepper {\n              gap: 15px !important;\n              margin-bottom: 20px !important;\n            }\n            \n            .register-step-circle {\n              width: 40px !important;\n              height: 40px !important;\n              font-size: 14px !important;\n            }\n            \n            .register-section-title {\n              font-size: 20px !important;\n              margin-bottom: 20px !important;\n            }\n          }\n        "}),(0,Xt.jsx)("img",{src:"https://zammernow.com/assets/logo.svg",alt:"Zammer",style:d.logo}),(0,Xt.jsx)("div",{style:d.stepper,className:"register-stepper",children:Pd.map(((e,t)=>(0,Xt.jsx)("div",{style:{...d.stepCircle,...t<r?d.stepCompleted:{},...t===r?d.stepActive:{}},className:"register-step-circle",children:t+1},t)))}),(0,Xt.jsxs)("div",{style:d.card,className:"register-card",children:[(()=>{switch(r){case 0:return(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("h3",{style:d.sectionTitle,children:"Personal Details"}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",name:"firstName",placeholder:"First Name",value:i.firstName,onChange:c,required:!0}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",type:"email",name:"email",placeholder:"Email Address",value:i.email,onChange:c,required:!0}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",type:"password",name:"password",minLength:6,placeholder:"Password (min 6 chars)",value:i.password,onChange:c,required:!0}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",name:"mobile",pattern:"[0-9]{10}",maxLength:10,placeholder:"Mobile (10 digits)",value:i.mobile,onChange:c,required:!0})]});case 1:return(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("h3",{style:d.sectionTitle,children:"Shop Details"}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",name:"shopName",placeholder:"Shop / Brand Name",value:i.shopName,onChange:c,required:!0}),(0,Xt.jsx)("div",{style:d.autocompleteContainer,children:(0,Xt.jsx)(Ed,{className:"google-places-autocomplete register-input",style:d.autocompleteInput,placeholder:"Shop Address",value:i.address,onChange:e=>l((t=>({...t,address:e})))})}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",name:"gst",placeholder:"GST Number (optional)",value:i.gst,onChange:c}),(0,Xt.jsxs)("select",{style:d.select,className:"register-select",name:"category",value:i.category,onChange:c,required:!0,children:[(0,Xt.jsx)("option",{value:"",children:"Select Category"}),_d.map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]})]});case 2:return(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("h3",{style:d.sectionTitle,children:"Payment Details"}),(0,Xt.jsx)("input",{style:d.inputField,className:"register-input",name:"upi",placeholder:"UPI ID / Bank Acc No.",value:i.upi,onChange:c,required:!0})]});default:return null}})(),2===r?(0,Xt.jsxs)("button",{type:"button",style:{...d.buttonPrimary,...o?d.buttonDisabled:{}},className:"btn-primary",onClick:async()=>{if(i.address.trim())try{a(!0);const r={firstName:i.firstName.trim(),email:i.email.trim(),password:i.password,mobileNumber:i.mobile.trim(),shop:{name:i.shopName.trim(),address:i.address.trim(),gstNumber:i.gst.trim(),category:i.category},bankDetails:{accountNumber:i.upi.trim()}};console.log("\ud83c\udfea Attempting seller registration...");const s=await yn.post("https://zammer2.appspot.com/api/sellers/register",r);if(console.log("\u2705 Seller registration response:",s.data),s.data.success&&s.data.data&&s.data.data.token)try{console.log("\ud83d\udd04 Auto-login after seller registration..."),t(s.data.data),Bt.success(`Welcome to Zammer, ${s.data.data.firstName}!`),e("/seller/dashboard")}catch(u){console.error("Seller auto-login failed:",u),Bt.success("Seller registered successfully! Please login."),e("/seller/login")}else Bt.success("Seller registered successfully! Please login."),e("/seller/login")}catch(m){var r,s,n,o,l,c,d;console.error("Seller registration error:",(null===(r=m.response)||void 0===r?void 0:r.data)||m),Bt.error((null===(s=m.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||(null===(o=m.response)||void 0===o||null===(l=o.data)||void 0===l||null===(c=l.errors)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.msg)||"Registration failed")}finally{a(!1)}else Bt.error("Please select a shop address from suggestions")},disabled:o,children:[o&&(0,Xt.jsx)("span",{style:d.spinner}),o?"Creating Account\u2026":"Create Seller Account"]}):(0,Xt.jsx)("button",{type:"button",style:d.buttonPrimary,className:"btn-primary",onClick:()=>n((e=>Math.min(e+1,Pd.length-1))),children:"Continue"}),r>0&&(0,Xt.jsx)("button",{type:"button",style:d.buttonSecondary,className:"btn-secondary",onClick:()=>n((e=>Math.max(e-1,0))),children:"Back"})]}),(0,Xt.jsxs)("p",{style:d.linkText,children:["Already have an account?"," ",(0,Xt.jsx)(nt,{to:"/seller/login",style:d.link,className:"register-link",children:"Sign in here"})]})]})},Td=()=>{const[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[o,a]=(0,s.useState)(""),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),h={container:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},card:{background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(20px)",borderRadius:"20px",border:"1px solid rgba(255, 255, 255, 0.3)",padding:"40px",width:"100%",maxWidth:"480px",boxShadow:"0 25px 50px rgba(0, 0, 0, 0.15)",transition:"all 0.3s ease"},logoContainer:{textAlign:"center",marginBottom:"30px"},logo:{height:"60px",filter:"drop-shadow(0 4px 8px rgba(0, 0, 0, 0.1))"},title:{fontSize:"28px",fontWeight:"700",color:"#ffffff",textAlign:"center",marginBottom:"12px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},subtitle:{fontSize:"16px",color:"rgba(255, 255, 255, 0.9)",textAlign:"center",marginBottom:"30px",lineHeight:"1.6"},form:{display:"flex",flexDirection:"column",gap:"20px"},inputField:{width:"100%",padding:"16px 20px",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.3)",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",fontSize:"16px",color:"#ffffff",outline:"none",transition:"all 0.3s ease","::placeholder":{color:"rgba(255, 255, 255, 0.7)"}},button:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #ff6b6b 0%, #feca57 100%)",color:"#ffffff",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 8px 25px rgba(255, 107, 107, 0.3)",opacity:c?.7:1},buttonDisabled:{opacity:.6,cursor:"not-allowed"},link:{color:"rgba(255, 255, 255, 0.9)",textDecoration:"none",fontWeight:"500",transition:"all 0.3s ease"},linkText:{textAlign:"center",marginTop:"24px",fontSize:"14px",color:"rgba(255, 255, 255, 0.8)"},successContainer:{textAlign:"center",padding:"20px"},successButton:{marginTop:"20px",display:"inline-block",padding:"12px 30px",borderRadius:"12px",background:"linear-gradient(135deg, #48bb78 0%, #38a169 100%)",color:"#ffffff",textDecoration:"none",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 8px 25px rgba(72, 187, 120, 0.3)"},spinner:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid #ffffff",borderRadius:"50%",animation:"spin 1s linear infinite",display:"inline-block",marginRight:"8px"}};return(0,Xt.jsxs)("div",{style:h.container,children:[(0,Xt.jsx)("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n          \n          .auth-input:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.15);\n            border-color: rgba(255, 255, 255, 0.5);\n          }\n          \n          .auth-input:focus {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);\n            border-color: rgba(255, 255, 255, 0.6);\n          }\n          \n          .auth-input::placeholder {\n            color: rgba(255, 255, 255, 0.7);\n          }\n          \n          .auth-button:hover:not(:disabled) {\n            transform: translateY(-2px);\n            box-shadow: 0 12px 35px rgba(255, 107, 107, 0.4);\n          }\n          \n          .auth-button:active:not(:disabled) {\n            transform: translateY(0);\n          }\n          \n          .auth-link:hover {\n            color: #ffffff;\n            text-shadow: 0 0 8px rgba(255, 255, 255, 0.6);\n          }\n          \n          .success-button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 12px 35px rgba(72, 187, 120, 0.4);\n          }\n          \n          @media (max-width: 768px) {\n            .auth-card {\n              padding: 30px 20px !important;\n              margin: 10px;\n            }\n            \n            .auth-title {\n              font-size: 24px !important;\n            }\n            \n            .auth-subtitle {\n              font-size: 14px !important;\n            }\n          }\n        "}),(0,Xt.jsxs)("div",{style:h.card,className:"auth-card",children:[(0,Xt.jsx)("div",{style:h.logoContainer,children:(0,Xt.jsx)("img",{src:"https://zammernow.com/assets/logo.svg",alt:"Zammer Logo",style:h.logo})}),u?(0,Xt.jsxs)("div",{style:h.successContainer,children:[(0,Xt.jsx)("h2",{style:h.title,className:"auth-title",children:"Password Reset Complete"}),(0,Xt.jsx)("p",{style:h.subtitle,className:"auth-subtitle",children:"Your password has been reset successfully."}),(0,Xt.jsx)(nt,{to:"/seller/login",style:h.successButton,className:"success-button",children:"Sign In"})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("h2",{style:h.title,className:"auth-title",children:"Reset Your Password"}),(0,Xt.jsx)("p",{style:h.subtitle,className:"auth-subtitle",children:i?"Enter your new password below.":"Enter your email to reset your password."}),(0,Xt.jsx)("div",{style:h.form,children:i?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("input",{type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"New Password",style:h.inputField,className:"auth-input"}),(0,Xt.jsx)("input",{type:"password",value:o,onChange:e=>a(e.target.value),placeholder:"Confirm New Password",style:h.inputField,className:"auth-input"}),(0,Xt.jsxs)("button",{onClick:async()=>{if(!r||r.length<6||r!==o)Bt.error("Password must be at least 6 characters and match confirmation.");else{d(!0);try{(await Nn.post("/sellers/reset-password-direct",{email:e,password:r})).data.success?(m(!0),Bt.success("Password reset successful!")):Bt.error("Failed to reset password")}catch(t){Bt.error("Something went wrong")}finally{d(!1)}}},disabled:c,style:{...h.button,...c?h.buttonDisabled:{}},className:"auth-button",children:[c&&(0,Xt.jsx)("span",{style:h.spinner}),c?"Resetting...":"Reset Password"]})]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Email Address",style:h.inputField,className:"auth-input"}),(0,Xt.jsxs)("button",{onClick:async()=>{if(e){d(!0);try{(await Nn.post("/sellers/check-email",{email:e})).data.success?(l(!0),Bt.success("Email verified. Please enter your new password.")):Bt.error("Email not found")}catch(t){Bt.error("Email not found or server error")}finally{d(!1)}}else Bt.error("Please enter your email address")},disabled:c,style:{...h.button,...c?h.buttonDisabled:{}},className:"auth-button",children:[c&&(0,Xt.jsx)("span",{style:h.spinner}),c?"Checking...":"Continue"]})]})}),(0,Xt.jsxs)("p",{style:h.linkText,children:["Remembered your password?"," ",(0,Xt.jsx)(nt,{to:"/seller/login",style:h.link,className:"auth-link",children:"Sign in"})]})]})]})]})},Od=yd().shape({password:ad().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:ad().oneOf([Bc("password"),null],"Passwords must match").required("Confirm password is required")}),Ad=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),[o,a]=(0,s.useState)(!0),[i,l]=(0,s.useState)(!1),{token:c}=se();re();(0,s.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{return(await Nn.get(`/api/sellers/reset-password/${e}`)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}})(c);n(e.success)}catch(e){n(!1),Bt.error("Invalid or expired reset link")}finally{a(!1)}})()}),[c]);return o?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsx)("div",{className:"max-w-md w-full text-center",children:(0,Xt.jsx)("p",{className:"text-lg",children:"Validating your reset link..."})})}):r?i?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Password Reset Complete"}),(0,Xt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Your password has been reset successfully."})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)(nt,{to:"/seller/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in with your new password"})})]})}):(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),(0,Xt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Please enter your new password below."})]}),(0,Xt.jsx)(Zl,{initialValues:{password:"",confirmPassword:""},validationSchema:Od,onSubmit:async(e,r)=>{let{setSubmitting:s}=r;t(!0);try{const t=await(async e=>{try{return(await Nn.post("/api/sellers/reset-password",e)).data}catch(r){var t;throw(null===(t=r.response)||void 0===t?void 0:t.data)||r}})({token:c,password:e.password});t.success?(l(!0),Bt.success("Password has been reset successfully")):Bt.error(t.message||"Failed to reset password")}catch(n){Bt.error(n.message||"Something went wrong")}finally{t(!1),s(!1)}},children:t=>{let{isSubmitting:r}=t;return(0,Xt.jsxs)(rc,{className:"mt-8 space-y-6",children:[(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"password",className:"sr-only",children:"New Password"}),(0,Xt.jsx)(tc,{id:"password",name:"password",type:"password",className:"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"New password"}),(0,Xt.jsx)(cc,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm New Password"}),(0,Xt.jsx)(tc,{id:"confirmPassword",name:"confirmPassword",type:"password",className:"appearance-none rounded relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Confirm new password"}),(0,Xt.jsx)(cc,{name:"confirmPassword",component:"div",className:"text-red-500 text-sm mt-1"})]})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)("button",{type:"submit",disabled:r||e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(r||e?"opacity-70 cursor-not-allowed":""),children:e?"Resetting...":"Reset Password"})})]})}})]})}):(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsxs)("div",{className:"max-w-md w-full space-y-8 text-center",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Invalid Reset Link"}),(0,Xt.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"This password reset link is invalid or has expired."})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)(nt,{to:"/seller/forgot-password",className:"font-medium text-orange-600 hover:text-orange-500",children:"Request a new reset link"})})]})})},Rd=e=>{var t,r,n,o,a,i;let{children:l}=e;const{sellerAuth:c,logoutSeller:d}=(0,s.useContext)(er),u=re(),m=J(),[h,p]=(0,s.useState)(!0),[g,f]=(0,s.useState)(null);(0,s.useEffect)((()=>{}),[m.pathname,c]),(0,s.useEffect)((()=>{(()=>{try{if(null===c||void 0===c||!c.isAuthenticated)return console.log("SellerLayout - Not authenticated, redirecting to login"),void u("/seller/login",{replace:!0,state:{from:m.pathname}});if(!c.seller)return console.warn("SellerLayout - Authenticated but no seller data"),void f("Session data incomplete. Please log in again.");f(null)}catch(e){console.error("SellerLayout - Auth check error:",e),f("Authentication error occurred")}finally{p(!1)}})()}),[c,u,m.pathname]);const x=[{path:"/seller/dashboard",label:"Dashboard",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})},{path:"/seller/orders",label:"Orders",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),badge:!0},{path:"/seller/add-product",label:"Add Product",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})},{path:"/seller/view-products",label:"View Products",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})},{path:"/seller/edit-profile",label:"My Account",icon:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}];return h?(0,Xt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):g?(0,Xt.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full text-center",children:[(0,Xt.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Authentication Error"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:g}),(0,Xt.jsx)("button",{onClick:()=>u("/seller/login"),className:"bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-md transition-colors",children:"Go to Login"})]})}):null!==c&&void 0!==c&&c.isAuthenticated?(0,Xt.jsxs)("div",{className:"seller-layout min-h-screen bg-gray-50",children:[(0,Xt.jsx)("header",{className:"bg-orange-500 text-white shadow-md",children:(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("h1",{className:"text-xl font-bold",children:"Zammer Seller Dashboard"}),!1]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[c.seller&&(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"bg-orange-400 rounded-full w-8 h-8 flex items-center justify-center",children:(0,Xt.jsx)("span",{className:"text-sm font-medium",children:(null===(t=c.seller.firstName)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"S"})}),(0,Xt.jsx)("span",{className:"hidden sm:inline",children:c.seller.firstName||"Seller"})]}),(0,Xt.jsx)("button",{onClick:async()=>{try{console.log("SellerLayout - Logging out seller"),d(),Bt.success("Logged out successfully"),u("/seller/login",{replace:!0})}catch(g){console.error("SellerLayout - Logout error:",g),Bt.error("Error during logout")}},className:"bg-white text-orange-500 px-4 py-2 rounded-md hover:bg-gray-50 transition-colors text-sm font-medium",children:"Logout"})]})]})}),(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-6 flex flex-col lg:flex-row gap-6",children:[(0,Xt.jsxs)("aside",{className:"lg:w-64 bg-white rounded-lg shadow-sm p-4",children:[(0,Xt.jsx)("nav",{children:(0,Xt.jsx)("ul",{className:"space-y-1",children:x.map((e=>{const t=m.pathname===e.path;return(0,Xt.jsx)("li",{children:(0,Xt.jsxs)(nt,{to:e.path,className:"flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors "+(t?"bg-orange-500 text-white":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>{0},children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[e.icon,(0,Xt.jsx)("span",{children:e.label})]}),e.badge&&"/seller/orders"===e.path&&(0,Xt.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-red-500 text-white rounded-full animate-pulse",children:"New"})]})},e.path)}))})}),(0,Xt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Xt.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Shop Info"}),(0,Xt.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Name:"})," ",(null===(n=c.seller)||void 0===n||null===(o=n.shop)||void 0===o?void 0:o.name)||"Not set"]}),(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Category:"})," ",(null===(a=c.seller)||void 0===a||null===(i=a.shop)||void 0===i?void 0:i.category)||"Not set"]}),(0,Xt.jsx)("div",{className:"pt-2 border-t border-gray-100",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,Xt.jsx)("span",{className:"text-xs text-green-600",children:"Real-time updates active"})]})})]})]})]}),(0,Xt.jsx)("main",{className:"flex-1 bg-white rounded-lg shadow-sm p-6 min-h-[calc(100vh-12rem)]",children:(0,Xt.jsx)("div",{className:"max-w-full",children:l})})]}),(0,Xt.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4 mt-8",children:(0,Xt.jsxs)("div",{className:"container mx-auto px-4 text-center text-gray-600 text-sm",children:[(0,Xt.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," Zammer Marketplace. All rights reserved."]}),!1]})})]}):null},Dd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";if("error"===r){const s={info:"#2196F3",success:"#4CAF50",warning:"#FF9800",error:"#F44336"};console.log(`%c[Service] ${e}`,`color: ${s[r]}; font-weight: bold;`,t)}},Id=async e=>{try{Dd("\ud83d\udce6 Creating product",{name:e.name});const t=await Nn.post("/products",e);return Dd("\u2705 Product created successfully",{id:t.data.data._id},"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Create Product Error",{message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message,data:e},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},zd=async()=>{try{Dd("\ud83d\udd0d Fetching seller products");const e=await Nn.get("/products");return Dd("\u2705 Seller products fetched successfully",{count:e.data.data.length},"success"),e.data}catch(s){var e,t,r;throw Dd("\u274c Get Seller Products Error",{message:(null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||s.message},"error"),(null===(r=s.response)||void 0===r?void 0:r.data)||s}},Fd=async e=>{try{Dd("\ud83d\udd0d Fetching product",{id:e});const t=await Nn.get(`/products/${e}`);return Dd("\u2705 Product fetched successfully",{id:e},"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Get Product Error",{id:e,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Bd=async(e,t)=>{try{Dd("\ud83d\udcdd Updating product",{id:e,updates:Object.keys(t),values:{mrp:t.mrp,zammerPrice:t.zammerPrice}});const r={...t,mrp:Number(t.mrp),zammerPrice:Number(t.zammerPrice)};Dd("\ud83d\udd22 Sanitized data",{mrp:r.mrp,zammerPrice:r.zammerPrice},"info");const s=await Nn.put(`/products/${e}`,r);return Dd("\u2705 Product updated successfully",{id:e,response:s.data},"success"),s.data}catch(v){var r,s,n,o,a,i,l,c,d,u,m,h,p,g,f,x;Dd("\u274c Update Product Error",{id:e,message:(null===(r=v.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||v.message,details:null===(n=v.response)||void 0===n||null===(o=n.data)||void 0===o||null===(a=o.error)||void 0===a?void 0:a.details,validationErrors:null===(i=v.response)||void 0===i||null===(l=i.data)||void 0===l||null===(c=l.error)||void 0===c?void 0:c.validationErrors,updates:Object.keys(t),values:{mrp:t.mrp,zammerPrice:t.zammerPrice}},"error");throw{message:(null===(d=v.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||v.message,details:null===(m=v.response)||void 0===m||null===(h=m.data)||void 0===h||null===(p=h.error)||void 0===p?void 0:p.details,validationErrors:null===(g=v.response)||void 0===g||null===(f=g.data)||void 0===f||null===(x=f.error)||void 0===x?void 0:x.validationErrors,originalError:v}}},Ud=async e=>{try{Dd("\ud83d\uddd1\ufe0f Deleting product",{id:e});const t=await Nn.delete(`/products/${e}`);return Dd("\u2705 Product deleted successfully",{id:e},"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Delete Product Error",{id:e,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},$d=async e=>{try{Dd("\ud83d\udd0d Fetching marketplace products",{filters:e});const t=await Nn.get("/products/marketplace",{params:e});return Dd("\u2705 Marketplace products fetched",{count:t.data.data.length,filters:e},0===t.data.data.length?"warning":"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Get Marketplace Products Error",{message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message,filters:e},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Wd=async e=>{try{Dd("\ud83d\udd04 Toggling Limited Edition status",{id:e});const t=await Nn.patch(`/products/${e}/toggle-limited-edition`);return Dd("\u2705 Limited Edition status toggled successfully",{id:e,newStatus:t.data.data.isLimitedEdition},"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Toggle Limited Edition Error",{id:e,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Vd=async e=>{try{Dd("\ud83d\udd04 Toggling Trending status",{id:e});const t=await Nn.patch(`/products/${e}/toggle-trending`);return Dd("\u2705 Trending status toggled successfully",{id:e,newStatus:t.data.data.isTrending},"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Toggle Trending Error",{id:e,message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Hd=async(e,t)=>{try{Dd("\ud83d\udd04 Updating product status",{id:e,status:t});const r=await Nn.patch(`/products/${e}/status`,{status:t});return Dd("\u2705 Product status updated successfully",{id:e,newStatus:r.data.data.status},"success"),r.data}catch(o){var r,s,n;throw Dd("\u274c Update Product Status Error",{id:e,status:t,message:(null===(r=o.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||o.message},"error"),(null===(n=o.response)||void 0===n?void 0:n.data)||o}},qd=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{Dd("\ud83d\udd0d Fetching limited edition products",{filters:e});const t=await Nn.get("/products/marketplace/limited-edition",{params:e});return Dd("\u2705 Limited edition products fetched successfully",{count:t.data.data.length},0===t.data.data.length?"warning":"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Get Limited Edition Products Error",{message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message,filters:e},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Gd=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{Dd("\ud83d\udd0d Fetching trending products",{filters:e});const t=await Nn.get("/products/marketplace/trending",{params:e});return Dd("\u2705 Trending products fetched successfully",{count:t.data.data.length},0===t.data.data.length?"warning":"success"),t.data}catch(n){var t,r,s;throw Dd("\u274c Get Trending Products Error",{message:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||n.message,filters:e},"error"),(null===(s=n.response)||void 0===s?void 0:s.data)||n}},Kd=async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting image:",e);const t=await Nn.delete(`/upload/${e}`);return console.log("\u2705 Image deletion response:",{success:t.data.success,message:t.data.message}),t.data}catch(s){var t,r;throw console.error("\u274c Image deletion error:",(null===(t=s.response)||void 0===t?void 0:t.data)||s),(null===(r=s.response)||void 0===r?void 0:r.data)||s}},Yd=(e,t)=>{if(console.error(`\u274c [ORDER-SERVICE] ${t} error:`,e),!e.response)return e.request?{success:!1,message:"Network error. Please check your connection and try again.",errorCode:"NETWORK_ERROR"}:{success:!1,message:e.message||"An unexpected error occurred",errorCode:"UNKNOWN_ERROR"};{const{status:t,data:r}=e.response;switch(t){case 401:return{success:!1,message:"Please login to continue",requiresAuth:!0,errorCode:"UNAUTHORIZED"};case 403:return{success:!1,message:"You do not have permission to perform this action",errorCode:"FORBIDDEN"};case 404:return{success:!1,message:"The requested resource was not found",errorCode:"NOT_FOUND"};case 409:return{success:!1,message:r.message||"A conflict occurred",errorCode:"CONFLICT"};case 422:return{success:!1,message:r.message||"Invalid data provided",errorCode:"VALIDATION_ERROR",errors:r.errors||[]};case 500:return{success:!1,message:"Server error occurred. Please try again later.",errorCode:"SERVER_ERROR"};default:return{success:!1,message:r.message||`Error occurred (${t})`,errorCode:"API_ERROR"}}}},Zd=function(e,t){(new Date).toISOString().slice(11,23)};const Qd=new class{constructor(){this.isTestMode=!0,this.testDelay=2e3}async processPayment(e){Zd("Mock Payment Processing",{method:e.method,amount:e.amount},"info"),await this.simulateDelay();const t=this.generateMockResponse(e);return Zd("Mock Payment Completed",t,"success"),{success:!0,data:t,message:"Payment processed successfully (Mock)"}}async simulateDelay(){return new Promise((e=>{setTimeout(e,this.testDelay)}))}generateMockResponse(e){var t;const r=(new Date).toISOString(),s=this.generateTransactionId(e.method);switch(e.method){case"Card":return{transactionId:s,method:"Card",status:"success",amount:e.amount,currency:"INR",processingTime:this.testDelay,gateway:"MockCardGateway",cardLast4:null!==(t=e.cardDetails)&&void 0!==t&&t.cardNumber?e.cardDetails.cardNumber.replace(/\s/g,"").slice(-4):"1234",authCode:this.generateAuthCode(),timestamp:r,isTest:!0};case"UPI":return{transactionId:s,method:"UPI",status:"success",amount:e.amount,currency:"INR",processingTime:this.testDelay,gateway:"MockUPIGateway",upiId:e.upiId,bankRefId:this.generateBankRefId(),timestamp:r,isTest:!0};case"Cash on Delivery":return{transactionId:s,method:"Cash on Delivery",status:"pending",amount:e.amount,currency:"INR",processingTime:0,gateway:"MockCODSystem",note:"Payment will be collected on delivery",timestamp:r,isTest:!0};default:throw new Error(`Unsupported payment method: ${e.method}`)}}generateTransactionId(e){const t=Math.random().toString(36).substring(2,15)+Date.now().toString(36);return({Card:"TXN_CARD_",UPI:"TXN_UPI_","Cash on Delivery":"TXN_COD_"}[e]||"TXN_")+t.toUpperCase()}generateAuthCode(){return Math.floor(9e5*Math.random())+1e5}generateBankRefId(){return"BNK"+Math.floor(9e9*Math.random())+1e9}async simulateFailure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generic";await this.simulateDelay();const r={card_declined:"Card was declined by the issuing bank",insufficient_funds:"Insufficient funds in the account",upi_timeout:"UPI transaction timed out",invalid_upi:"Invalid UPI ID provided",network_error:"Network error during transaction",generic:"Payment processing failed. Please try again."};return{success:!1,error:r[t]||r.generic,errorCode:t.toUpperCase(),isTest:!0}}},Xd={async processPayment(e){try{if(Zd("Payment Processing Start",{method:e.method,amount:e.amount},"info"),Qd.isTestMode)return Zd("Using Mock Payment System",null,"warning"),999===e.amount?await Qd.simulateFailure(e,"card_declined"):await Qd.processPayment(e);throw new Error("Real payment gateway not configured yet")}catch(t){return Yd(t,"processPayment")}},async createOrder(e){try{var t;if(Zd("Order Creation Start",{itemCount:null===(t=e.orderItems)||void 0===t?void 0:t.length,totalPrice:e.totalPrice,paymentMethod:e.paymentMethod,sellerId:e.sellerId},"info"),!e.orderItems||0===e.orderItems.length)throw new Error("Order must contain at least one item");if(!e.shippingAddress)throw new Error("Shipping address is required");if(!e.paymentMethod)throw new Error("Payment method is required");const r=await Nn.post("/orders",e);return Zd("Order Created Successfully",{orderId:r.data.data._id,orderNumber:r.data.data.orderNumber,status:r.data.data.status},"success"),r.data}catch(r){return Yd(r,"createOrder")}},async getUserOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{Zd("Fetching User Orders",{page:e,limit:t,filters:r},"info");const s=new URLSearchParams({page:e.toString(),limit:t.toString(),...r}),n=await Nn.get(`/orders/myorders?${s}`);return Zd("User Orders Fetched",{count:n.data.count,totalPages:n.data.totalPages,currentPage:n.data.currentPage},"success"),n.data}catch(s){return Yd(s,"getUserOrders")}},async getSellerOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{Zd("Fetching Seller Orders",{page:e,limit:t,status:r},"info");const s=new URLSearchParams({page:e.toString(),limit:t.toString()});r&&s.append("status",r);const n=await Nn.get(`/orders/seller?${s}`);return Zd("Seller Orders Fetched",{count:n.data.count,totalPages:n.data.totalPages,currentPage:n.data.currentPage},"success"),n.data}catch(s){return Yd(s,"getSellerOrders")}},async updateOrderStatus(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{if(Zd("Updating Order Status",{orderId:e,status:t,notes:r},"info"),!e)throw new Error("Order ID is required");const s=["Pending","Processing","Shipped","Delivered","Cancelled"];if(!s.includes(t))throw new Error(`Invalid status. Must be one of: ${s.join(", ")}`);const n=await Nn.put(`/orders/${e}/status`,{status:t,notes:r.trim()});return Zd("Order Status Updated",{orderId:e,newStatus:t,orderNumber:n.data.data.orderNumber},"success"),n.data}catch(s){return Yd(s,"updateOrderStatus")}},async getOrderById(e){try{if(Zd("Fetching Order by ID",{orderId:e},"info"),!e)throw new Error("Order ID is required");const t=await Nn.get(`/orders/${e}`);return Zd("Order Fetched Successfully",{orderId:e,orderNumber:t.data.data.orderNumber,status:t.data.data.status},"success"),t.data}catch(t){return Yd(t,"getOrderById")}},async getSellerOrderStats(){try{Zd("Fetching Seller Order Stats",null,"info");const e=await Nn.get("/orders/seller/stats");return Zd("Seller Stats Fetched",{totalOrders:Object.values(e.data.data.statusCounts||{}).reduce(((e,t)=>e+t),0),revenue:e.data.data.totalRevenue,todayOrders:e.data.data.todayOrdersCount},"success"),e.data}catch(e){return Yd(e,"getSellerOrderStats")}},async getOrderInvoice(e){try{if(Zd("Fetching Order Invoice",{orderId:e},"info"),!e)throw new Error("Order ID is required");const t=await Nn.get(`/orders/${e}/invoice`);return Zd("Invoice Fetched Successfully",{orderId:e,invoiceUrl:t.data.data.invoiceUrl},"success"),t.data}catch(t){return Yd(t,"getOrderInvoice")}},async downloadInvoice(e){try{if(Zd("Downloading Invoice",{orderNumber:e},"info"),!e)throw new Error("Order number is required");const t=await this.getUserOrders(1,100);if(!t.success)throw new Error("Failed to fetch orders");const r=t.data.find((t=>t.orderNumber===e));if(!r)throw new Error("Order not found");const s=await this.getOrderInvoice(r._id);if(!s.success)throw new Error(s.message||"Failed to get invoice");const n=s.data.invoiceUrl;if(n)return window.open(n,"_blank"),Zd("Invoice Downloaded",{orderNumber:e,invoiceUrl:n},"success"),{success:!0,message:"Invoice downloaded successfully"};throw new Error("Invoice URL not available")}catch(t){return Yd(t,"downloadInvoice")}},formatOrderForAPI(e,t,r){try{if(Zd("Formatting Order Data",{itemCount:e.length,paymentMethod:r,hasShippingAddress:!!t},"info"),!e||0===e.length)throw new Error("No items in cart");if(!t)throw new Error("Shipping address is required");if(!r)throw new Error("Payment method is required");const s=["address","city","postalCode","country","phone"];for(const e of s)if(!t[e])throw new Error(`Shipping address ${e} is required`);const n=e.reduce(((e,t)=>{const r=t.product.seller._id||t.product.seller;return e[r]||(e[r]=[]),e[r].push(t),e}),{}),o=Object.keys(n);if(o.length>1)throw new Error("All items must be from the same seller");const a=o[0],i=e.reduce(((e,t)=>{if(!t.price||!t.quantity)throw new Error("Invalid item price or quantity");return e+t.price*t.quantity}),0),l=Math.round(.18*i),c=i>=500?0:50,d=i+l+c,u=e.map((e=>{var t;if(!e.product||!e.product._id)throw new Error("Invalid product data");return{product:e.product._id,name:e.product.name||"Unknown Product",quantity:e.quantity||1,price:e.price||0,image:(null===(t=e.product.images)||void 0===t?void 0:t[0])||"",size:e.selectedSize||"Standard",color:e.selectedColor||"Default"}})),m={sellerId:a,orderItems:u,shippingAddress:t,paymentMethod:r,taxPrice:l,shippingPrice:c,totalPrice:Math.round(d)};return Zd("Order Data Formatted Successfully",{sellerId:a,itemCount:u.length,totalPrice:m.totalPrice,subtotal:i,taxPrice:l,shippingPrice:c},"success"),m}catch(s){throw Zd("Order Formatting Error",{error:s.message},"error"),s}},async retryRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let n=1;n<=t;n++)try{Zd("Request Attempt",{attempt:n,maxRetries:t},"info");return await e()}catch(s){if(Zd("Request Failed",{attempt:n,maxRetries:t,error:s.message},"warning"),n===t)throw s;await new Promise((e=>setTimeout(e,r*n)))}},setTestMode(e){Qd.isTestMode=e,Zd("Test Mode "+(e?"Enabled":"Disabled"),null,"info")},isTestMode:()=>Qd.isTestMode,async healthCheck(){try{return{success:!0,data:(await Nn.get("/health")).data}}catch(e){return{success:!1,message:"Service unavailable"}}}},Jd=Object.create(null);Jd.open="0",Jd.close="1",Jd.ping="2",Jd.pong="3",Jd.message="4",Jd.upgrade="5",Jd.noop="6";const eu=Object.create(null);Object.keys(Jd).forEach((e=>{eu[Jd[e]]=e}));const tu={type:"error",data:"parser error"},ru="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),su="function"===typeof ArrayBuffer,nu=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ou=(e,t,r)=>{let{type:s,data:n}=e;return ru&&n instanceof Blob?t?r(n):au(n,r):su&&(n instanceof ArrayBuffer||nu(n))?t?r(n):au(new Blob([n]),r):r(Jd[s]+(n||""))},au=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function iu(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let lu;const cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",du="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let r=0;r<64;r++)du[cu.charCodeAt(r)]=r;const uu="function"===typeof ArrayBuffer,mu=(e,t)=>{if("string"!==typeof e)return{type:"message",data:pu(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:hu(e.substring(1),t)};return eu[r]?e.length>1?{type:eu[r],data:e.substring(1)}:{type:eu[r]}:tu},hu=(e,t)=>{if(uu){const r=(e=>{let t,r,s,n,o,a=.75*e.length,i=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),d=new Uint8Array(c);for(t=0;t<i;t+=4)r=du[e.charCodeAt(t)],s=du[e.charCodeAt(t+1)],n=du[e.charCodeAt(t+2)],o=du[e.charCodeAt(t+3)],d[l++]=r<<2|s>>4,d[l++]=(15&s)<<4|n>>2,d[l++]=(3&n)<<6|63&o;return c})(e);return pu(r,t)}return{base64:!0,data:e}},pu=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,gu=String.fromCharCode(30);function fu(){return new TransformStream({transform(e,t){!function(e,t){ru&&e.data instanceof Blob?e.data.arrayBuffer().then(iu).then(t):su&&(e.data instanceof ArrayBuffer||nu(e.data))?t(iu(e.data)):ou(e,!1,(e=>{lu||(lu=new TextEncoder),t(lu.encode(e))}))}(e,(r=>{const s=r.length;let n;if(s<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,s);else if(s<65536){n=new Uint8Array(3);const e=new DataView(n.buffer);e.setUint8(0,126),e.setUint16(1,s)}else{n=new Uint8Array(9);const e=new DataView(n.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(s))}e.data&&"string"!==typeof e.data&&(n[0]|=128),t.enqueue(n),t.enqueue(r)}))}})}let xu;function vu(e){return e.reduce(((e,t)=>e+t.length),0)}function bu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let s=0;for(let n=0;n<t;n++)r[n]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}function yu(e){if(e)return function(e){for(var t in yu.prototype)e[t]=yu.prototype[t];return e}(e)}yu.prototype.on=yu.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},yu.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},yu.prototype.off=yu.prototype.removeListener=yu.prototype.removeAllListeners=yu.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<s.length;n++)if((r=s[n])===t||r.fn===t){s.splice(n,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},yu.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){s=0;for(var n=(r=r.slice(0)).length;s<n;++s)r[s].apply(this,t)}return this},yu.prototype.emitReserved=yu.prototype.emit,yu.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},yu.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wu="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ju="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Nu(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const ku=ju.setTimeout,Su=ju.clearTimeout;function Cu(e,t){t.useNativeTimers?(e.setTimeoutFn=ku.bind(ju),e.clearTimeoutFn=Su.bind(ju)):(e.setTimeoutFn=ju.setTimeout.bind(ju),e.clearTimeoutFn=ju.clearTimeout.bind(ju))}function Lu(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Eu extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Pu extends yu{constructor(e){super(),this.writable=!1,Cu(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Eu(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=mu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class _u extends Pu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(gu),s=[];for(let n=0;n<r.length;n++){const e=mu(r[n],t);if(s.push(e),"error"===e.type)break}return s})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,s=new Array(r);let n=0;e.forEach(((e,o)=>{ou(e,!1,(e=>{s[o]=e,++n===r&&t(s.join(gu))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Lu()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Mu=!1;try{Mu="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Yf){}const Tu=Mu;function Ou(){}class Au extends _u{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Ru extends yu{constructor(e,t,r){super(),this.createRequest=e,Cu(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=Nu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(Kf){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(Kf){}try{r.setRequestHeader("Accept","*/*")}catch(Kf){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(Kf){return void this.setTimeoutFn((()=>{this._onError(Kf)}),0)}"undefined"!==typeof document&&(this._index=Ru.requestsCount++,Ru.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ou,e)try{this._xhr.abort()}catch(Kf){}"undefined"!==typeof document&&delete Ru.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Ru.requestsCount=0,Ru.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Du);else if("function"===typeof addEventListener){addEventListener("onpagehide"in ju?"pagehide":"unload",Du,!1)}function Du(){for(let e in Ru.requests)Ru.requests.hasOwnProperty(e)&&Ru.requests[e].abort()}const Iu=function(){const e=zu({xdomain:!1});return e&&null!==e.responseType}();function zu(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Tu))return new XMLHttpRequest}catch(Kf){}if(!t)try{return new(ju[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(Kf){}}const Fu="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Bu extends Pu{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=Fu?{}:Nu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(Yf){return this.emitReserved("error",Yf)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],s=t===e.length-1;ou(r,this.supportsBinary,(e=>{try{this.doWrite(r,e)}catch(Kf){}s&&wu((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Lu()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Uu=ju.WebSocket||ju.MozWebSocket;const $u={websocket:class extends Bu{createSocket(e,t,r){return Fu?new Uu(e,t,r):t?new Uu(e,t):new Uu(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Pu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Yf){return this.emitReserved("error",Yf)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){xu||(xu=new TextDecoder);const r=[];let s=0,n=-1,o=!1;return new TransformStream({transform(a,i){for(r.push(a);;){if(0===s){if(vu(r)<1)break;const e=bu(r,1);o=128===(128&e[0]),n=127&e[0],s=n<126?3:126===n?1:2}else if(1===s){if(vu(r)<2)break;const e=bu(r,2);n=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),s=3}else if(2===s){if(vu(r)<8)break;const e=bu(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){i.enqueue(tu);break}n=o*Math.pow(2,32)+t.getUint32(4),s=3}else{if(vu(r)<n)break;const e=bu(r,n);i.enqueue(mu(o?e:xu.decode(e),t)),s=0}if(0===n||n>e){i.enqueue(tu);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),s=fu();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const n=()=>{r.read().then((e=>{let{done:t,value:r}=e;t||(this.onPacket(r),n())})).catch((e=>{}))};n();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],s=t===e.length-1;this._writer.write(r).then((()=>{s&&wu((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Au{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Iu&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Ru(zu,this.uri(),e)}}},Wu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Vu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Hu(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),s=e.indexOf("]");-1!=r&&-1!=s&&(e=e.substring(0,r)+e.substring(r,s).replace(/:/g,";")+e.substring(s,e.length));let n=Wu.exec(e||""),o={},a=14;for(;a--;)o[Vu[a]]=n[a]||"";return-1!=r&&-1!=s&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const r=/\/{2,9}/g,s=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||s.splice(0,1);"/"==t.slice(-1)&&s.splice(s.length-1,1);return s}(0,o.path),o.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,s){t&&(r[t]=s)})),r}(0,o.query),o}const qu="function"===typeof addEventListener&&"function"===typeof removeEventListener,Gu=[];qu&&addEventListener("offline",(()=>{Gu.forEach((e=>e()))}),!1);class Ku extends yu{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Hu(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Hu(t.host).host);Cu(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let s=0,n=r.length;s<n;s++){let e=r[s].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),qu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Gu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&Ku.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",Ku.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(e+="string"===typeof(t=s)?function(e){let t=0,r=0;for(let s=0,n=e.length;s<n;s++)t=e.charCodeAt(s),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this._maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,wu((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,s){if("function"===typeof t&&(s=t,t=void 0),"function"===typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}_onError(e){if(Ku.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),qu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Gu.indexOf(this._offlineEventListener);-1!==e&&Gu.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ku.protocol=4;class Yu extends Ku{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Ku.priorWebsocketSuccess=!1;const s=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ku.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function n(){r||(r=!0,c(),t.close(),t=null)}const o=e=>{const r=new Error("probe error: "+e);r.transport=t.name,n(),this.emitReserved("upgradeError",r)};function a(){o("transport closed")}function i(){o("socket closed")}function l(e){t&&e.name!==t.name&&n()}const c=()=>{t.removeListener("open",s),t.removeListener("error",o),t.removeListener("close",a),this.off("close",i),this.off("upgrading",l)};t.once("open",s),t.once("error",o),t.once("close",a),this.once("close",i),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{r||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class Zu extends Yu{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>$u[e])).filter((e=>!!e))),super(e,t)}}const Qu="function"===typeof ArrayBuffer,Xu=Object.prototype.toString,Ju="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Xu.call(Blob),em="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===Xu.call(File);function tm(e){return Qu&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Ju&&e instanceof Blob||em&&e instanceof File}function rm(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(rm(e[t]))return!0;return!1}if(tm(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return rm(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&rm(e[r]))return!0;return!1}function sm(e){const t=[],r=e.data,s=e;return s.data=nm(r,t),s.attachments=t.length,{packet:s,buffers:t}}function nm(e,t){if(!e)return e;if(tm(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=nm(e[s],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=nm(e[s],t));return r}return e}function om(e,t){return e.data=am(e.data,t),delete e.attachments,e}function am(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=am(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=am(e[r],t));return e}const im=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lm=5;var cm;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(cm||(cm={}));class dm{constructor(e){this.replacer=e}encode(e){return e.type!==cm.EVENT&&e.type!==cm.ACK||!rm(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===cm.EVENT?cm.BINARY_EVENT:cm.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==cm.BINARY_EVENT&&e.type!==cm.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=sm(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}}function um(e){return"[object Object]"===Object.prototype.toString.call(e)}class mm extends yu{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===cm.BINARY_EVENT;r||t.type===cm.BINARY_ACK?(t.type=r?cm.EVENT:cm.ACK,this.reconstructor=new hm(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!tm(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===cm[r.type])throw new Error("unknown packet type "+r.type);if(r.type===cm.BINARY_EVENT||r.type===cm.BINARY_ACK){const s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const n=e.substring(s,t);if(n!=Number(n)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){const s=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(s,t)}else r.nsp="/";const s=e.charAt(t+1);if(""!==s&&Number(s)==s){const s=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if(!mm.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(Kf){return!1}}static isPayloadValid(e,t){switch(e){case cm.CONNECT:return um(t);case cm.DISCONNECT:return void 0===t;case cm.CONNECT_ERROR:return"string"===typeof t||um(t);case cm.EVENT:case cm.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===im.indexOf(t[0]));case cm.ACK:case cm.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hm{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=om(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function pm(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const gm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class fm extends yu{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pm(e,"open",this.onopen.bind(this)),pm(e,"packet",this.onpacket.bind(this)),pm(e,"error",this.onerror.bind(this)),pm(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,s;if(gm.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const i={type:cm.EVENT,data:o,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const e=this.ids++,t=o.pop();this._registerAckCallback(e,t),i.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(s=this.io.engine)||void 0===s?void 0:s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){var r,s=this;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n),a=function(){s.io.clearTimeoutFn(o);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];t.apply(s,r)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return new Promise(((t,s)=>{const n=(e,r)=>e?s(e):t(r);n.withError=!0,r.push(n),this.emit(e,...r)}))}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(s!==t._queue[0])return;if(null!==e)s.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];r(null,...o)}return s.pending=!1,t._drainQueue()})),this._queue.push(s),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:cm.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case cm.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case cm.EVENT:case cm.BINARY_EVENT:this.onevent(e);break;case cm.ACK:case cm.BINARY_ACK:this.onack(e);break;case cm.DISCONNECT:this.ondisconnect();break;case cm.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];t.packet({type:cm.ACK,id:e,data:n})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:cm.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function xm(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}xm.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},xm.prototype.reset=function(){this.attempts=0},xm.prototype.setMin=function(e){this.ms=e},xm.prototype.setMax=function(e){this.max=e},xm.prototype.setJitter=function(e){this.jitter=e};class vm extends yu{constructor(e,r){var s;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(r=e,e=void 0),(r=r||{}).path=r.path||"/socket.io",this.opts=r,Cu(this,r),this.reconnection(!1!==r.reconnection),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(s=r.randomizationFactor)&&void 0!==s?s:.5),this.backoff=new xm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==r.timeout?2e4:r.timeout),this._readyState="closed",this.uri=e;const n=r.parser||t;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==r.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Zu(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=pm(t,"open",(function(){r.onopen(),e&&e()})),n=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=pm(t,"error",n);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn((()=>{s(),n(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(pm(e,"ping",this.onping.bind(this)),pm(e,"data",this.ondata.bind(this)),pm(e,"error",this.onerror.bind(this)),pm(e,"close",this.onclose.bind(this)),pm(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(Kf){this.onclose("parse error",Kf)}}ondecoded(e){wu((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new fm(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((()=>{this.clearTimeoutFn(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const bm={};function ym(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,s=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),s=Hu(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const n=-1!==s.host.indexOf(":")?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+n+":"+s.port+t,s.href=s.protocol+"://"+n+(r&&r.port===s.port?"":":"+s.port),s}(e,(t=t||{}).path||"/socket.io"),s=r.source,n=r.id,o=r.path,a=bm[n]&&o in bm[n].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?i=new vm(s,t):(bm[n]||(bm[n]=new vm(s,t)),i=bm[n]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}Object.assign(ym,{Manager:vm,Socket:fm,io:ym,connect:ym});const wm=new class{constructor(){this.socket=null,this.isConnected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectInterval=5e3,this.eventListeners=new Map,this.userType=null,this.userId=null}getServerUrl(){return"https://zammer2.appspot.com/api".replace("/api","")}connect(){try{const e=this.getServerUrl();return this.socket=ym(e,{withCredentials:!0,transports:["websocket","polling"],timeout:1e4,reconnection:!0,reconnectionAttempts:this.maxReconnectAttempts,reconnectionDelay:this.reconnectInterval}),this.setupEventHandlers(),this.socket}catch(e){return null}}setupEventHandlers(){this.socket&&(this.socket.on("connect",(()=>{this.isConnected=!0,this.reconnectAttempts=0,this.socket.id,this.isConnected})),this.socket.on("connect_error",(e=>{this.isConnected=!1,e.message,e.type,e.description})),this.socket.on("disconnect",(e=>{this.isConnected=!1,this.isConnected})),this.socket.on("reconnect_attempt",(e=>{this.reconnectAttempts=e,this.maxReconnectAttempts})),this.socket.on("reconnect",(e=>{this.isConnected=!0,this.reconnectAttempts=0,this.userType&&this.userId&&("seller"===this.userType?this.joinSellerRoom(this.userId):"buyer"===this.userType&&this.joinBuyerRoom(this.userId))})),this.socket.on("reconnect_failed",(()=>{this.isConnected=!1})),this.socket.on("pong",(e=>{})))}joinBuyerRoom(e){return!(!this.socket||!this.isConnected)&&(this.userType="buyer",this.userId=e,this.socket.emit("buyer-join",e),this.socket.on("buyer-joined",(e=>{})),!0)}joinSellerRoom(e){return!(!this.socket||!this.isConnected)&&(this.userType="seller",this.userId=e,this.socket.emit("seller-join",e),this.socket.on("seller-joined",(e=>{})),!0)}onOrderUpdate(e){this.socket&&(this.socket.on("order-status-update",(t=>{var r,s,n,o;null===(r=t.data)||void 0===r||r._id,null===(s=t.data)||void 0===s||s.orderNumber,null===(n=t.data)||void 0===n||n.status,null===(o=t.data)||void 0===o||o.previousStatus,e&&"function"===typeof e&&e(t)})),this.eventListeners.set("order-status-update",e))}onNewOrder(e){this.socket&&(this.socket.on("new-order",(t=>{var r,s,n;null===(r=t.data)||void 0===r||r._id,null===(s=t.data)||void 0===s||s.orderNumber,null===(n=t.data)||void 0===n||n.totalPrice,e&&"function"===typeof e&&e(t)})),this.eventListeners.set("new-order",e))}onOrderStatusUpdate(e){this.socket&&(this.socket.on("order-status-updated",(t=>{var r,s,n,o;null===(r=t.data)||void 0===r||r._id,null===(s=t.data)||void 0===s||s.orderNumber,null===(n=t.data)||void 0===n||n.status,null===(o=t.data)||void 0===o||o.previousStatus,e&&"function"===typeof e&&e(t)})),this.eventListeners.set("order-status-updated",e))}onInvoiceReady(e){this.socket&&(this.socket.on("invoice-ready",(t=>{var r,s,n;null===(r=t.data)||void 0===r||r.orderId,null===(s=t.data)||void 0===s||s.orderNumber,null===(n=t.data)||void 0===n||n.invoiceUrl,e&&"function"===typeof e&&e(t)})),this.eventListeners.set("invoice-ready",e))}removeListener(e){this.socket&&this.eventListeners.has(e)&&(this.socket.off(e),this.eventListeners.delete(e))}removeAllListeners(){this.eventListeners.forEach(((e,t)=>{this.removeListener(t)}))}ping(){return!(!this.socket||!this.isConnected)&&(this.socket.emit("ping"),!0)}getConnectionStatus(){var e;return{isConnected:this.isConnected,socketId:(null===(e=this.socket)||void 0===e?void 0:e.id)||null,reconnectAttempts:this.reconnectAttempts,hasSocket:!!this.socket,userType:this.userType,userId:this.userId}}autoConnect(){const e=localStorage.getItem("userToken"),t=localStorage.getItem("userData"),r=localStorage.getItem("sellerToken"),s=localStorage.getItem("sellerData");if(e&&t)try{const e=JSON.parse(t);return e._id,e.name,this.isConnected||(this.connect(),setTimeout((()=>{this.isConnected&&this.joinBuyerRoom(e._id)}),1e3)),{type:"buyer",user:e}}catch(n){}else if(r&&s)try{const e=JSON.parse(s);return e._id,e.firstName,this.isConnected||(this.connect(),setTimeout((()=>{this.isConnected&&this.joinSellerRoom(e._id)}),1e3)),{type:"seller",seller:e}}catch(n){}return null}disconnect(){this.socket&&(this.removeAllListeners(),this.socket.disconnect(),this.socket=null,this.isConnected=!1,this.userType=null,this.userId=null)}reconnect(){return this.disconnect(),this.connect()}};const jm=wm,Nm=()=>{var e,t,r,n,o,a,i,l,c,d,u,m,h,p,g,f,x,v,b,y,w,j,N,k,S;const{sellerAuth:C}=(0,s.useContext)(er),[L,E]=(0,s.useState)([]),[P,_]=(0,s.useState)(!0),[M,T]=(0,s.useState)([]),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(!0),[I,z]=(0,s.useState)(!1),[F,B]=(0,s.useState)([]),[U,$]=(0,s.useState)([]),[W,V]=(0,s.useState)(!1),H=(0,s.useCallback)((()=>{var e,t;if(null===C||void 0===C||null===(e=C.seller)||void 0===e||!e._id)return void console.log("\u26a0\ufe0f No seller ID available for socket connection");console.log("\ud83d\udd0c Dashboard: Setting up socket connection for seller:",C.seller._id),V(!0),jm.getConnectionStatus().isConnected?(jm.joinSellerRoom(C.seller._id),z(!0),V(!1)):jm.connect().then((()=>{console.log("\u2705 Socket connected successfully"),jm.joinSellerRoom(C.seller._id),z(!0),V(!1)})).catch((e=>{console.error("\u274c Socket connection failed:",e),z(!1),V(!1),setTimeout((()=>H()),5e3)})),jm.onNewOrder((e=>{var t,r;console.log("\ud83d\udce6 Dashboard: New order received via socket:",e);const s=e.data;Bt.success((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"bg-green-100 rounded-full p-2 mr-3",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold text-gray-800",children:"\ud83c\udf89 New Order Received!"}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Order #",s.orderNumber]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Amount: \u20b9",s.totalPrice]}),(0,Xt.jsxs)("p",{className:"text-xs text-gray-500",children:["Customer: ",null===(t=s.user)||void 0===t?void 0:t.name]})]})]}),{position:"top-right",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,className:"new-order-toast"});const n={id:s._id,type:"new-order",title:"New Order Received",message:`Order #${s.orderNumber} from ${null===(r=s.user)||void 0===r?void 0:r.name}`,amount:s.totalPrice,timestamp:(new Date).toISOString(),data:s,isRead:!1};B((e=>[n,...e.slice(0,4)]));const o=new Date(s.createdAt),a=new Date;o.toDateString()===a.toDateString()&&$((e=>[s,...e])),G(),K()})),jm.onOrderStatusUpdate((e=>{console.log("\ud83d\udd04 Dashboard: Order status updated via socket:",e);const t=e.data;Bt.info((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"bg-blue-100 rounded-full p-2 mr-3",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold text-gray-800",children:"Order Status Updated"}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Order #",t.orderNumber]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Status: ",t.status]})]})]}),{position:"top-right",autoClose:5e3});const r={id:t._id+"-status",type:"status-update",title:"Order Status Updated",message:`Order #${t.orderNumber} is now ${t.status}`,timestamp:(new Date).toISOString(),data:t,isRead:!1};B((e=>[r,...e.slice(0,4)])),G()})),null===(t=jm.socket)||void 0===t||t.on("order-cancelled-by-buyer",(e=>{var t,r;console.log("\u274c Dashboard: Order cancelled by buyer:",e);const s=e.data;Bt.warning((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"bg-yellow-100 rounded-full p-2 mr-3",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.856-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold text-gray-800",children:"Order Cancelled by Customer"}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Order #",s.orderNumber]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Customer: ",null===(t=s.user)||void 0===t?void 0:t.name]}),s.reason&&(0,Xt.jsxs)("p",{className:"text-xs text-gray-500",children:["Reason: ",s.reason]})]})]}),{position:"top-right",autoClose:8e3});const n={id:s._id+"-cancelled",type:"order-cancelled",title:"Order Cancelled by Customer",message:`Order #${s.orderNumber} cancelled by ${null===(r=s.user)||void 0===r?void 0:r.name}`,timestamp:(new Date).toISOString(),data:s,isRead:!1};B((e=>[n,...e.slice(0,4)])),G(),K()}));const r=()=>{const e=jm.getConnectionStatus();z(e.isConnected)},s=setInterval(r,1e4);return r(),()=>{var e;clearInterval(s),jm.removeListener("new-order"),jm.removeListener("order-status-updated"),null===(e=jm.socket)||void 0===e||e.off("order-cancelled-by-buyer")}}),[null===C||void 0===C||null===(e=C.seller)||void 0===e?void 0:e._id]),q=(0,s.useCallback)((async()=>{try{_(!0);const e=await zd();e.success&&(E(e.data),console.log("\u2705 Products fetched:",e.data.length))}catch(e){console.error("\u274c Error fetching products:",e)}finally{_(!1)}}),[]),G=(0,s.useCallback)((async()=>{D(!0);try{console.log("\ud83d\udce6 Fetching seller orders...");const e=await Xd.getSellerOrders(1,10);if(e.success){T(e.data);const t=new Date,r=e.data.filter((e=>new Date(e.createdAt).toDateString()===t.toDateString()));$(r),console.log("\u2705 Orders fetched:",e.data.length),console.log("\ud83d\udcc5 Today's orders:",r.length)}else console.error("\u274c Failed to fetch orders:",e.message)}catch(e){console.error("\u274c Error fetching seller orders:",e)}finally{D(!1)}}),[]),K=(0,s.useCallback)((async()=>{try{console.log("\ud83d\udcca Fetching order statistics...");const e=await Xd.getSellerOrderStats();e.success&&(A(e.data),console.log("\u2705 Order stats fetched:",e.data))}catch(e){console.error("\u274c Error fetching order stats:",e)}}),[]);(0,s.useEffect)((()=>{var e;null!==C&&void 0!==C&&null!==(e=C.seller)&&void 0!==e&&e._id&&(console.log("\ud83d\ude80 Dashboard: Initializing for seller:",C.seller.firstName),q(),G(),K(),H())}),[null===C||void 0===C||null===(t=C.seller)||void 0===t?void 0:t._id,q,G,K,H]);const Y=(0,s.useCallback)((()=>{console.log("\ud83d\udd04 Manual refresh triggered"),q(),G(),K(),I||H()}),[q,G,K,I,H]),Z=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-indigo-100 text-indigo-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Q=()=>{var e;const t=null===(e=C.seller)||void 0===e?void 0:e.shop;return null!==t&&void 0!==t&&t.mainImage?t.mainImage:null!==t&&void 0!==t&&t.images&&t.images.length>0?t.images[0]:null},X=e=>{const t=new Date(e),r=new Date,s=Math.floor((r-t)/6e4);return s<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:t.toLocaleDateString()};return(0,Xt.jsx)(Rd,{children:(0,Xt.jsxs)("div",{className:"dashboard-container",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-all "+(I?"bg-green-50 border-green-200":W?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"),children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-3 h-3 rounded-full "+(I?"bg-green-500 animate-pulse":W?"bg-yellow-500 animate-spin":"bg-red-500")}),(0,Xt.jsx)("span",{className:"text-sm font-medium "+(I?"text-green-700":W?"text-yellow-700":"text-red-700"),children:I?"\u2705 Real-time notifications active":W?"\ud83d\udd04 Connecting to notifications...":"\u274c Notifications disconnected"})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(null===O||void 0===O?void 0:O.unreadOrdersCount)>0&&(0,Xt.jsxs)(nt,{to:"/seller/orders",className:"bg-orange-500 hover:bg-orange-600 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center transition-colors",children:[(0,Xt.jsx)("span",{className:"mr-1",children:O.unreadOrdersCount}),"New Orders"]}),!I&&(0,Xt.jsx)("button",{onClick:H,disabled:W,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-3 py-1 rounded-full text-xs font-medium transition-colors",children:W?"Connecting...":"Reconnect"}),(0,Xt.jsx)("button",{onClick:Y,className:"text-gray-500 hover:text-gray-700 p-1 rounded transition-colors",title:"Refresh data",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})}),(0,Xt.jsx)("div",{className:"shop-banner-section mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg overflow-hidden shadow-lg",children:(0,Xt.jsxs)("div",{className:"relative h-48 md:h-64",children:[Q()?(0,Xt.jsxs)("div",{className:"absolute inset-0",children:[(0,Xt.jsx)("img",{src:Q(),alt:(null===(r=C.seller)||void 0===r||null===(n=r.shop)||void 0===n?void 0:n.name)||"Shop",className:"w-full h-full object-cover opacity-80"}),(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/60 to-orange-600/60"})]}):(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500 to-orange-600"}),(0,Xt.jsxs)("div",{className:"relative z-10 p-6 h-full flex flex-col justify-between text-white",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:(null===(o=C.seller)||void 0===o||null===(a=o.shop)||void 0===a?void 0:a.name)||"Your Shop"}),(0,Xt.jsxs)("p",{className:"text-orange-100 mb-1",children:[(null===(i=C.seller)||void 0===i||null===(l=i.shop)||void 0===l?void 0:l.category)||"Fashion"," Store"]}),(null===(c=C.seller)||void 0===c||null===(d=c.shop)||void 0===d?void 0:d.description)&&(0,Xt.jsx)("p",{className:"text-orange-100 text-sm max-w-md",children:C.seller.shop.description})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2",children:[(0,Xt.jsx)("p",{className:"text-sm text-orange-100",children:"Total Products"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold",children:P?"...":L.length})]}),(0,Xt.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2",children:[(0,Xt.jsx)("p",{className:"text-sm text-orange-100",children:"Today's Orders"}),(0,Xt.jsx)("p",{className:"text-2xl font-bold",children:U.length})]}),(0,Xt.jsxs)("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2",children:[(0,Xt.jsx)("p",{className:"text-sm text-orange-100",children:"Shop Status"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2 animate-pulse"}),(0,Xt.jsx)("p",{className:"text-lg font-semibold text-green-200",children:"Active"})]})]})]})]})]})}),(0,Xt.jsxs)("div",{className:"welcome-section mb-8",children:[(0,Xt.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Welcome back, ",(null===(u=C.seller)||void 0===u?void 0:u.firstName)||"Seller","! \ud83d\udc4b"]}),(0,Xt.jsxs)("p",{className:"text-gray-600",children:["Manage your shop and products from your dashboard.",I&&(0,Xt.jsx)("span",{className:"text-green-600 font-medium",children:" Real-time updates are active."})]})]}),(0,Xt.jsxs)("div",{className:"stats-cards grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Xt.jsxs)("div",{className:"stat-card bg-blue-50 p-6 rounded-lg shadow-sm border border-blue-100",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-blue-700",children:"Total Products"}),(0,Xt.jsx)("p",{className:"text-3xl font-bold text-blue-900 mt-2",children:P?(0,Xt.jsx)("div",{className:"animate-pulse bg-blue-200 h-8 w-16 rounded"}):L.length}),(0,Xt.jsx)(nt,{to:"/seller/view-products",className:"text-blue-600 hover:underline text-sm inline-block mt-2 transition-colors",children:"View all products"})]}),(0,Xt.jsxs)("div",{className:"stat-card bg-green-50 p-6 rounded-lg shadow-sm border border-green-100",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-green-700",children:"Total Orders"}),(0,Xt.jsx)("p",{className:"text-3xl font-bold text-green-900 mt-2",children:Object.values((null===O||void 0===O?void 0:O.statusCounts)||{}).reduce(((e,t)=>e+t),0)}),(0,Xt.jsx)(nt,{to:"/seller/orders",className:"text-green-600 hover:underline text-sm inline-block mt-2 transition-colors",children:"View all orders"})]}),(0,Xt.jsxs)("div",{className:"stat-card bg-yellow-50 p-6 rounded-lg shadow-sm border border-yellow-100",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-yellow-700",children:"Pending Orders"}),(0,Xt.jsx)("p",{className:"text-3xl font-bold text-yellow-900 mt-2",children:(null===O||void 0===O||null===(m=O.statusCounts)||void 0===m?void 0:m.Pending)||0}),(0,Xt.jsx)(nt,{to:"/seller/orders",className:"text-yellow-600 hover:underline text-sm inline-block mt-2 transition-colors",children:"Manage orders"})]}),(0,Xt.jsxs)("div",{className:"stat-card bg-purple-50 p-6 rounded-lg shadow-sm border border-purple-100",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-purple-700",children:"Revenue"}),(0,Xt.jsxs)("p",{className:"text-3xl font-bold text-purple-900 mt-2",children:["\u20b9",(null===O||void 0===O||null===(h=O.totalRevenue)||void 0===h?void 0:h.toLocaleString())||0]}),(0,Xt.jsx)("p",{className:"text-purple-600 text-sm mt-1",children:"Total earnings"})]})]}),F.length>0&&(0,Xt.jsxs)("div",{className:"recent-notifications mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,Xt.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"}),"Recent Notifications"]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("button",{onClick:()=>{B([])},className:"text-gray-500 hover:text-gray-700 text-sm font-medium transition-colors",children:"Clear All"}),(0,Xt.jsx)(nt,{to:"/seller/orders",className:"text-orange-600 hover:text-orange-700 text-sm font-medium transition-colors",children:"View All Orders \u2192"})]})]}),(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm border",children:F.map(((e,t)=>(0,Xt.jsxs)("div",{className:`p-4 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors ${t!==F.length-1?"border-b border-gray-100":""} ${e.isRead?"":"bg-blue-50"}`,onClick:()=>{return t=e.id,void B((e=>e.map((e=>e.id===t?{...e,isRead:!0}:e))));var t},children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("div",{className:`w-3 h-3 rounded-full ${"new-order"===e.type?"bg-green-500":"status-update"===e.type?"bg-blue-500":"bg-yellow-500"} ${e.isRead?"":"animate-pulse"}`}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium "+(e.isRead?"text-gray-700":"text-gray-900"),children:e.title}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500",children:X(e.timestamp)})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[e.amount&&(0,Xt.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.amount]}),!e.isRead&&(0,Xt.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]},e.id)))})]}),U.length>0&&(0,Xt.jsxs)("div",{className:"todays-orders mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udcc5 Today's Orders"}),(0,Xt.jsx)(nt,{to:"/seller/orders",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm transition-colors",children:"View All Orders"})]}),(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,Xt.jsx)("div",{className:"divide-y divide-gray-200",children:U.slice(0,3).map((e=>{var t;return(0,Xt.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.orderNumber]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=e.user)||void 0===t?void 0:t.name})]}),(0,Xt.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(e.status)}`,children:e.status})]}),(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsxs)("p",{className:"font-bold text-gray-900",children:["\u20b9",e.totalPrice]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleTimeString()})]})]})},e._id)}))})})]}),(0,Xt.jsxs)("div",{className:"recent-orders mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Recent Orders"}),(0,Xt.jsx)(nt,{to:"/seller/orders",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm transition-colors",children:"View All Orders"})]}),R?(0,Xt.jsx)("div",{className:"flex justify-center py-8",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-2"}),(0,Xt.jsx)("span",{className:"text-gray-600",children:"Loading orders..."})]})}):M.length>0?(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,Xt.jsx)("div",{className:"divide-y divide-gray-200",children:M.slice(0,5).map((e=>{var t;return(0,Xt.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",e.orderNumber]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=e.user)||void 0===t?void 0:t.name})]}),(0,Xt.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(e.status)}`,children:e.status})]}),(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsxs)("p",{className:"font-bold text-gray-900",children:["\u20b9",e.totalPrice]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString()})]})]})},e._id)}))})}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"No orders yet."}),(0,Xt.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"Orders will appear here when customers make purchases."}),!I&&(0,Xt.jsx)("button",{onClick:H,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Connect for Real-time Orders"})]})]}),(0,Xt.jsxs)("div",{className:"recent-products mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Recent Products"}),(0,Xt.jsx)(nt,{to:"/seller/add-product",className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm transition-colors",children:"Add New Product"})]}),P?(0,Xt.jsx)("div",{className:"flex justify-center py-8",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-2"}),(0,Xt.jsx)("span",{className:"text-gray-600",children:"Loading products..."})]})}):L.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:L.slice(0,3).map((e=>{var t;return(0,Xt.jsxs)("div",{className:"product-card border rounded-lg overflow-hidden shadow-sm bg-white hover:shadow-md transition-shadow",children:[(0,Xt.jsxs)("div",{className:"h-40 bg-gray-200 flex items-center justify-center relative",children:[e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"h-full w-full object-cover"}):(0,Xt.jsxs)("div",{className:"text-gray-400 text-center",children:[(0,Xt.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Xt.jsx)("span",{className:"text-sm",children:"No image"})]}),(0,Xt.jsxs)("div",{className:"absolute top-2 left-2 space-y-1",children:[e.isTrending&&(0,Xt.jsx)("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Trending"}),e.isLimitedEdition&&(0,Xt.jsx)("span",{className:"bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Limited"})]})]}),(0,Xt.jsxs)("div",{className:"p-4",children:[(0,Xt.jsx)("h3",{className:"font-semibold text-lg text-gray-800 mb-2 truncate",children:e.name}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsxs)("span",{className:"text-orange-600 font-bold text-lg",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-gray-500 text-sm line-through",children:["\u20b9",e.mrp]})]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-medium",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% OFF"]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,Xt.jsxs)("span",{children:["Stock: ",(null===(t=e.variants)||void 0===t?void 0:t.reduce(((e,t)=>e+(t.quantity||0)),0))||0]}),(0,Xt.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("active"===e.status?"bg-green-100 text-green-800":"paused"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]})]})]},e._id)}))}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 text-lg mb-4",children:"You haven't added any products yet."}),(0,Xt.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"Start building your inventory by adding your first product."}),(0,Xt.jsxs)(nt,{to:"/seller/add-product",className:"bg-orange-500 hover:bg-orange-600 text-white py-3 px-6 rounded-md text-sm font-medium inline-flex items-center transition-colors",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First Product"]})]})]}),(0,Xt.jsxs)("div",{className:"shop-info bg-gray-50 p-6 rounded-lg shadow-sm",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Your Shop Information"}),(0,Xt.jsxs)(nt,{to:"/seller/edit-profile",className:"text-orange-600 hover:text-orange-700 text-sm font-medium flex items-center transition-colors",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Shop Name"}),(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:(null===(p=C.seller)||void 0===p||null===(g=p.shop)||void 0===g?void 0:g.name)||"N/A"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Category"}),(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:(null===(f=C.seller)||void 0===f||null===(x=f.shop)||void 0===x?void 0:x.category)||"N/A"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:(null===(v=C.seller)||void 0===v||null===(b=v.shop)||void 0===b?void 0:b.address)||"N/A"})]})]}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Working Hours"}),(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:null!==(y=C.seller)&&void 0!==y&&null!==(w=y.shop)&&void 0!==w&&w.openTime&&null!==(j=C.seller)&&void 0!==j&&null!==(N=j.shop)&&void 0!==N&&N.closeTime?`${C.seller.shop.openTime} - ${C.seller.shop.closeTime}`:"Not set"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Working Days"}),(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:(null===(k=C.seller)||void 0===k||null===(S=k.shop)||void 0===S?void 0:S.workingDays)||"Not set"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Connection Status"}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-2 h-2 rounded-full "+(I?"bg-green-500 animate-pulse":"bg-gray-400")}),(0,Xt.jsx)("span",{className:"text-sm font-medium "+(I?"text-green-700":"text-gray-600"),children:I?"Real-time updates active":"Offline"})]})]})]})]})]})]})})},km={Men:{subCategories:["T-shirts","Shirts","Jeans","Ethnic Wear","Jackets","Tops","Tees","Sleepwear","Top Wear"]},Women:{subCategories:["Kurties","Tops","Tees","Dresses","Jeans","Nightwear","Sleepwear","Lehengass","Rayon","Shrugs"]},Kids:{subCategories:["T-shirts","Shirts","Boys Sets","Top Wear","Nightwear","Sleepwear"]}},Sm=[{value:"",label:"Select Product Category"},{value:"Traditional Indian",label:"Traditional Indian"},{value:"Winter Fashion",label:"Winter Fashion"},{value:"Party Wear",label:"Party Wear"},{value:"Sports Destination",label:"Sports Destination"},{value:"Office Wear",label:"Office Wear"}],Cm=["XS","S","M","L","XL","2XL","3XL","4XL"],Lm=[{name:"Black",code:"#000000"},{name:"White",code:"#FFFFFF"},{name:"Red",code:"#FF0000"},{name:"Blue",code:"#0000FF"},{name:"Green",code:"#008000"},{name:"Yellow",code:"#FFFF00"},{name:"Purple",code:"#800080"},{name:"Orange",code:"#FFA500"},{name:"Pink",code:"#FFC0CB"},{name:"Brown",code:"#964B00"},{name:"Gray",code:"#808080"},{name:"Navy",code:"#000080"},{name:"Maroon",code:"#800000"},{name:"Olive",code:"#808000"},{name:"Cyan",code:"#00FFFF"},{name:"Magenta",code:"#FF00FF"}],Em=yd().shape({name:ad().required("Product name is required").max(100,"Name cannot be more than 100 characters"),description:ad().required("Description is required").max(1e3,"Description cannot be more than 1000 characters"),category:ad().required("Category is required"),subCategory:ad().required("Sub-category is required"),productCategory:ad().required("Product category is required"),zammerPrice:ld().required("Zammer price is required").positive("Price must be positive"),mrp:ld().required("MRP is required").positive("MRP must be positive").test("mrp-greater","MRP should be greater than or equal to Zammer price",(function(e){const{zammerPrice:t}=this.parent;return!t||!e||e>=t})),variants:jd().of(yd().shape({color:ad().required("Color is required"),colorCode:ad().required("Color code is required"),size:ad().required("Size is required"),quantity:ld().required("Quantity is required").min(0,"Quantity must be at least 0")})).min(1,"At least one variant is required"),images:jd().min(1,"At least one image is required")}),Pm=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(!1),o=re();return(0,Xt.jsx)(Rd,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50/30",children:(0,Xt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-600 via-orange-500 to-amber-500 rounded-3xl transform rotate-1 opacity-10"}),(0,Xt.jsx)("div",{className:"relative bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-amber-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-gray-800 to-orange-600 bg-clip-text text-transparent",children:"Create New Product"}),(0,Xt.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Build your next bestseller with our premium product creator"})]})]})})]}),(0,Xt.jsx)(Zl,{initialValues:{name:"",description:"",category:"",subCategory:"",productCategory:"",zammerPrice:"",mrp:"",variants:[{color:"",colorCode:"",size:"",quantity:1}],images:[],tags:[],isLimitedEdition:!1,isTrending:!1},validationSchema:Em,onSubmit:async(e,r)=>{let{setSubmitting:s,resetForm:n}=r;t(!0);try{if(!e.images||0===e.images.length)return void Bt.error("Please upload at least one product image");const t=e.images.filter((e=>"string"===typeof e&&(e.includes("cloudinary.com")||e.startsWith("http"))));if(0===t.length)return void Bt.error("Please upload at least one valid product image");const r={name:e.name.trim(),description:e.description.trim(),category:e.category,subCategory:e.subCategory,productCategory:e.productCategory,zammerPrice:Number(e.zammerPrice),mrp:Number(e.mrp),variants:e.variants.map((e=>({color:e.color.trim(),colorCode:e.colorCode.trim(),size:e.size,quantity:Number(e.quantity),images:[]}))),images:t,tags:e.tags.map((e=>e.trim())).filter((e=>e)),isLimitedEdition:Boolean(e.isLimitedEdition),isTrending:Boolean(e.isTrending)};console.log("\ud83d\udce6 Submitting product data:",{name:r.name,imageCount:r.images.length,variantCount:r.variants.length,images:r.images});const s=await Id(r);s.success?(Bt.success("Product added successfully!"),n(),o("/seller/view-products")):Bt.error(s.message||"Failed to add product")}catch(a){if(console.error("\u274c Product creation error:",a),a.message&&a.message.includes("validation failed")){const e=a.message.split(":").slice(1).join(":").trim();Bt.error(`Validation Error: ${e}`)}else a.message&&a.message.includes("enum")?Bt.error("Please select from the available dropdown options only"):Bt.error(a.message||"Something went wrong while adding the product")}finally{t(!1),s(!1)}},children:t=>{let{values:s,setFieldValue:a,isSubmitting:i,errors:l,touched:c}=t;return(0,Xt.jsxs)(rc,{className:"space-y-8",children:[(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500 to-amber-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-amber-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("span",{className:"text-white text-lg font-bold",children:"1"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Basic Information"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Xt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xt.jsx)("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Name*"}),(0,Xt.jsx)(tc,{id:"name",name:"name",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Enter your amazing product name..."}),(0,Xt.jsx)(cc,{name:"name",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Category*"}),(0,Xt.jsxs)(tc,{as:"select",id:"category",name:"category",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",onChange:e=>{const t=e.target.value;a("category",t),a("subCategory","")},children:[(0,Xt.jsx)("option",{value:"",children:"Select Category"}),Object.keys(km).map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:"category",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"subCategory",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Sub Category*"}),(0,Xt.jsxs)(tc,{as:"select",id:"subCategory",name:"subCategory",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm disabled:opacity-50",disabled:!s.category,children:[(0,Xt.jsx)("option",{value:"",children:"Select Sub Category"}),s.category&&km[s.category].subCategories.map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:"subCategory",component:"div",className:"text-red-500 text-sm mt-2 font-medium"}),!s.category&&(0,Xt.jsx)("p",{className:"text-sm text-gray-500 mt-2 italic",children:"Please select a category first"})]}),(0,Xt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xt.jsx)("label",{htmlFor:"productCategory",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Category*"}),(0,Xt.jsx)(tc,{as:"select",id:"productCategory",name:"productCategory",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",children:Sm.map((e=>(0,Xt.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Xt.jsx)(cc,{name:"productCategory",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]})]}),(0,Xt.jsxs)("div",{className:"mt-8",children:[(0,Xt.jsx)("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Description*"}),(0,Xt.jsx)(tc,{as:"textarea",id:"description",name:"description",rows:5,className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm resize-none",placeholder:"Describe your product in detail... What makes it special?"}),(0,Xt.jsx)(cc,{name:"description",component:"div",className:"text-red-500 text-sm mt-2 font-medium"}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xt.jsxs)("div",{className:"text-sm "+(s.description.length>800?"text-orange-600":"text-gray-500"),children:[s.description.length,"/1000 characters"]}),(0,Xt.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Xt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(s.description.length>800?"bg-orange-500":"bg-green-500"),style:{width:s.description.length/1e3*100+"%"}})})]})]})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("span",{className:"text-white text-lg font-bold",children:"2"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Pricing Strategy"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"zammerPrice",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Zammer Price (\u20b9)*"}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Xt.jsx)("span",{className:"text-gray-500 text-lg",children:"\u20b9"})}),(0,Xt.jsx)(tc,{id:"zammerPrice",name:"zammerPrice",type:"number",min:"0",step:"0.01",className:"block w-full pl-10 pr-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"0.00"})]}),(0,Xt.jsx)(cc,{name:"zammerPrice",component:"div",className:"text-red-500 text-sm mt-2 font-medium"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Your selling price on Zammer"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"mrp",className:"block text-sm font-semibold text-gray-700 mb-3",children:"MRP (\u20b9)*"}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Xt.jsx)("span",{className:"text-gray-500 text-lg",children:"\u20b9"})}),(0,Xt.jsx)(tc,{id:"mrp",name:"mrp",type:"number",min:"0",step:"0.01",className:"block w-full pl-10 pr-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"0.00"})]}),(0,Xt.jsx)(cc,{name:"mrp",component:"div",className:"text-red-500 text-sm mt-2 font-medium"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Maximum retail price"})]})]}),s.zammerPrice&&s.mrp&&Number(s.mrp)>Number(s.zammerPrice)&&(0,Xt.jsx)("div",{className:"mt-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"text-green-700 text-lg font-bold",children:[Math.round((Number(s.mrp)-Number(s.zammerPrice))/Number(s.mrp)*100),"% Discount"]}),(0,Xt.jsxs)("div",{className:"text-green-600 text-sm",children:["Customer saves \u20b9",(Number(s.mrp)-Number(s.zammerPrice)).toFixed(2)]})]})]}),(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsxs)("div",{className:"text-2xl font-bold text-green-700",children:["\u20b9",s.zammerPrice]}),(0,Xt.jsxs)("div",{className:"text-sm text-gray-500 line-through",children:["\u20b9",s.mrp]})]})]})})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("span",{className:"text-white text-lg font-bold",children:"3"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Product Variants"})]}),(0,Xt.jsx)(lc,{name:"variants",children:e=>{let{remove:t,push:r}=e;return(0,Xt.jsxs)("div",{className:"space-y-6",children:[s.variants.map(((e,r)=>(0,Xt.jsxs)("div",{className:"relative p-6 bg-gradient-to-br from-gray-50 to-white border-2 border-gray-200 rounded-2xl shadow-sm",children:[(0,Xt.jsxs)("div",{className:"absolute -top-3 left-6 bg-purple-500 text-white px-4 py-1 rounded-full text-sm font-semibold",children:["Variant ",r+1]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Color*"}),(0,Xt.jsxs)(tc,{as:"select",name:`variants.${r}.color`,className:"block w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",onChange:e=>{const t=Lm.find((t=>t.name===e.target.value));a(`variants.${r}.color`,e.target.value),t&&a(`variants.${r}.colorCode`,t.code)},children:[(0,Xt.jsx)("option",{value:"",children:"Select Color"}),Lm.map((e=>(0,Xt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,Xt.jsx)(cc,{name:`variants.${r}.color`,component:"div",className:"text-red-500 text-xs mt-1 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Preview"}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 border-2 border-gray-300 rounded-xl shadow-sm",style:{backgroundColor:e.colorCode||"#f0f0f0"}}),(0,Xt.jsx)(tc,{name:`variants.${r}.colorCode`,type:"text",placeholder:"#000000",className:"flex-1 px-3 py-2 text-sm border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),(0,Xt.jsx)(cc,{name:`variants.${r}.colorCode`,component:"div",className:"text-red-500 text-xs mt-1 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Size*"}),(0,Xt.jsxs)(tc,{as:"select",name:`variants.${r}.size`,className:"block w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:[(0,Xt.jsx)("option",{value:"",children:"Select Size"}),Cm.map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:`variants.${r}.size`,component:"div",className:"text-red-500 text-xs mt-1 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Quantity*"}),(0,Xt.jsx)(tc,{name:`variants.${r}.quantity`,type:"number",min:"0",className:"block w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"}),(0,Xt.jsx)(cc,{name:`variants.${r}.quantity`,component:"div",className:"text-red-500 text-xs mt-1 font-medium"})]})]}),r>0&&(0,Xt.jsx)("button",{type:"button",onClick:()=>t(r),className:"absolute -top-3 -right-3 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r))),(0,Xt.jsxs)("button",{type:"button",onClick:()=>r({color:"",colorCode:"",size:"",quantity:1}),className:"w-full p-4 border-2 border-dashed border-purple-300 rounded-2xl text-purple-600 hover:text-purple-700 hover:border-purple-400 hover:bg-purple-50 transition-all duration-200 font-semibold",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Another Variant"]})]})}})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("span",{className:"text-white text-lg font-bold",children:"4"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Product Gallery"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"Upload Product Images*"}),s.images.length>0&&(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:s.images.map(((e,t)=>(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-lg",children:(0,Xt.jsx)("img",{src:e,alt:`Product ${t+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),(0,Xt.jsx)("button",{type:"button",onClick:()=>(async(e,t,r)=>{try{const s=r[e];if(console.log(`\ud83d\uddd1\ufe0f Starting image removal for index ${e}`),console.log("\ud83d\udd0d Image URL:",s),s.includes("cloudinary.com")){const e=new URL(s).pathname.split("/"),t=e.indexOf("upload");if(-1===t)throw new Error("Invalid Cloudinary URL format");const r=e.slice(t+2).join("/").replace(/\.[^/.]+$/,"");if(console.log("\ud83d\udd0d Extracted publicId:",r),!r)throw new Error("Could not extract publicId from URL");const n=async()=>{const e=[{name:"Quick",timeout:25e3},{name:"Normal",timeout:4e4},{name:"Extended",timeout:6e4}];for(let s=0;s<e.length;s++){const n=e[s];let o,a;console.log(`\ud83d\ude80 Attempting ${n.name} deletion (${n.timeout}ms timeout)`);try{a=new AbortController,o=setTimeout((()=>a.abort()),n.timeout);const t=await fetch(`https://zammer2.appspot.com/api/upload/${encodeURIComponent(r)}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("sellerToken")}`,"Content-Type":"application/json"},signal:a.signal});o&&(clearTimeout(o),o=null),console.log(`\ud83d\udce1 ${n.name} response status:`,t.status);const i=await t.json();if(console.log(`\ud83d\udce1 ${n.name} response data:`,i),t.ok)return console.log(`\u2705 ${n.name} deletion successful:`,i),i.data&&i.data.warning?Bt.warning(`Image removed: ${i.data.warning}`):Bt.success("Image deleted successfully from cloud storage"),!0;if(404===t.status)return console.log("\u26a0\ufe0f Image not found in Cloudinary (may already be deleted)"),Bt.warning("Image was already deleted from cloud storage"),!0;if(408===t.status||499===t.status){if(s<e.length-1){console.log(`\u23f1\ufe0f ${n.name} deletion timed out, trying next strategy...`);continue}return console.log("\u23f1\ufe0f Final deletion attempt timed out, assuming success"),Bt.warning("Deletion timed out, but image likely removed from cloud storage"),!0}throw new Error(i.message||`HTTP ${t.status}: Failed to delete image`)}catch(t){if(o&&(clearTimeout(o),o=null),"AbortError"===t.name){if(console.log(`\u23f1\ufe0f ${n.name} deletion aborted due to timeout`),s<e.length-1){console.log("\ud83d\udd04 Trying next deletion strategy...");continue}return console.log("\ud83e\udd1d All strategies timed out, assuming deletion succeeded"),Bt.warning("Deletion requests timed out, but image likely removed"),!0}throw t}}throw new Error("All deletion strategies failed")};await n()}const n=[...r];n.splice(e,1),t("images",n),console.log("\u2705 Image removed from form")}catch(s){console.error("\u274c Image removal error:",{message:s.message,imageUrl:r[e],index:e});const n=[...r];n.splice(e,1),t("images",n),s.message.includes("timeout")||s.message.includes("Timeout")||s.message.includes("aborted")?Bt.warning("Image removed from form. Cloud deletion may have succeeded despite timeout."):s.message.includes("not found")||s.message.includes("404")?Bt.info("Image removed from form (was already deleted from cloud)"):s.message.includes("network")||s.message.includes("fetch")?Bt.warning("Network error during deletion, but image removed from form"):Bt.error(`Image removed from form. Cloud deletion error: ${s.message}`),console.log("\u2705 Image removed from form despite cloud deletion error")}})(t,a,s.images),className:"absolute -top-3 -right-3 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg opacity-0 group-hover:opacity-100",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),0===t&&(0,Xt.jsx)("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Main"})]},t)))}),(0,Xt.jsx)("div",{className:"border-2 border-dashed border-blue-300 rounded-2xl p-8 hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-200",children:(0,Xt.jsxs)("label",{className:"block cursor-pointer",children:[(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-16 w-16 text-blue-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Xt.jsx)("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:r?"Uploading...":"Upload Product Images"}),(0,Xt.jsx)("div",{className:"text-sm text-gray-500",children:r?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500 mr-2"}),"Processing your images..."]}):"Drag and drop or click to browse"})]}),(0,Xt.jsx)("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>(async(e,t,r)=>{n(!0);try{const s=Array.from(e.target.files),n=[...r];for(const e of s){const t=new FormData;t.append("image",e),console.log("\ud83d\udce4 Uploading to Cloudinary via /api/upload...");const r=await fetch(`${"https://zammer2.appspot.com/api".replace("/api","")}/api/upload`,{method:"POST",body:t,headers:{Authorization:`Bearer ${localStorage.getItem("sellerToken")}`}}),s=await r.json();if(console.log("\ud83d\udce5 Upload response:",s),!s.success)throw new Error(s.message||"Upload failed");n.push(s.data.url),console.log("\u2705 Cloudinary URL added:",s.data.url)}t("images",n),Bt.success(`${s.length} image(s) uploaded to Cloudinary`)}catch(s){console.error("\u274c Cloudinary upload failed:",s),Bt.error("Failed to upload images to Cloudinary")}finally{n(!1)}})(e,a,s.images),disabled:r})]})}),(0,Xt.jsx)(cc,{name:"images",component:"div",className:"text-red-500 text-sm mt-3 font-medium"}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["\ud83d\udca1 ",(0,Xt.jsx)("strong",{children:"Tip:"})," Upload high-quality images for better customer engagement. First image will be the main product image."]})]})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("span",{className:"text-white text-lg font-bold",children:"5"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Product Features"})]}),(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"flex items-center p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-200",children:[(0,Xt.jsx)(tc,{id:"isLimitedEdition",name:"isLimitedEdition",type:"checkbox",className:"h-5 w-5 text-purple-600 focus:ring-purple-500 border-gray-300 rounded mr-4"}),(0,Xt.jsxs)("label",{htmlFor:"isLimitedEdition",className:"text-gray-700 font-medium",children:[(0,Xt.jsx)("span",{className:"text-purple-600",children:"\u2b50"})," Limited Edition Product"]})]}),(0,Xt.jsxs)("div",{className:"flex items-center p-4 bg-gradient-to-r from-pink-50 to-red-50 rounded-xl border border-pink-200",children:[(0,Xt.jsx)(tc,{id:"isTrending",name:"isTrending",type:"checkbox",className:"h-5 w-5 text-pink-600 focus:ring-pink-500 border-gray-300 rounded mr-4"}),(0,Xt.jsxs)("label",{htmlFor:"isTrending",className:"text-gray-700 font-medium",children:[(0,Xt.jsx)("span",{className:"text-pink-600",children:"\ud83d\udd25"})," Mark as Trending"]})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"tags",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Product Tags"}),(0,Xt.jsx)("input",{id:"tags",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"summer, casual, cotton, comfortable, trendy...",value:s.tags.join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim())).filter((e=>e));a("tags",t)}}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Separate tags with commas. Tags help customers discover your product easily."})]})]})]})]}),(0,Xt.jsxs)("div",{className:"flex justify-end space-x-6 pt-8",children:[(0,Xt.jsx)("button",{type:"button",onClick:()=>o("/seller/dashboard"),className:"px-8 py-4 border-2 border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 font-semibold",children:"Cancel"}),(0,Xt.jsx)("button",{type:"submit",disabled:i||e||r,className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-amber-500 text-white rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 transition-all duration-200 font-semibold "+(i||e||r?"opacity-70 cursor-not-allowed":"hover:from-orange-600 hover:to-amber-600"),children:e?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Product..."]}):(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Product"]})})]})]})}})]})})})},_m={Men:{subCategories:["T-shirts","Shirts","Jeans","Ethnic Wear","Jackets","Tops","Tees","Sleepwear","Top Wear"]},Women:{subCategories:["Kurties","Tops","Tees","Dresses","Jeans","Nightwear","Sleepwear","Lehengass","Rayon","Shrugs"]},Kids:{subCategories:["T-shirts","Shirts","Boys Sets","Top Wear","Nightwear","Sleepwear"]}},Mm=[{value:"",label:"Select Product Category"},{value:"Traditional Indian",label:"Traditional Indian"},{value:"Winter Fashion",label:"Winter Fashion"},{value:"Party Wear",label:"Party Wear"},{value:"Sports Destination",label:"Sports Destination"},{value:"Office Wear",label:"Office Wear"}],Tm=["XS","S","M","L","XL","2XL","3XL","4XL"],Om=[{name:"Black",code:"#000000"},{name:"White",code:"#FFFFFF"},{name:"Red",code:"#FF0000"},{name:"Blue",code:"#0000FF"},{name:"Green",code:"#008000"},{name:"Yellow",code:"#FFFF00"},{name:"Purple",code:"#800080"},{name:"Orange",code:"#FFA500"},{name:"Pink",code:"#FFC0CB"},{name:"Brown",code:"#964B00"},{name:"Gray",code:"#808080"},{name:"Navy",code:"#000080"},{name:"Maroon",code:"#800000"},{name:"Olive",code:"#808000"},{name:"Cyan",code:"#00FFFF"},{name:"Magenta",code:"#FF00FF"}],Am=yd().shape({name:ad().required("Product name is required").max(100,"Name cannot be more than 100 characters"),description:ad().required("Description is required").max(1e3,"Description cannot be more than 1000 characters"),category:ad().required("Category is required"),subCategory:ad().required("Sub-category is required"),productCategory:ad().required("Product category is required"),zammerPrice:ld().required("Zammer price is required").positive("Price must be positive"),mrp:ld().required("MRP is required").positive("MRP must be positive").test("mrp-greater","MRP should be greater than or equal to Zammer price",(function(e){const{zammerPrice:t}=this.parent;return!t||!e||e>=t})),variants:jd().of(yd().shape({color:ad().required("Color is required"),colorCode:ad().required("Color code is required"),size:ad().required("Size is required"),quantity:ld().required("Quantity is required").min(0,"Quantity must be at least 0")})).min(1,"At least one variant is required"),images:jd().min(1,"At least one image is required")}),Rm=()=>{const{id:e}=se(),[t,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!0),[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null),[d,u]=(0,s.useState)(null),m=re();(0,s.useEffect)((()=>{h()}),[e]);const h=async()=>{o(!0);try{const t=await Fd(e);if(t.success){const e=t.data;c(e);const r={name:e.name||"",description:e.description||"",category:e.category||"",subCategory:e.subCategory||"",productCategory:e.productCategory||"",zammerPrice:e.zammerPrice||"",mrp:e.mrp||"",variants:e.variants&&e.variants.length>0?e.variants.map((e=>({color:e.color||"",colorCode:e.colorCode||"",size:e.size||"",quantity:e.quantity||1}))):[{color:"",colorCode:"",size:"",quantity:1}],images:e.images||[],tags:e.tags||[],isLimitedEdition:e.isLimitedEdition||!1,isTrending:e.isTrending||!1};u(r)}else Bt.error(t.message||"Failed to fetch product details"),m("/seller/view-products")}catch(t){console.error("Error fetching product:",t),Bt.error("Something went wrong while fetching product details"),m("/seller/view-products")}finally{o(!1)}};return n?(0,Xt.jsx)(Rd,{children:(0,Xt.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading product details..."})]})})}):d?(0,Xt.jsx)(Rd,{children:(0,Xt.jsxs)("div",{className:"edit-product-container",children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Edit Product"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:"Update your product details"})]}),(0,Xt.jsx)(Zl,{initialValues:d,validationSchema:Am,onSubmit:async(t,s)=>{let{setSubmitting:n}=s;r(!0);try{const r={...t,variants:t.variants.map((e=>({color:e.color,colorCode:e.colorCode,size:e.size,quantity:Number(e.quantity),images:[]})))};console.log("\ud83d\udce6 Submitting product data:",{mrp:r.mrp,zammerPrice:r.zammerPrice,difference:Number(r.mrp)-Number(r.zammerPrice)});const s=await Bd(e,r);s.success?(Bt.success("Product updated successfully!"),m("/seller/view-products")):Bt.error(s.message||"Failed to update product")}catch(o){if(console.error("Product update error:",{message:o.message,details:o.details,validationErrors:o.validationErrors}),o.details)Bt.error(`Validation Error: ${o.message}\nMRP: ${o.details.newMrp}\nZammer Price: ${o.details.newZammerPrice}\nDifference: ${o.details.difference}`);else if(o.validationErrors){const e=o.validationErrors.map((e=>`${e.field}: ${e.message}`)).join("\n");Bt.error(`Validation Errors:\n${e}`)}else if(o.message&&o.message.includes("validation failed")){const e=o.message.split(":").slice(1).join(":").trim();Bt.error(`Validation Error: ${e}`)}else o.message&&o.message.includes("enum")?Bt.error("Please select from the available dropdown options only"):Bt.error(o.message||"Something went wrong while updating the product")}finally{r(!1),n(!1)}},enableReinitialize:!0,children:e=>{let{values:r,setFieldValue:s,isSubmitting:n,errors:o,touched:l}=e;return(0,Xt.jsxs)(rc,{className:"space-y-6",children:[(0,Xt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:(0,Xt.jsx)("span",{className:"text-orange-600 text-sm font-bold",children:"1"})}),"Basic Information"]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{className:"md:col-span-2",children:[(0,Xt.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name*"}),(0,Xt.jsx)(tc,{id:"name",name:"name",type:"text",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Enter product name (max 100 characters)"}),(0,Xt.jsx)(cc,{name:"name",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category*"}),(0,Xt.jsxs)(tc,{as:"select",id:"category",name:"category",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",onChange:e=>{const t=e.target.value;s("category",t),s("subCategory","")},children:[(0,Xt.jsx)("option",{value:"",children:"Select Category"}),Object.keys(_m).map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:"category",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"subCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Category*"}),(0,Xt.jsxs)(tc,{as:"select",id:"subCategory",name:"subCategory",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",disabled:!r.category,children:[(0,Xt.jsx)("option",{value:"",children:"Select Sub Category"}),r.category&&_m[r.category].subCategories.map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:"subCategory",component:"div",className:"text-red-500 text-sm mt-1"}),!r.category&&(0,Xt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a category first"})]}),(0,Xt.jsxs)("div",{className:"md:col-span-2",children:[(0,Xt.jsx)("label",{htmlFor:"productCategory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Category*"}),(0,Xt.jsx)(tc,{as:"select",id:"productCategory",name:"productCategory",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",children:Mm.map((e=>(0,Xt.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Xt.jsx)(cc,{name:"productCategory",component:"div",className:"text-red-500 text-sm mt-1"})]})]}),(0,Xt.jsxs)("div",{className:"mt-6",children:[(0,Xt.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description*"}),(0,Xt.jsx)(tc,{as:"textarea",id:"description",name:"description",rows:4,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Describe your product in detail (max 1000 characters)"}),(0,Xt.jsx)(cc,{name:"description",component:"div",className:"text-red-500 text-sm mt-1"}),(0,Xt.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[r.description.length,"/1000 characters"]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:(0,Xt.jsx)("span",{className:"text-orange-600 text-sm font-bold",children:"2"})}),"Pricing"]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"zammerPrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"Zammer Price (\u20b9)*"}),(0,Xt.jsx)(tc,{id:"zammerPrice",name:"zammerPrice",type:"number",min:"0",step:"0.01",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Enter selling price"}),(0,Xt.jsx)(cc,{name:"zammerPrice",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"mrp",className:"block text-sm font-medium text-gray-700 mb-1",children:"MRP (\u20b9)*"}),(0,Xt.jsx)(tc,{id:"mrp",name:"mrp",type:"number",min:"0",step:"0.01",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Enter maximum retail price"}),(0,Xt.jsx)(cc,{name:"mrp",component:"div",className:"text-red-500 text-sm mt-1"})]})]}),r.zammerPrice&&r.mrp&&Number(r.mrp)>Number(r.zammerPrice)&&(0,Xt.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-md",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsxs)("div",{className:"text-green-600 text-sm font-medium",children:["\ud83d\udcb0 Discount: ",Math.round((Number(r.mrp)-Number(r.zammerPrice))/Number(r.mrp)*100),"%"]}),(0,Xt.jsxs)("div",{className:"ml-4 text-green-600 text-sm",children:["Savings: \u20b9",(Number(r.mrp)-Number(r.zammerPrice)).toFixed(2)]})]})})]}),(0,Xt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:(0,Xt.jsx)("span",{className:"text-orange-600 text-sm font-bold",children:"3"})}),"Product Variants"]}),(0,Xt.jsx)(lc,{name:"variants",children:e=>{let{remove:t,push:n}=e;return(0,Xt.jsxs)("div",{children:[r.variants.map(((e,r)=>(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,Xt.jsx)("div",{className:"md:col-span-5 mb-2",children:(0,Xt.jsxs)("h4",{className:"font-medium text-gray-700",children:["Variant ",r+1]})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:`variants.${r}.color`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Color*"}),(0,Xt.jsxs)(tc,{as:"select",id:`variants.${r}.color`,name:`variants.${r}.color`,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",onChange:e=>{const t=Om.find((t=>t.name===e.target.value));s(`variants.${r}.color`,e.target.value),t&&s(`variants.${r}.colorCode`,t.code)},children:[(0,Xt.jsx)("option",{value:"",children:"Select Color"}),Om.map((e=>(0,Xt.jsx)("option",{value:e.name,children:e.name},e.name)))]}),(0,Xt.jsx)(cc,{name:`variants.${r}.color`,component:"div",className:"text-red-500 text-xs mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preview"}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 border border-gray-300 rounded",style:{backgroundColor:e.colorCode||"#f0f0f0"}}),(0,Xt.jsx)(tc,{name:`variants.${r}.colorCode`,type:"text",placeholder:"#000000",className:"block w-20 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-orange-500 focus:border-orange-500"})]}),(0,Xt.jsx)(cc,{name:`variants.${r}.colorCode`,component:"div",className:"text-red-500 text-xs mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:`variants.${r}.size`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Size*"}),(0,Xt.jsxs)(tc,{as:"select",id:`variants.${r}.size`,name:`variants.${r}.size`,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",children:[(0,Xt.jsx)("option",{value:"",children:"Select Size"}),Tm.map((e=>(0,Xt.jsx)("option",{value:e,children:e},e)))]}),(0,Xt.jsx)(cc,{name:`variants.${r}.size`,component:"div",className:"text-red-500 text-xs mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:`variants.${r}.quantity`,className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity*"}),(0,Xt.jsx)(tc,{id:`variants.${r}.quantity`,name:`variants.${r}.quantity`,type:"number",min:"0",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm"}),(0,Xt.jsx)(cc,{name:`variants.${r}.quantity`,component:"div",className:"text-red-500 text-xs mt-1"})]}),(0,Xt.jsx)("div",{className:"flex items-end",children:r>0&&(0,Xt.jsx)("button",{type:"button",onClick:()=>t(r),className:"text-red-600 hover:text-red-800 font-medium text-sm px-3 py-2 border border-red-300 rounded hover:bg-red-50 transition-colors",children:"Remove"})})]},r))),(0,Xt.jsx)("button",{type:"button",onClick:()=>n({color:"",colorCode:"",size:"",quantity:1}),className:"mt-2 px-4 py-2 border border-orange-300 rounded-md shadow-sm text-sm font-medium text-orange-600 hover:bg-orange-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"+ Add Another Variant"})]})}})]}),(0,Xt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:(0,Xt.jsx)("span",{className:"text-orange-600 text-sm font-bold",children:"4"})}),"Product Images"]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Images*"}),r.images.length>0&&(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-4",children:r.images.map(((e,t)=>(0,Xt.jsxs)("div",{className:"relative h-24 bg-gray-100 rounded-md overflow-hidden",children:[(0,Xt.jsx)("img",{src:e,alt:`Product ${t+1}`,className:"h-full w-full object-cover"}),(0,Xt.jsx)("button",{type:"button",onClick:()=>(async(e,t,r)=>{try{const s=r[e].split("/").slice(-1)[0].split(".")[0];await Kd(s);const n=[...r];n.splice(e,1),t("images",n),Bt.success("Image removed")}catch(s){Bt.error("Failed to remove image"),console.error("Image removal error:",s)}})(t,s,r.images),className:"absolute top-1 right-1 bg-red-500 text-white w-5 h-5 rounded-full flex items-center justify-center text-xs hover:bg-red-600",children:"\xd7"})]},t)))}),(0,Xt.jsxs)("div",{className:"mt-2",children:[(0,Xt.jsxs)("label",{className:"block",children:[(0,Xt.jsx)("span",{className:"sr-only",children:"Choose product images"}),(0,Xt.jsx)("input",{type:"file",multiple:!0,accept:"image/*",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-orange-50 file:text-orange-600 hover:file:bg-orange-100",onChange:e=>(async(e,t,r)=>{i(!0);try{const s=Array.from(e.target.files),n=[...r];for(const e of s){const t=new FormData;t.append("image",e);const r=await fetch("/api/upload",{method:"POST",body:t,headers:{Authorization:`Bearer ${localStorage.getItem("sellerToken")}`}}),s=await r.json();s.success&&n.push(s.data.url)}t("images",n),Bt.success(`${s.length} image(s) uploaded successfully`)}catch(s){Bt.error("Failed to upload images"),console.error("Image upload error:",s)}finally{i(!1)}})(e,s,r.images),disabled:a})]}),a&&(0,Xt.jsxs)("div",{className:"mt-2 text-sm text-gray-500 flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500 mr-2"}),"Uploading images..."]}),(0,Xt.jsx)(cc,{name:"images",component:"div",className:"text-red-500 text-sm mt-1"}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: JPG, PNG, GIF. Max size: 5MB per image."})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:(0,Xt.jsx)("span",{className:"text-orange-600 text-sm font-bold",children:"5"})}),"Additional Information"]}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)(tc,{id:"isLimitedEdition",name:"isLimitedEdition",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,Xt.jsx)("label",{htmlFor:"isLimitedEdition",className:"ml-2 block text-sm text-gray-700",children:"Limited Edition Product"})]}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)(tc,{id:"isTrending",name:"isTrending",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,Xt.jsx)("label",{htmlFor:"isTrending",className:"ml-2 block text-sm text-gray-700",children:"Mark as Trending"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma separated)"}),(0,Xt.jsx)("input",{id:"tags",type:"text",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"E.g., summer, casual, cotton, comfortable",value:r.tags.join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>e.trim())).filter((e=>e));s("tags",t)}}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Tags help customers find your product easily"})]})]})]}),(0,Xt.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Xt.jsx)("button",{type:"button",onClick:()=>m("/seller/view-products"),className:"px-6 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Cancel"}),(0,Xt.jsx)("button",{type:"submit",disabled:n||t||a,className:"px-6 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(n||t||a?"opacity-70 cursor-not-allowed":""),children:t?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating Product..."]}):"Update Product"})]})]})}})]})}):(0,Xt.jsx)(Rd,{children:(0,Xt.jsxs)("div",{className:"text-center py-8",children:[(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:"Product not found."}),(0,Xt.jsx)("button",{onClick:()=>m("/seller/view-products"),className:"bg-orange-500 hover:bg-orange-600 text-white py-2 px-4 rounded-md text-sm",children:"Back to Products"})]})})},Dm=async(e,t,r)=>{try{const s=await Nn.post("/reviews",{product:e,rating:t,review:r});return s.data,s.data}catch(o){var s,n;throw null===(s=o.response)||void 0===s||s.data,(null===(n=o.response)||void 0===n?void 0:n.data)||{success:!1,message:"Network error"}}},Im=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{const s=await Nn.get(`/reviews/product/${e}?page=${t}&limit=${r}`);return s.data.count,s.data.totalPages,s.data}catch(o){var s,n;throw null===(s=o.response)||void 0===s||s.data,(null===(n=o.response)||void 0===n?void 0:n.data)||{success:!1,message:"Network error"}}},zm=async e=>{try{const t=await Nn.get(`/reviews/can-review/${e}`);return t.data,t.data}catch(s){var t,r;throw null===(t=s.response)||void 0===t||t.data,(null===(r=s.response)||void 0===r?void 0:r.data)||{success:!1,message:"Network error"}}},Fm=e=>{let{rating:t,numReviews:r,showCount:s=!1,className:n=""}=e;const o=Math.floor(t),a=t%1>=.5,i=5-o-(a?1:0);return(0,Xt.jsxs)("div",{className:`flex items-center ${n}`,children:[[...Array(o)].map(((e,t)=>(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`full-${t}`))),a&&(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,Xt.jsx)("defs",{children:(0,Xt.jsxs)("linearGradient",{id:"halfGradient",children:[(0,Xt.jsx)("stop",{offset:"50%",stopColor:"#FBBF24"}),(0,Xt.jsx)("stop",{offset:"50%",stopColor:"#D1D5DB"})]})}),(0,Xt.jsx)("path",{fill:"url(#halfGradient)",d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}),[...Array(i)].map(((e,t)=>(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-300",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},`empty-${t}`))),(0,Xt.jsx)("span",{className:"text-xs text-gray-800 ml-1",children:t.toFixed(1)}),s&&r&&(0,Xt.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["(",r,")"]})]})},Bm=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(""),[i,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)({}),[h,p]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),[x,v]=(0,s.useState)([]),[b,y]=(0,s.useState)(!1);(0,s.useEffect)((()=>{w()}),[]);const w=async()=>{n(!0);try{console.log("\ud83d\udd0d [SELLER] Fetching seller products...");const e=await zd();e.success?(console.log(`\u2705 [SELLER] Found ${e.data.length} products`),e.data.forEach(((e,t)=>{var r;console.log(`\ud83d\udce6 [SELLER] Product ${t+1}: ${e.name}`),console.log(`   \ud83d\udcc1 Images: ${(null===(r=e.images)||void 0===r?void 0:r.length)||0}`),e.images&&e.images.length>0&&e.images.forEach(((e,t)=>{console.log(`   \ud83d\uddbc\ufe0f  Image ${t+1}: ${e.substring(0,50)}...`),console.log(`   \u2705 Is Cloudinary: ${e.includes("cloudinary.com")}`)}))})),t(e.data)):Bt.error(e.message||"Failed to fetch products")}catch(e){console.error("\u274c [SELLER] Error fetching products:",e),Bt.error(e.message||"Something went wrong")}finally{n(!1)}},j=e.filter((e=>{const t=e.name.toLowerCase().includes(o.toLowerCase())||e.description.toLowerCase().includes(o.toLowerCase()),r=!i||e.category===i;return t&&r})),N=[...new Set(e.map((e=>e.category)))];return(0,Xt.jsx)(Rd,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-purple-50/30",children:(0,Xt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-indigo-500 rounded-3xl transform rotate-1 opacity-10"}),(0,Xt.jsx)("div",{className:"relative bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-purple-800 to-pink-600 bg-clip-text text-transparent",children:"Your Products"}),(0,Xt.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Manage your entire product catalog"})]})]}),(0,Xt.jsxs)(nt,{to:"/seller/add-product",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})})]}),(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-20"}),(0,Xt.jsx)("div",{className:"relative bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50",children:(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,Xt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xt.jsx)("label",{htmlFor:"search",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Search Products"}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Xt.jsx)("input",{type:"text",id:"search",value:o,onChange:e=>a(e.target.value),placeholder:"Search by name or description...",className:"block w-full pl-12 pr-4 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm"})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Filter by Category"}),(0,Xt.jsxs)("select",{id:"category",value:i,onChange:e=>l(e.target.value),className:"block w-full px-4 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",children:[(0,Xt.jsx)("option",{value:"",children:"All Categories"}),N.map(((e,t)=>(0,Xt.jsx)("option",{value:e,children:e},t)))]})]}),(0,Xt.jsx)("div",{className:"flex items-end",children:(0,Xt.jsx)("button",{onClick:()=>{a(""),l("")},className:"w-full px-6 py-4 border-2 border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 font-semibold",children:"Clear Filters"})})]})})]}),e.length>0&&(0,Xt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50 text-center",children:[(0,Xt.jsx)("div",{className:"text-3xl font-bold text-gray-800",children:e.length}),(0,Xt.jsx)("div",{className:"text-sm text-blue-600 font-semibold",children:"Total Products"})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50 text-center",children:[(0,Xt.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:e.filter((e=>e.isLimitedEdition)).length}),(0,Xt.jsx)("div",{className:"text-sm text-purple-600 font-semibold",children:"Limited Edition"})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-pink-500 to-red-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50 text-center",children:[(0,Xt.jsx)("div",{className:"text-3xl font-bold text-pink-600",children:e.filter((e=>e.isTrending)).length}),(0,Xt.jsx)("div",{className:"text-sm text-pink-600 font-semibold",children:"Trending"})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50 text-center",children:[(0,Xt.jsx)("div",{className:"text-3xl font-bold text-green-600",children:e.filter((e=>"active"===e.status)).length}),(0,Xt.jsx)("div",{className:"text-sm text-green-600 font-semibold",children:"Active"})]})]})]}),r?(0,Xt.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-16",children:(0,Xt.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin"}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-pink-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,Xt.jsx)("span",{className:"ml-4 text-gray-600 font-medium text-lg",children:"Loading your products..."})]})}):j.length>0?(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-20"}),(0,Xt.jsx)("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 overflow-hidden",children:(0,Xt.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8 p-8",children:j.map((e=>{var r,s;return(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-200 to-gray-300 rounded-2xl blur opacity-30 group-hover:opacity-50 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 overflow-hidden hover:shadow-2xl transition-all duration-300",children:[(0,Xt.jsxs)("div",{className:"relative h-64 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onLoad:()=>{console.log(`\u2705 [SELLER] Image loaded: ${e.name}`)},onError:t=>{console.error(`\u274c [SELLER] Image failed: ${e.name} - ${t.target.src}`),console.error("\ud83d\udd0d [SELLER] Debug info:",{productName:e.name,imageUrl:t.target.src,isCloudinary:t.target.src.includes("cloudinary.com")})}}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"No Image"}),!1]})}),(0,Xt.jsxs)("div",{className:"absolute top-4 left-4 space-y-2",children:[e.isTrending&&(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"\ud83d\udd25 Trending"}),e.isLimitedEdition&&(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"\u2b50 Limited"})]}),(0,Xt.jsx)("div",{className:"absolute top-4 right-4",children:(0,Xt.jsx)("button",{onClick:()=>(async(e,r)=>{m((t=>({...t,[`status_${e}`]:!0})));try{const s="active"===r?"paused":"active";console.log("\ud83d\udcca Calling updateProductStatus for product:",e,"to status:",s);const n=await Hd(e,s);n.success?(t((t=>t.map((t=>t._id===e?{...t,status:n.data.status}:t)))),Bt.success(`Product ${"active"===n.data.status?"activated":"paused"} successfully`)):Bt.error(n.message||"Failed to update product status")}catch(s){console.error("Error toggling status:",s),Bt.error(s.message||"Something went wrong while updating the product status")}finally{m((t=>({...t,[`status_${e}`]:!1})))}})(e._id,e.status),disabled:u[`status_${e._id}`],className:`px-3 py-1 rounded-full text-xs font-bold shadow-lg transition-all duration-200 ${"active"===e.status?"bg-green-500 text-white hover:bg-green-600":"paused"===e.status?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-red-500 text-white hover:bg-red-600"} ${u[`status_${e._id}`]?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:u[`status_${e._id}`]?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current mr-1"}),"..."]}):null===(r=e.status)||void 0===r?void 0:r.toUpperCase()})})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsx)("h3",{className:"font-bold text-xl text-gray-800 mb-3 line-clamp-2 group-hover:text-purple-600 transition-colors",children:e.name}),(0,Xt.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsxs)("span",{className:"text-purple-600 font-bold text-2xl",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("div",{className:"flex flex-col",children:[(0,Xt.jsxs)("span",{className:"text-gray-500 text-sm line-through",children:["\u20b9",e.mrp]}),(0,Xt.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-bold",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% OFF"]})]})]})}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600 mb-6",children:[(0,Xt.jsxs)("span",{className:"font-medium",children:["Stock: ",(0,Xt.jsx)("span",{className:"text-gray-800 font-bold",children:(null===(s=e.variants)||void 0===s?void 0:s.reduce(((e,t)=>e+(t.quantity||0)),0))||0})]}),(0,Xt.jsx)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:e.category})]}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex space-x-3",children:[(0,Xt.jsxs)(nt,{to:`/seller/edit-product/${e._id}`,className:"flex-1 bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white py-3 px-4 rounded-xl font-semibold text-center transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,Xt.jsxs)("button",{onClick:()=>d(e._id),className:"flex-1 bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),(0,Xt.jsxs)("div",{className:"flex space-x-2",children:[(0,Xt.jsx)("button",{onClick:()=>(async e=>{m((t=>({...t,[`limited_${e}`]:!0})));try{console.log("\ud83c\udfaf Calling toggleLimitedEdition for product:",e);const r=await Wd(e);r.success?(t((t=>t.map((t=>t._id===e?{...t,isLimitedEdition:r.data.isLimitedEdition}:t)))),Bt.success(`Product ${r.data.isLimitedEdition?"marked as":"removed from"} Limited Edition`)):Bt.error(r.message||"Failed to update product")}catch(r){console.error("Error toggling Limited Edition:",r),Bt.error(r.message||"Something went wrong while updating the product")}finally{m((t=>({...t,[`limited_${e}`]:!1})))}})(e._id,e.isLimitedEdition),disabled:u[`limited_${e._id}`],className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold transition-all duration-200 shadow-md ${e.isLimitedEdition?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${u[`limited_${e._id}`]?"opacity-50 cursor-not-allowed":""}`,children:u[`limited_${e._id}`]?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current mr-1"}),"..."]}):(0,Xt.jsxs)(Xt.Fragment,{children:["\u2b50 ",e.isLimitedEdition?"Limited":"Make Limited"]})}),(0,Xt.jsx)("button",{onClick:()=>(async e=>{m((t=>({...t,[`trending_${e}`]:!0})));try{console.log("\ud83d\udd25 Calling toggleTrending for product:",e);const r=await Vd(e);r.success?(t((t=>t.map((t=>t._id===e?{...t,isTrending:r.data.isTrending}:t)))),Bt.success(`Product ${r.data.isTrending?"marked as":"removed from"} Trending`)):Bt.error(r.message||"Failed to update product")}catch(r){console.error("Error toggling Trending:",r),Bt.error(r.message||"Something went wrong while updating the product")}finally{m((t=>({...t,[`trending_${e}`]:!1})))}})(e._id,e.isTrending),disabled:u[`trending_${e._id}`],className:`flex-1 px-3 py-2 rounded-xl text-xs font-bold transition-all duration-200 shadow-md ${e.isTrending?"bg-gradient-to-r from-pink-500 to-red-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} ${u[`trending_${e._id}`]?"opacity-50 cursor-not-allowed":""}`,children:u[`trending_${e._id}`]?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-current mr-1"}),"..."]}):(0,Xt.jsxs)(Xt.Fragment,{children:["\ud83d\udd25 ",e.isTrending?"Trending":"Make Trending"]})})]}),(0,Xt.jsx)("button",{onClick:()=>(async e=>{f(e),p(!0),y(!0);try{const t=await Im(e._id);t.success?v(t.data):Bt.error(t.message||"Failed to fetch reviews")}catch(t){console.error("Error fetching reviews:",t),Bt.error("Something went wrong while loading reviews")}finally{y(!1)}})(e),className:"flex-1 px-3 py-2 rounded-xl text-xs font-bold transition-all duration-200 shadow-md bg-gradient-to-r from-blue-500 to-indigo-500 text-white hover:from-blue-600 hover:to-indigo-600",children:"\ud83d\udcdd View Reviews"})]})]})]})]},e._id)}))})})]}):(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-16 text-center",children:[(0,Xt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-purple-100 to-pink-100 rounded-3xl flex items-center justify-center mx-auto mb-8",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("h3",{className:"text-3xl font-bold text-gray-800 mb-4",children:"No products found"}),o||i?(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-gray-600 text-lg mb-6",children:"No products match your current filters"}),(0,Xt.jsx)("button",{onClick:()=>{a(""),l("")},className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Clear filters to show all products"})]}):(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-gray-600 text-lg mb-8",children:"Start building your product catalog"}),(0,Xt.jsxs)(nt,{to:"/seller/add-product",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-4 px-8 rounded-xl font-semibold inline-flex items-center shadow-lg hover:shadow-xl transition-all duration-200",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Your First Product"]})]})]}),c&&(0,Xt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-red-500 to-pink-500 rounded-2xl blur opacity-30"}),(0,Xt.jsx)("div",{className:"relative bg-white rounded-2xl shadow-2xl p-8 max-w-md mx-auto",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Delete Product"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-8",children:"Are you sure you want to delete this product? This action cannot be undone and will permanently remove the product from your catalog."}),(0,Xt.jsxs)("div",{className:"flex space-x-4",children:[(0,Xt.jsx)("button",{onClick:()=>d(null),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 font-semibold transition-all duration-200",children:"Cancel"}),(0,Xt.jsx)("button",{onClick:()=>(async r=>{try{const s=await Ud(r);s.success?(Bt.success("Product deleted successfully"),t(e.filter((e=>e._id!==r)))):Bt.error(s.message||"Failed to delete product")}catch(s){Bt.error(s.message||"Something went wrong")}finally{d(null)}})(c),className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Delete Product"})]})]})})]})}),h&&g&&(0,Xt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:"Product Reviews"}),(0,Xt.jsx)("p",{className:"text-gray-600 mt-1",children:g.name})]}),(0,Xt.jsx)("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700 transition-colors",children:(0,Xt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),b?(0,Xt.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-blue-200 border-t-blue-500"})}):x.length>0?(0,Xt.jsx)("div",{className:"space-y-6",children:x.map((e=>(0,Xt.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[(0,Xt.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("h4",{className:"font-semibold text-gray-800",children:e.user.name}),e.isVerifiedPurchase&&(0,Xt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),(0,Xt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Xt.jsx)(Fm,{rating:e.rating}),(0,Xt.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:new Date(e.createdAt).toLocaleDateString()})]})]})}),(0,Xt.jsx)("p",{className:"text-gray-700",children:e.review})]},e._id)))}):(0,Xt.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:(0,Xt.jsx)("p",{className:"text-gray-600",children:"No reviews yet for this product."})})]})})]})})})},Um=yd().shape({firstName:ad().required("First name is required"),email:ad().email("Invalid email address").required("Email is required"),mobileNumber:ad().required("Mobile number is required"),shop:yd().shape({name:ad().required("Shop name is required"),address:ad().required("Shop address is required"),category:ad().required("Shop category is required"),description:ad().max(500,"Description cannot be more than 500 characters")})}),$m=()=>{var e,t,r,n,o,a,i,l,c,d,u,m,h,p,g,f,x,v;const[b,y]=(0,s.useState)(!1),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(!0),[S,C]=(0,s.useState)(null),[L,E]=(0,s.useState)(!1),{sellerAuth:P,loginSeller:_}=(0,s.useContext)(er);re();(0,s.useEffect)((()=>{M()}),[]);const M=async()=>{k(!0);try{const t=await(async()=>{try{return(await Nn.get("/sellers/profile")).data}catch(e){throw e.response.data}})();var e;if(t.success)j(t.data),null!==(e=t.data.shop)&&void 0!==e&&e.location&&C({address:t.data.shop.address,coordinates:t.data.shop.location.coordinates});else Bt.error(t.message||"Failed to fetch profile")}catch(t){console.error("Profile fetch error:",t),Bt.error(t.message||"Something went wrong")}finally{k(!1)}},T=e=>{console.log("Place selected in EditProfile:",e),C(e),Bt.success("Address selected successfully!")},O=async(e,t,r,s)=>{try{const n=r[e],o=n.split("/").slice(-1)[0].split(".")[0];await(async e=>{try{console.log("\ud83d\uddd1\ufe0f Deleting image:",e);const t=await Nn.delete(`/upload/${e}`);return console.log("\u2705 Image deletion response:",{success:t.data.success,message:t.data.message}),t.data}catch(s){var t,r;throw console.error("\u274c Image deletion error:",(null===(t=s.response)||void 0===t?void 0:t.data)||s),(null===(r=s.response)||void 0===r?void 0:r.data)||s}})(o);const a=[...r];a.splice(e,1),t("shop.images",a),s.shop.mainImage===n&&t("shop.mainImage",a.length>0?a[0]:""),Bt.success("Shop image removed")}catch(n){Bt.error("Failed to remove image"),console.error("Image removal error:",n)}};return(0,Xt.jsx)(Rd,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50/30",children:(0,Xt.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-600 via-purple-500 to-pink-500 rounded-3xl transform rotate-1 opacity-10"}),(0,Xt.jsx)("div",{className:"relative bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-indigo-800 to-purple-600 bg-clip-text text-transparent",children:"Profile Settings"}),(0,Xt.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Manage your personal and business information"})]})]}),S&&S.coordinates&&(0,Xt.jsxs)("div",{className:"flex items-center bg-green-50 border border-green-200 rounded-xl px-4 py-2",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),(0,Xt.jsx)("span",{className:"text-green-700 font-medium text-sm",children:"Location Saved"})]})]})})]}),N?(0,Xt.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-12",children:(0,Xt.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-500 rounded-full animate-spin"}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-400 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,Xt.jsx)("span",{className:"ml-4 text-gray-600 font-medium text-lg",children:"Loading your profile..."})]})}):w?(0,Xt.jsx)(Zl,{initialValues:{firstName:w.firstName||"",email:w.email||"",mobileNumber:w.mobileNumber||"",shop:{name:(null===(e=w.shop)||void 0===e?void 0:e.name)||"",address:(null===(t=w.shop)||void 0===t?void 0:t.address)||"",gstNumber:(null===(r=w.shop)||void 0===r?void 0:r.gstNumber)||"",phoneNumber:{main:(null===(n=w.shop)||void 0===n||null===(o=n.phoneNumber)||void 0===o?void 0:o.main)||"",alternate:(null===(a=w.shop)||void 0===a||null===(i=a.phoneNumber)||void 0===i?void 0:i.alternate)||""},category:(null===(l=w.shop)||void 0===l?void 0:l.category)||"",openTime:(null===(c=w.shop)||void 0===c?void 0:c.openTime)||"",closeTime:(null===(d=w.shop)||void 0===d?void 0:d.closeTime)||"",workingDays:(null===(u=w.shop)||void 0===u?void 0:u.workingDays)||"",description:(null===(m=w.shop)||void 0===m?void 0:m.description)||"",images:(null===(h=w.shop)||void 0===h?void 0:h.images)||[],mainImage:(null===(p=w.shop)||void 0===p?void 0:p.mainImage)||""},bankDetails:{accountNumber:(null===(g=w.bankDetails)||void 0===g?void 0:g.accountNumber)||"",ifscCode:(null===(f=w.bankDetails)||void 0===f?void 0:f.ifscCode)||"",bankName:(null===(x=w.bankDetails)||void 0===x?void 0:x.bankName)||"",accountType:(null===(v=w.bankDetails)||void 0===v?void 0:v.accountType)||""}},validationSchema:Um,onSubmit:async(e,t)=>{let{setSubmitting:r}=t;y(!0);try{var s;const t={...e,shop:{...e.shop,...S&&S.coordinates&&{location:{type:"Point",coordinates:S.coordinates}}}};console.log("\ud83d\udd04 Submitting profile data with shop images:",{...t,shop:{...t.shop,imagesCount:(null===(s=t.shop.images)||void 0===s?void 0:s.length)||0,hasMainImage:!!t.shop.mainImage}});const r=await(async e=>{try{var t,r,s,n,o,a,i,l,c,d,u,m;console.log("\ud83d\udd04 Sending profile update request:",{hasShopData:!!e.shop,hasImages:!(null===(t=e.shop)||void 0===t||!t.images),imagesCount:(null===(r=e.shop)||void 0===r||null===(s=r.images)||void 0===s?void 0:s.length)||0,hasMainImage:!(null===(n=e.shop)||void 0===n||!n.mainImage)});const h=await Nn.put("/sellers/profile",e);return console.log("\u2705 Profile update response:",{success:h.data.success,hasShopData:!(null===(o=h.data.data)||void 0===o||!o.shop),hasImages:!(null===(a=h.data.data)||void 0===a||null===(i=a.shop)||void 0===i||!i.images),imagesCount:(null===(l=h.data.data)||void 0===l||null===(c=l.shop)||void 0===c||null===(d=c.images)||void 0===d?void 0:d.length)||0,hasMainImage:!(null===(u=h.data.data)||void 0===u||null===(m=u.shop)||void 0===m||!m.mainImage)}),h.data}catch(g){var h,p;throw console.error("\u274c Profile update error:",(null===(h=g.response)||void 0===h?void 0:h.data)||g),(null===(p=g.response)||void 0===p?void 0:p.data)||g}})(t);r.success?(_({...P.seller,...r.data}),Bt.success("Profile updated successfully!")):Bt.error(r.message||"Failed to update profile")}catch(n){console.error("Profile update error:",n),Bt.error(n.message||"Something went wrong")}finally{y(!1),r(!1)}},children:e=>{var t,r;let{values:s,setFieldValue:n,isSubmitting:o,errors:a,touched:i}=e;return(0,Xt.jsxs)(rc,{className:"space-y-8",children:[(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Personal Information"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"First Name*"}),(0,Xt.jsx)(tc,{id:"firstName",name:"firstName",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Your first name"}),(0,Xt.jsx)(cc,{name:"firstName",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address*"}),(0,Xt.jsx)(tc,{id:"email",name:"email",type:"email",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"your@email.com"}),(0,Xt.jsx)(cc,{name:"email",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"mobileNumber",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mobile Number*"}),(0,Xt.jsx)(tc,{id:"mobileNumber",name:"mobileNumber",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"+91 XXXXX XXXXX"}),(0,Xt.jsx)(cc,{name:"mobileNumber",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]})]})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Shop Information"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.name",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Shop Name*"}),(0,Xt.jsx)(tc,{id:"shop.name",name:"shop.name",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Your shop name"}),(0,Xt.jsx)(cc,{name:"shop.name",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.address",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Shop Address*"}),(0,Xt.jsx)(Ed,{value:s.shop.address,onChange:e=>n("shop.address",e),onPlaceSelected:T,placeholder:"Enter your shop address",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",error:null!==(t=a.shop)&&void 0!==t&&t.address&&null!==(r=i.shop)&&void 0!==r&&r.address?a.shop.address:null}),(0,Xt.jsx)(cc,{name:"shop.address",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("label",{htmlFor:"shop.gstNumber",className:"block text-sm font-semibold text-gray-700 mb-3",children:["GST Number ",(0,Xt.jsx)("span",{className:"text-gray-400",children:"(Optional)"})]}),(0,Xt.jsx)(tc,{id:"shop.gstNumber",name:"shop.gstNumber",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"GST Registration Number"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.category",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Shop Category*"}),(0,Xt.jsxs)(tc,{as:"select",id:"shop.category",name:"shop.category",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",children:[(0,Xt.jsx)("option",{value:"",children:"Select a category"}),(0,Xt.jsx)("option",{value:"Men",children:"Men's Fashion"}),(0,Xt.jsx)("option",{value:"Women",children:"Women's Fashion"}),(0,Xt.jsx)("option",{value:"Kids",children:"Kids Fashion"})]}),(0,Xt.jsx)(cc,{name:"shop.category",component:"div",className:"text-red-500 text-sm mt-2 font-medium"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.phoneNumber.main",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Shop Phone Number"}),(0,Xt.jsx)(tc,{id:"shop.phoneNumber.main",name:"shop.phoneNumber.main",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Shop contact number"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("label",{htmlFor:"shop.phoneNumber.alternate",className:"block text-sm font-semibold text-gray-700 mb-3",children:["Alternate Phone ",(0,Xt.jsx)("span",{className:"text-gray-400",children:"(Optional)"})]}),(0,Xt.jsx)(tc,{id:"shop.phoneNumber.alternate",name:"shop.phoneNumber.alternate",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Alternative contact number"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.openTime",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Opening Time"}),(0,Xt.jsx)(tc,{id:"shop.openTime",name:"shop.openTime",type:"text",placeholder:"e.g. 9:00 AM",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.closeTime",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Closing Time"}),(0,Xt.jsx)(tc,{id:"shop.closeTime",name:"shop.closeTime",type:"text",placeholder:"e.g. 8:00 PM",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"shop.workingDays",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Working Days"}),(0,Xt.jsx)(tc,{id:"shop.workingDays",name:"shop.workingDays",type:"text",placeholder:"e.g. Monday to Saturday",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm"})]})]}),(0,Xt.jsxs)("div",{className:"mt-8",children:[(0,Xt.jsxs)("label",{htmlFor:"shop.description",className:"block text-sm font-semibold text-gray-700 mb-3",children:["Shop Description ",(0,Xt.jsx)("span",{className:"text-gray-400",children:"(Optional)"})]}),(0,Xt.jsx)(tc,{as:"textarea",id:"shop.description",name:"shop.description",rows:4,className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm resize-none",placeholder:"Tell customers about your shop, what you sell, and what makes you special..."}),(0,Xt.jsx)(cc,{name:"shop.description",component:"div",className:"text-red-500 text-sm mt-2 font-medium"}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,Xt.jsxs)("div",{className:"text-sm "+(s.shop.description.length>400?"text-orange-600":"text-gray-500"),children:[s.shop.description.length,"/500 characters"]}),(0,Xt.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:(0,Xt.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 "+(s.shop.description.length>400?"bg-orange-500":"bg-green-500"),style:{width:s.shop.description.length/500*100+"%"}})})]})]}),S&&S.coordinates&&(0,Xt.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-green-500 rounded-xl flex items-center justify-center mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold text-green-800",children:"Location Coordinates Captured"}),(0,Xt.jsxs)("p",{className:"text-sm text-green-600",children:["Lat: ",S.coordinates[1].toFixed(6),", Lng: ",S.coordinates[0].toFixed(6)]})]})]})})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Shop Gallery"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"Upload Shop Images"}),s.shop.images.length>0&&(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6 mb-8",children:s.shop.images.map(((e,t)=>(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"aspect-square bg-gray-100 rounded-2xl overflow-hidden shadow-lg",children:(0,Xt.jsx)("img",{src:e,alt:`Shop ${t+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),s.shop.mainImage===e&&(0,Xt.jsx)("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold shadow-lg",children:"\u2b50 Main"}),(0,Xt.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[s.shop.mainImage!==e&&(0,Xt.jsx)("button",{type:"button",onClick:()=>((e,t)=>{t("shop.mainImage",e),Bt.success("Main shop image updated")})(e,n),className:"w-8 h-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",title:"Set as main image",children:(0,Xt.jsx)("span",{className:"text-xs",children:"\u2605"})}),(0,Xt.jsx)("button",{type:"button",onClick:()=>O(t,n,s.shop.images,s),className:"w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",title:"Remove image",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]},t)))}),(0,Xt.jsx)("div",{className:"border-2 border-dashed border-purple-300 rounded-2xl p-8 hover:border-purple-400 hover:bg-purple-50/50 transition-all duration-200",children:(0,Xt.jsxs)("label",{className:"block cursor-pointer",children:[(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{className:"mx-auto h-16 w-16 text-purple-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,Xt.jsx)("div",{className:"text-lg font-semibold text-gray-700 mb-2",children:L?"Uploading Shop Images...":"Upload Shop Images"}),(0,Xt.jsx)("div",{className:"text-sm text-gray-500",children:L?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-500 mr-2"}),"Processing your images..."]}):"Showcase your shop with beautiful photos"})]}),(0,Xt.jsx)("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",onChange:e=>(async(e,t,r)=>{E(!0);try{const n=Array.from(e.target.files);console.log("\ud83d\udcf8 Starting real Cloudinary upload for shop images:",n.length);const o=[...r||[]];for(const e of n)try{console.log(`\ud83d\udce4 Uploading file to Cloudinary: ${e.name}`);const t=await Sd(e);if(t.success&&t.data.images){const r=t.data.images.filter((e=>!o.includes(e)));o.push(...r),console.log(`\u2705 File uploaded to Cloudinary successfully: ${e.name}`)}}catch(s){console.error(`\u274c Failed to upload ${e.name} to Cloudinary:`,s),Bt.error(`Failed to upload ${e.name}`)}t("shop.images",o),o.length>0&&(null===r||void 0===r||!r.length)&&t("shop.mainImage",o[0]),Bt.success(`${n.length} shop image(s) uploaded to Cloudinary successfully`)}catch(n){Bt.error("Failed to upload shop images to Cloudinary"),console.error("Shop image Cloudinary upload error:",n)}finally{E(!1)}})(e,n,s.shop.images),disabled:L})]})}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-500 mt-3",children:["\ud83d\udca1 ",(0,Xt.jsx)("strong",{children:"Tip:"}),' Upload high-quality images that represent your shop. The first image or the one you mark as "main" will be featured prominently.']})]})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Banking Information"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"bankDetails.bankName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Bank Name"}),(0,Xt.jsx)(tc,{id:"bankDetails.bankName",name:"bankDetails.bankName",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Bank name"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"bankDetails.accountNumber",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Account Number"}),(0,Xt.jsx)(tc,{id:"bankDetails.accountNumber",name:"bankDetails.accountNumber",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"Account number"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"bankDetails.ifscCode",className:"block text-sm font-semibold text-gray-700 mb-3",children:"IFSC Code"}),(0,Xt.jsx)(tc,{id:"bankDetails.ifscCode",name:"bankDetails.ifscCode",type:"text",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",placeholder:"IFSC code"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"bankDetails.accountType",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Account Type"}),(0,Xt.jsxs)(tc,{as:"select",id:"bankDetails.accountType",name:"bankDetails.accountType",className:"block w-full px-5 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",children:[(0,Xt.jsx)("option",{value:"",children:"Select account type"}),(0,Xt.jsx)("option",{value:"Savings",children:"Savings Account"}),(0,Xt.jsx)("option",{value:"Current",children:"Current Account"})]})]})]})]})]}),(0,Xt.jsxs)("div",{className:"flex justify-end space-x-6 pt-8",children:[(0,Xt.jsx)("button",{type:"button",onClick:()=>window.history.back(),className:"px-8 py-4 border-2 border-gray-300 rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-200 font-semibold",children:"Cancel"}),(0,Xt.jsx)("button",{type:"submit",disabled:o||b||L,className:"px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-xl shadow-lg hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 font-semibold "+(o||b||L?"opacity-70 cursor-not-allowed":"hover:from-indigo-600 hover:to-purple-600"),children:b?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Saving Changes..."]}):(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]})})]})]})}}):(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-12 text-center",children:[(0,Xt.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-red-100 to-red-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,Xt.jsx)("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Unable to Load Profile"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't fetch your profile data. Please try again."}),(0,Xt.jsx)("button",{onClick:M,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Try Again"})]})]})})})},Wm=()=>{var e;const{sellerAuth:t}=(0,s.useContext)(er),[r,n]=(0,s.useState)([]),[o,a]=(0,s.useState)([]),[i,l]=(0,s.useState)(!0),[c,d]=(0,s.useState)("Pending"),[u,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[g,f]=(0,s.useState)(""),[x,v]=(0,s.useState)(null),b=[{key:"Pending",label:"Pending",icon:"\u23f3",color:"yellow"},{key:"Processing",label:"Ready to Ship",icon:"\ud83d\udce6",color:"blue"},{key:"Shipped",label:"Shipped",icon:"\ud83d\ude9a",color:"purple"},{key:"Delivered",label:"Delivered",icon:"\u2705",color:"green"},{key:"Cancelled",label:"Cancelled",icon:"\u274c",color:"red"}],y=(0,s.useCallback)((()=>{var e,r;if(null===t||void 0===t||null===(e=t.seller)||void 0===e||!e._id)return;console.log("\ud83d\udd0c Setting up socket connection for seller:",t.seller._id),jm.getConnectionStatus().isConnected?(jm.joinSellerRoom(t.seller._id),p(!0)):jm.connect().then((()=>{jm.joinSellerRoom(t.seller._id),p(!0)})).catch((e=>{console.error("\u274c Socket connection failed:",e),p(!1)})),jm.onNewOrder((e=>{console.log("\ud83d\udce6 New order received via socket:",e),Bt.success((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("span",{className:"text-2xl mr-2",children:"\ud83c\udf89"}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold",children:"New Order!"}),(0,Xt.jsxs)("p",{className:"text-sm",children:["Order #",e.data.orderNumber]})]})]}),{autoClose:8e3}),w(),j()})),jm.onOrderStatusUpdate((e=>{console.log("\ud83d\udd04 Order status updated via socket:",e),Bt.info(`Order #${e.data.orderNumber} status updated to ${e.data.status}`),w()})),null===(r=jm.socket)||void 0===r||r.on("order-cancelled-by-buyer",(e=>{console.log("\u274c Order cancelled by buyer:",e),Bt.warning((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("span",{className:"text-2xl mr-2",children:"\u26a0\ufe0f"}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-bold",children:"Order Cancelled"}),(0,Xt.jsxs)("p",{className:"text-sm",children:["Order #",e.data.orderNumber," cancelled by customer"]})]})]})),w(),j()}));const s=()=>{const e=jm.getConnectionStatus();p(e.isConnected)},n=setInterval(s,5e3);return s(),()=>{var e;clearInterval(n),jm.removeListener("new-order"),jm.removeListener("order-status-updated"),null===(e=jm.socket)||void 0===e||e.off("order-cancelled-by-buyer")}}),[null===t||void 0===t||null===(e=t.seller)||void 0===e?void 0:e._id]),w=(0,s.useCallback)((async()=>{try{l(!0);const e=await Xd.getSellerOrders(1,100);e.success?(n(e.data),console.log("\u2705 Orders fetched successfully:",e.data.length)):(console.error("\u274c Failed to fetch orders:",e.message),Bt.error(e.message||"Failed to fetch orders"))}catch(e){console.error("\u274c Error fetching orders:",e),Bt.error("Error fetching orders")}finally{l(!1)}}),[]),j=(0,s.useCallback)((async()=>{try{const e=await Xd.getSellerOrderStats();e.success&&(m(e.data),console.log("\u2705 Order stats fetched:",e.data))}catch(e){console.error("\u274c Error fetching order stats:",e)}}),[]);(0,s.useEffect)((()=>{if(r.length>0){let e=r.filter((e=>"Processing"===c?"Processing"===e.status:e.status===c));if(g.trim()){const t=g.toLowerCase();e=e.filter((e=>{var r,s,n,o;return e.orderNumber.toLowerCase().includes(t)||(null===(r=e.user)||void 0===r||null===(s=r.name)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(n=e.user)||void 0===n||null===(o=n.email)||void 0===o?void 0:o.toLowerCase().includes(t))}))}a(e),console.log(`\ud83d\udcca Filtered orders for ${c}:`,e.length)}else a([])}),[r,c,g]),(0,s.useEffect)((()=>{w(),j(),y()}),[w,j,y]);const N=async(e,t)=>{try{v(e),console.log("\ud83d\udd04 Updating order status:",{orderId:e,newStatus:t});const r=await Xd.updateOrderStatus(e,t);r.success?(Bt.success(`Order status updated to ${t}`),w()):Bt.error(r.message||"Failed to update order status")}catch(r){console.error("\u274c Error updating order status:",r),Bt.error("Error updating order status")}finally{v(null)}};return(0,Xt.jsx)(Rd,{children:(0,Xt.jsxs)("div",{className:"orders-page",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Orders Management"}),(0,Xt.jsxs)("p",{className:"text-gray-600 mt-1",children:["Manage and track all your orders",h&&(0,Xt.jsxs)("span",{className:"ml-2 inline-flex items-center",children:[(0,Xt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse mr-1"}),(0,Xt.jsx)("span",{className:"text-xs text-green-600",children:"Live updates"})]})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("input",{type:"text",placeholder:"Search orders...",value:g,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,Xt.jsx)("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),u&&(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 border",children:[(0,Xt.jsx)("div",{className:"text-sm text-gray-500",children:"Today's Orders"}),(0,Xt.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:u.todayOrdersCount||0})]}),(0,Xt.jsxs)("button",{onClick:()=>{w(),j()},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]})]}),u&&(0,Xt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:b.map((e=>{var t;const r=(null===(t=u.statusCounts)||void 0===t?void 0:t[e.key])||0;return(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 border cursor-pointer transition-all hover:shadow-md "+(c===e.key?"ring-2 ring-orange-500 border-orange-300":"border-gray-200"),onClick:()=>d(e.key),children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.label}),(0,Xt.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r})]}),(0,Xt.jsx)("div",{className:"text-2xl",children:e.icon})]})},e.key)}))}),(0,Xt.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,Xt.jsx)("nav",{className:"-mb-px flex space-x-8",children:b.map((e=>{var t;const r=(null===u||void 0===u||null===(t=u.statusCounts)||void 0===t?void 0:t[e.key])||0,s=c===e.key;return(0,Xt.jsxs)("button",{onClick:()=>d(e.key),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors "+(s?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Xt.jsx)("span",{children:e.icon}),(0,Xt.jsx)("span",{children:e.label}),r>0&&(0,Xt.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full "+(s?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600"),children:r})]},e.key)}))})}),(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:i?(0,Xt.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"}),(0,Xt.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading orders..."})]}):o.length>0?(0,Xt.jsx)("div",{className:"divide-y divide-gray-200",children:o.map((e=>{var t,r,s,n,o,a,i,l;return(0,Xt.jsxs)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.orderNumber]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:(l=e.createdAt,new Date(l).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,Xt.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${i=e.status,{Pending:"bg-yellow-100 text-yellow-800 border-yellow-200",Processing:"bg-blue-100 text-blue-800 border-blue-200",Shipped:"bg-purple-100 text-purple-800 border-purple-200",Delivered:"bg-green-100 text-green-800 border-green-200",Cancelled:"bg-red-100 text-red-800 border-red-200"}[i]||"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.status})]}),(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["\u20b9",e.totalPrice]}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:e.paymentMethod})]})]}),(0,Xt.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Details"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Name: "}),(0,Xt.jsx)("span",{className:"font-medium",children:null===(t=e.user)||void 0===t?void 0:t.name})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Email: "}),(0,Xt.jsx)("span",{className:"font-medium",children:null===(r=e.user)||void 0===r?void 0:r.email})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Phone: "}),(0,Xt.jsx)("span",{className:"font-medium",children:(null===(s=e.user)||void 0===s?void 0:s.mobileNumber)||(null===(n=e.shippingAddress)||void 0===n?void 0:n.phone)})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"City: "}),(0,Xt.jsx)("span",{className:"font-medium",children:null===(o=e.shippingAddress)||void 0===o?void 0:o.city})]})]})]}),(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Order Items"}),(0,Xt.jsx)("div",{className:"space-y-2",children:null===(a=e.orderItems)||void 0===a?void 0:a.map(((e,t)=>(0,Xt.jsxs)("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:e.image?(0,Xt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded"}):(0,Xt.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Qty: ",e.quantity," | Size: ",e.size," | Color: ",e.color]})]}),(0,Xt.jsx)("div",{className:"text-right",children:(0,Xt.jsxs)("p",{className:"font-medium",children:["\u20b9",e.price]})})]},t)))})]}),(0,Xt.jsxs)("div",{className:"flex space-x-2",children:["Pending"===e.status&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("button",{onClick:()=>N(e._id,"Processing"),disabled:x===e._id,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded text-sm font-medium flex items-center",children:[x===e._id?(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}):null,"Mark Ready to Ship"]}),(0,Xt.jsx)("button",{onClick:()=>N(e._id,"Cancelled"),disabled:x===e._id,className:"bg-red-500 hover:bg-red-600 disabled:bg-red-300 text-white px-4 py-2 rounded text-sm font-medium",children:"Cancel Order"})]}),"Processing"===e.status&&(0,Xt.jsxs)("button",{onClick:()=>N(e._id,"Shipped"),disabled:x===e._id,className:"bg-purple-500 hover:bg-purple-600 disabled:bg-purple-300 text-white px-4 py-2 rounded text-sm font-medium flex items-center",children:[x===e._id?(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}):null,"Mark as Shipped"]}),"Shipped"===e.status&&(0,Xt.jsxs)("button",{onClick:()=>N(e._id,"Delivered"),disabled:x===e._id,className:"bg-green-500 hover:bg-green-600 disabled:bg-green-300 text-white px-4 py-2 rounded text-sm font-medium flex items-center",children:[x===e._id?(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}):null,"Mark as Delivered"]})]})]},e._id)}))}):(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Xt.jsxs)("p",{className:"text-gray-600 text-lg mb-2",children:["No ",c.toLowerCase()," orders found"]}),(0,Xt.jsx)("p",{className:"text-gray-500 text-sm",children:g?`No orders found matching "${g}"`:"Pending"===c?"New orders will appear here when customers make purchases.":`No orders with ${c.toLowerCase()} status at the moment.`})]})})]})})},Vm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";if("error"===r){const s={info:"#2196F3",success:"#4CAF50",warning:"#FF9800",error:"#F44336"};console.log(`%c[Service] ${e}`,`color: ${s[r]}; font-weight: bold;`,t)}},Hm=async e=>{try{var t,r,s,n,o,a;Vm("\ud83d\udd10 User login attempt",{email:e.email,passwordLength:null===(t=e.password)||void 0===t?void 0:t.length},"info");const i=await Nn.post("/users/login",e);return Vm("\u2705 User login successful",{success:i.data.success,userName:null===(r=i.data.data)||void 0===r?void 0:r.name,userId:null===(s=i.data.data)||void 0===s?void 0:s._id,hasToken:!(null===(n=i.data.data)||void 0===n||!n.token),tokenLength:null===(o=i.data.data)||void 0===o||null===(a=o.token)||void 0===a?void 0:a.length},"success"),i.data}catch(h){var i,l,c,d,u,m;throw Vm("\u274c User login failed",{status:null===(i=h.response)||void 0===i?void 0:i.status,message:(null===(l=h.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||h.message,errors:null===(d=h.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.errors},"error"),(null===(m=h.response)||void 0===m?void 0:m.data)||{success:!1,message:"Network error"}}},qm=async()=>{try{var e,t,r,s,n,o,a,i,l,c,d,u,m;console.log("\ud83c\udfea [UserService] Fetching nearby shops..."),console.log("\ud83c\udfea [UserService] API endpoint: /shops/nearby");const h=await Nn.get("/shops/nearby");return console.log("\ud83c\udfea [UserService] Raw response received:",{success:null===(e=h.data)||void 0===e?void 0:e.success,dataType:typeof(null===(t=h.data)||void 0===t?void 0:t.data),isArray:Array.isArray(null===(r=h.data)||void 0===r?void 0:r.data),count:(null===(s=h.data)||void 0===s?void 0:s.count)||0,firstShop:(null===(n=h.data)||void 0===n||null===(o=n.data)||void 0===o||null===(a=o[0])||void 0===a||null===(i=a.shop)||void 0===i?void 0:i.name)||"none"}),h.data?h.data.success?Array.isArray(h.data.data)?(console.log("\u2705 [UserService] Nearby shops fetched successfully:",{success:h.data.success,count:h.data.count,actualDataLength:h.data.data.length,sampleShop:h.data.data[0]?{id:h.data.data[0]._id,name:null===(l=h.data.data[0].shop)||void 0===l?void 0:l.name,hasLocation:!(null===(c=h.data.data[0].shop)||void 0===c||!c.location),hasImages:!(null===(d=h.data.data[0].shop)||void 0===d||null===(u=d.images)||void 0===u||!u.length),category:null===(m=h.data.data[0].shop)||void 0===m?void 0:m.category}:null}),h.data):(console.error("\u274c [UserService] Invalid data format - not an array:",{dataType:typeof h.data.data,data:h.data.data}),{success:!1,message:"Invalid response format from server",data:[]}):(console.error("\u274c [UserService] API returned success: false",h.data),{success:!1,message:h.data.message||"Failed to fetch shops",data:[]}):(console.error("\u274c [UserService] No response data received"),{success:!1,message:"No response data received from server",data:[]})}catch(L){var h,p,g,f,x,v,b,y,w,j,N,k,S,C;return console.error("\u274c [UserService] Nearby shops fetch failed:",{status:null===(h=L.response)||void 0===h?void 0:h.status,statusText:null===(p=L.response)||void 0===p?void 0:p.statusText,message:(null===(g=L.response)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.message)||L.message,url:null===(x=L.config)||void 0===x?void 0:x.url,method:null===(v=L.config)||void 0===v?void 0:v.method,baseURL:null===(b=L.config)||void 0===b?void 0:b.baseURL,fullURL:`${null===(y=L.config)||void 0===y?void 0:y.baseURL}${null===(w=L.config)||void 0===w?void 0:w.url}`,isNetworkError:!L.response,errorData:null===(j=L.response)||void 0===j?void 0:j.data}),{success:!1,message:(null===(N=L.response)||void 0===N||null===(k=N.data)||void 0===k?void 0:k.message)||"Failed to fetch nearby shops",error:L.message,data:[],debug:{status:null===(S=L.response)||void 0===S?void 0:S.status,endpoint:null===(C=L.config)||void 0===C?void 0:C.url,isNetworkError:!L.response}}}},Gm=()=>{var e;const[t,r]=(0,s.useState)({email:"",password:""}),[n,o]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!0),{loginUser:d,userAuth:u}=(0,s.useContext)(er),m=re(),h=J();(0,s.useEffect)((()=>{var e,t;if(u.isAuthenticated,null===(e=u.user)||void 0===e||e.name,null===(t=h.state)||void 0===t||t.from,u.isAuthenticated){var r;const e=(null===(r=h.state)||void 0===r?void 0:r.from)||"/user/dashboard";m(e)}}),[u.isAuthenticated,m,null===(e=h.state)||void 0===e?void 0:e.from]);const p=e=>{r({...t,[e.target.name]:e.target.value})};return(0,Xt.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Xt.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Xt.jsx)("div",{className:"flex justify-center",children:(0,Xt.jsx)("div",{className:"text-orange-500 text-3xl font-bold",children:"ZAMMER"})}),(0,Xt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,Xt.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Xt.jsx)(nt,{to:"/user/register",className:"font-medium text-orange-600 hover:text-orange-500",children:"create a new account"})]})]}),(0,Xt.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Xt.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[!1,l&&(0,Xt.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-md",children:[(0,Xt.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Quick Test Login"}),(0,Xt.jsx)("p",{className:"text-xs text-blue-600 mb-3",children:"Use the following test credentials for quick login:"}),(0,Xt.jsxs)("div",{className:"bg-blue-100 p-3 rounded text-sm text-blue-800 mb-3",children:[(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("strong",{children:"Email:"})," test@example.com"]}),(0,Xt.jsxs)("p",{children:[(0,Xt.jsx)("strong",{children:"Password:"})," password123"]})]}),(0,Xt.jsx)("button",{onClick:async()=>{o(!0);try{var e;const r={email:"test@example.com",password:"password123"},s=await Hm(r);if(s.success,s.data,null===(e=s.data)||void 0===e||e.token,s.success,s.success&&s.data){var t;s.data,await d(s.data),Bt.success(`Test login successful! Welcome, ${s.data.name}!`);const e=(null===(t=h.state)||void 0===t?void 0:t.from)||"/user/dashboard";m(e)}else Bt.error(s.message||"Test login failed")}catch(a){var r,s,n;a.message,null===(r=a.response)||void 0===r||r.data,console.error("Test login error:",a);const e=(null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||a.message||"Test login failed";Bt.error(e)}finally{o(!1)}},disabled:n,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-300 text-white py-2 px-4 rounded-md text-sm font-medium transition-colors",children:n?"Logging in...":"Quick Test Login"}),(0,Xt.jsx)("button",{onClick:()=>c(!1),className:"mt-2 w-full text-blue-600 hover:text-blue-700 text-xs",children:"Hide test mode"})]}),(0,Xt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t.email.trim()?t.password.trim()?!(t.password.length<6)||(Bt.error("Password must be at least 6 characters"),0):(Bt.error("Password is required"),0):(Bt.error("Email is required"),0)){o(!0);try{var r,s;t.email,t.password.length;const e=await Hm(t);if(e.success,e.data,null===(r=e.data)||void 0===r||r.token,null===(s=e.data)||void 0===s||s.name,e.success,e.success&&e.data){var n,a;e.data.name,e.data.email,e.data._id,e.data.token,null===(n=e.data.token)||void 0===n||n.length,await d(e.data),Bt.success(`Welcome back, ${e.data.name}!`);const t=(null===(a=h.state)||void 0===a?void 0:a.from)||"/user/dashboard";m(t)}else e.message,Bt.error(e.message||"Login failed")}catch(u){var i,l,c;u.message,null===(i=u.response)||void 0===i||i.data,console.error("Login error:",u);const e=(null===(l=u.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||u.message||"Something went wrong during login";Bt.error(e)}finally{o(!1)}}},className:"space-y-6",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,Xt.jsx)("div",{className:"mt-1",children:(0,Xt.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:p,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm",placeholder:"Enter your email"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Xt.jsxs)("div",{className:"mt-1 relative",children:[(0,Xt.jsx)("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:t.password,onChange:p,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-orange-500 focus:border-orange-500 sm:text-sm pr-10",placeholder:"Enter your password"}),(0,Xt.jsx)("button",{type:"button",onClick:()=>i(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?(0,Xt.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,Xt.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded"}),(0,Xt.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,Xt.jsx)("div",{className:"text-sm",children:(0,Xt.jsx)(nt,{to:"/user/forgot-password",className:"font-medium text-orange-600 hover:text-orange-500",children:"Forgot your password?"})})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)("button",{type:"submit",disabled:n,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:bg-orange-300 disabled:cursor-not-allowed",children:n?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})})]}),!l&&(0,Xt.jsx)("div",{className:"mt-4 text-center",children:(0,Xt.jsx)("button",{onClick:()=>c(!0),className:"text-sm text-gray-600 hover:text-gray-800",children:"Show test mode"})}),(0,Xt.jsxs)("div",{className:"mt-6",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Xt.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Xt.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Xt.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),(0,Xt.jsx)("div",{className:"mt-6 text-center",children:(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Are you a seller?"," ",(0,Xt.jsx)(nt,{to:"/seller/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"Sign in here"})]})})]})]})})]})},Km={loginUser:async e=>(await new Promise((e=>setTimeout(e,500))),"test@example.com"===e.email&&"password123"===e.password?{success:!0,data:{_id:"test-user-id",name:"Test User",email:"test@example.com",mobileNumber:"1234567890",token:"test-token-123",location:{coordinates:[0,0],address:"Test Address"}}}:{success:!1,message:"Invalid credentials"}),registerUser:async e=>(await new Promise((e=>setTimeout(e,500))),"test@example.com"===e.email?{success:!1,message:"User already exists"}:{success:!0,data:{_id:"new-user-id",name:e.name,email:e.email,mobileNumber:e.mobileNumber,token:"new-user-token-123",location:e.location||{coordinates:[0,0],address:""}}}),verifyResetToken:async e=>(await new Promise((e=>setTimeout(e,500))),"test-reset-token"===e?{success:!0,message:"Token is valid"}:{success:!1,message:"Invalid or expired token"}),resetPassword:async(e,t)=>(await new Promise((e=>setTimeout(e,500))),"test-reset-token"===e?{success:!0,message:"Password reset successful"}:{success:!1,message:"Invalid or expired token"})},Ym=yd().shape({name:ad().required("Name is required").min(2,"Name must be at least 2 characters"),email:ad().email("Invalid email address").required("Email is required"),password:ad().required("Password is required").min(6,"Password must be at least 6 characters"),confirmPassword:ad().oneOf([Bc("password"),null],"Passwords must match").required("Confirm password is required"),mobileNumber:ad().required("Mobile number is required").matches(/^[0-9]{10}$/,"Mobile number must be 10 digits")}),Zm=()=>{const[e,t]=(0,s.useState)(!1),[r,n]=(0,s.useState)(null),[o,a]=(0,s.useState)(!1),i=re(),{loginUser:l}=(0,s.useContext)(er),c=()=>{a(!0),Bt.info("Test mode enabled. You can register with any valid data.")};return(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xt.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,Xt.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Xt.jsx)(nt,{to:"/user/login",className:"font-medium text-orange-600 hover:text-orange-500",children:"sign in to your account"})]})]}),r&&(0,Xt.jsxs)("div",{className:"rounded-md p-4 "+("error"===r.type?"bg-red-50 text-red-700":"bg-yellow-50 text-yellow-700"),children:[(0,Xt.jsx)("p",{children:r.message}),r.message.includes("connect to the server")&&(0,Xt.jsx)("button",{className:"mt-2 text-sm font-medium text-orange-600 hover:text-orange-500",onClick:c,children:"Use Test Mode"})]}),o&&(0,Xt.jsx)("div",{className:"bg-blue-50 text-blue-700 p-4 rounded-md",children:(0,Xt.jsx)("p",{className:"text-sm",children:"Using test mode. Registration will be simulated."})}),(0,Xt.jsx)(Zl,{initialValues:{name:"",email:"",password:"",confirmPassword:"",mobileNumber:""},validationSchema:Ym,onSubmit:async(e,r)=>{let{setSubmitting:s}=r;t(!0),n(null);try{let t;if(o)console.log("Using fallback API for registration"),t=await Km.registerUser(e);else try{console.log("Attempting registration with real API"),t=await(async e=>{try{var t,r;Vm("\ud83d\udcdd User registration attempt",{name:e.name,email:e.email,hasMobileNumber:!!e.mobileNumber},"info");const s=await Nn.post("/users/register",e);return Vm("\u2705 User registration successful",{success:s.data.success,userName:null===(t=s.data.data)||void 0===t?void 0:t.name,hasToken:!(null===(r=s.data.data)||void 0===r||!r.token)},"success"),s.data}catch(c){var s,n,o,a,i,l;throw Vm("\u274c User registration failed",{status:null===(s=c.response)||void 0===s?void 0:s.status,message:(null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||c.message,errors:null===(a=c.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.errors},"error"),(null===(l=c.response)||void 0===l?void 0:l.data)||{success:!1,message:"Network error"}}})(e)}catch(c){if(console.error("Real API error:",c),!c.message||!c.message.includes("connect to the server"))throw c;n({message:"Server connection issue. Using test mode.",type:"warning"}),a(!0),t=await Km.registerUser(e)}if(t.success)if(t.data&&t.data.token)try{console.log("\ud83d\udd04 Auto-login after registration..."),await l(t.data),Bt.success(`Welcome to Zammer, ${t.data.name}!`),i("/user/dashboard")}catch(d){console.error("Auto-login failed:",d),Bt.success("Registration successful! Please login."),i("/user/login")}else Bt.success("Registration successful! Please login."),i("/user/login");else n({message:t.message||"Registration failed",type:"error"}),Bt.error(t.message||"Registration failed")}catch(c){console.error("Registration error:",c);const e=c.message||"Something went wrong";n({message:e,type:"error"}),Bt.error(e)}finally{t(!1),s(!1)}},children:t=>{let{isSubmitting:r}=t;return(0,Xt.jsxs)(rc,{className:"mt-8 space-y-6",children:[(0,Xt.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,Xt.jsx)(tc,{id:"name",name:"name",type:"text",autoComplete:"name",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Full Name"}),(0,Xt.jsx)(cc,{name:"name",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,Xt.jsx)(tc,{id:"email",name:"email",type:"email",autoComplete:"email",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Email address"}),(0,Xt.jsx)(cc,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"mobileNumber",className:"sr-only",children:"Mobile Number"}),(0,Xt.jsx)(tc,{id:"mobileNumber",name:"mobileNumber",type:"tel",autoComplete:"tel",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Mobile Number"}),(0,Xt.jsx)(cc,{name:"mobileNumber",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,Xt.jsx)(tc,{id:"password",name:"password",type:"password",autoComplete:"new-password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Password"}),(0,Xt.jsx)(cc,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),(0,Xt.jsx)(tc,{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-orange-500 focus:border-orange-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password"}),(0,Xt.jsx)(cc,{name:"confirmPassword",component:"div",className:"text-red-500 text-sm mt-1"})]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between",children:[(0,Xt.jsx)("div",{})," ",!o&&(0,Xt.jsx)("div",{className:"text-sm",children:(0,Xt.jsx)("button",{type:"button",onClick:c,className:"font-medium text-gray-500 hover:text-gray-700",children:"Use Test Mode"})})]}),(0,Xt.jsx)("div",{children:(0,Xt.jsx)("button",{type:"submit",disabled:r||e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(r||e?"opacity-70 cursor-not-allowed":""),children:e?"Creating Account...":"Register"})})]})}})]})})},Qm=()=>{const[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[o,a]=(0,s.useState)(""),[i,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1);return u?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Xt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center",children:[(0,Xt.jsx)("div",{className:"mb-6",children:(0,Xt.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,Xt.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})}),(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Password Reset Complete!"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully."}),(0,Xt.jsx)(nt,{to:"/user/login",className:"w-full bg-orange-500 text-white py-2 px-4 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 inline-block",children:"Go to Login"})]})}):(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Xt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center text-gray-900",children:i?"Set New Password":"Reset Password"}),i?(0,Xt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r===o)if(r.length<6)Bt.error("Password must be at least 6 characters long");else{d(!0);try{console.log("\ud83d\udd11 Resetting password for:",e);(await Nn.post("/users/reset-password",{email:e,newPassword:r})).data.success?(m(!0),Bt.success("Password reset successfully!")):Bt.error("Failed to reset password")}catch(a){var s,n;console.error("Password reset error:",a),Bt.error((null===(s=a.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||"Failed to reset password")}finally{d(!1)}}else Bt.error("Passwords do not match")},children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsxs)("p",{className:"text-green-600 text-sm mb-4",children:["\u2705 Email verified: ",e]})}),(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"newPassword",children:"New Password"}),(0,Xt.jsx)("input",{id:"newPassword",type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",value:r,onChange:e=>n(e.target.value),placeholder:"Enter new password",required:!0,minLength:"6"})]}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,Xt.jsx)("input",{id:"confirmPassword",type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",value:o,onChange:e=>a(e.target.value),placeholder:"Confirm new password",required:!0,minLength:"6"})]}),(0,Xt.jsx)("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(c?"opacity-70 cursor-not-allowed":""),disabled:c,children:c?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"}),(0,Xt.jsx)("button",{type:"button",onClick:()=>l(!1),className:"w-full mt-3 text-orange-500 hover:text-orange-700 text-sm",children:"\u2190 Change Email"})]}):(0,Xt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e){d(!0);try{console.log("\ud83d\udd0d Verifying email:",e);(await Nn.post("/users/verify-email",{email:e})).data.success?(l(!0),Bt.success("Email verified successfully! Enter your new password.")):Bt.error("Email not found in our records")}catch(n){var r,s;console.error("Email verification error:",n),Bt.error((null===(r=n.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||"Email not found in our records")}finally{d(!1)}}else Bt.error("Please enter your email address")},children:[(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"email",children:"Enter Your Email Address"}),(0,Xt.jsx)("input",{id:"email",type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",required:!0})]}),(0,Xt.jsx)("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(c?"opacity-70 cursor-not-allowed":""),disabled:c,children:c?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Email"})]}),(0,Xt.jsx)("div",{className:"mt-6 text-center",children:(0,Xt.jsx)(nt,{to:"/user/login",className:"text-orange-500 hover:underline text-sm",children:"Back to Login"})})]})})},Xm=()=>{const{token:e}=se(),[t,r]=(re(),(0,s.useState)("")),[n,o]=(0,s.useState)(""),[a,i]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{await new Promise((e=>setTimeout(e,500))),u(!0)}catch(m){console.error("Token verification error:",m),u(!1),h("This reset link is invalid or has expired.")}})()}),[e]);return null===d?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Xt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Verifying Reset Link"}),(0,Xt.jsx)("div",{className:"animate-pulse",children:"Please wait while we verify your reset link..."})]})}):!1===d?(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Xt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Invalid Reset Link"}),(0,Xt.jsx)("div",{className:"text-red-600 mb-4 text-center",children:m||"This password reset link is invalid or has expired."}),(0,Xt.jsx)("div",{className:"text-center",children:(0,Xt.jsx)(nt,{to:"/user/forgot-password",className:"text-orange-500 hover:underline",children:"Request a new reset link"})})]})}):(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,Xt.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Reset Password"}),a?(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("p",{className:"text-green-600 mb-4",children:"Your password has been reset successfully!"}),(0,Xt.jsx)(nt,{to:"/user/login",className:"text-orange-500 hover:underline",children:"Go to Login"})]}):(0,Xt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),t===n)if(t.length<6)h("Password must be at least 6 characters");else{c(!0),h(null);try{await new Promise((e=>setTimeout(e,1e3))),i(!0),Bt.success("Password has been reset successfully")}catch(m){console.error("Password reset error:",m),m.message&&m.message.includes("connect to the server")?h("Unable to connect to the server. Please try again later."):h(m.message||"Something went wrong. Please try again."),Bt.error(m.message||"Password reset failed")}finally{c(!1)}}else h("Passwords do not match")},children:[m&&(0,Xt.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md",children:m}),(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"password",children:"New Password"}),(0,Xt.jsx)("input",{id:"password",type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",value:t,onChange:e=>r(e.target.value),required:!0,minLength:6})]}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,Xt.jsx)("input",{id:"confirmPassword",type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-orange-500 focus:border-orange-500",value:n,onChange:e=>o(e.target.value),required:!0})]}),(0,Xt.jsx)("button",{type:"submit",className:"w-full bg-orange-500 text-white py-2 rounded-md hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 "+(l?"opacity-70 cursor-not-allowed":""),disabled:l,children:l?"Resetting...":"Reset Password"})]})]})})},Jm=e=>{let{children:t}=e;const{userAuth:r,logoutUser:n}=(0,s.useContext)(er),o=re(),a=J();if(!r.isAuthenticated)return o("/user/login"),null;const i=e=>a.pathname.includes(e);return(0,Xt.jsxs)("div",{className:"user-layout min-h-screen flex flex-col bg-gray-50",children:[(0,Xt.jsx)("div",{className:"flex-grow pb-16",children:t}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center max-w-screen-xl mx-auto",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 px-4 text-xs "+("/user/dashboard"===a.pathname?"text-orange-500":"text-gray-500"),children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,Xt.jsx)("span",{children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 px-4 text-xs "+(i("/shop")?"text-orange-500":"text-gray-500"),children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,Xt.jsx)("span",{children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 px-4 text-xs "+(i("/cart")?"text-orange-500":"text-gray-500"),children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Xt.jsx)("span",{children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 px-4 text-xs "+(i("/trending")?"text-orange-500":"text-gray-500"),children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,Xt.jsx)("span",{children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 px-4 text-xs "+(i("/limited-edition")?"text-orange-500":"text-gray-500"),children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Xt.jsx)("span",{children:"Limited Edition"})]})]})})]})},eh=()=>{var e,t,r,n;const{userAuth:o}=(0,s.useContext)(er),[a,i]=(0,s.useState)([]),[l,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0),[f,x]=(0,s.useState)(!0),[v,b]=(0,s.useState)(""),y=(0,s.useRef)(!0),w=(0,s.useRef)(!1),j=e=>{var t,r;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.mainImage?e.shop.mainImage:null!==e&&void 0!==e&&null!==(r=e.shop)&&void 0!==r&&r.images&&e.shop.images.length>0?e.shop.images[0]:null},N=(0,s.useCallback)((async()=>{if(!w.current&&y.current){w.current=!0,g(!0);try{console.log("\ud83d\udd0d HomePage: Fetching products...");const e=await $d({page:1,limit:8,status:"active"});e.success&&y.current?(i(e.data),console.log("\u2705 HomePage: Products fetched:",e.data.length)):Bt.error(e.message||"Failed to fetch products")}catch(e){console.error("\u274c HomePage: Error fetching products:",e)}finally{y.current&&g(!1),w.current=!1}}}),[]),k=(0,s.useCallback)((async()=>{if(y.current)try{console.log("\ud83c\udf81 HomePage: Fetching offer products...");const e=await $d({page:1,limit:4,discount:!0,status:"active"});e.success&&y.current&&(c(e.data),console.log("\u2705 HomePage: Offer products fetched:",e.data.length))}catch(e){console.error("\u274c HomePage: Error fetching offer products:",e)}}),[]),S=(0,s.useCallback)((async()=>{if(y.current){x(!0);try{console.log("\ud83c\udfea HomePage: Fetching nearby shops...");const e=await qm();e.success&&y.current?(console.log("\u2705 HomePage: Shops fetched:",e.data.length),u(e.data),h(e.data.slice().sort((()=>.5-Math.random())).slice(0,4)),e.data&&e.data.length>0&&(console.log("\ud83d\udcca [HomePage] Shops with distances:"),e.data.slice(0,3).forEach(((e,t)=>{var r;console.log(`  ${t+1}. ${null===(r=e.shop)||void 0===r?void 0:r.name} - ${e.distanceText||"No distance"}`)})))):Bt.error(e.message||"Failed to fetch nearby shops")}catch(e){console.error("\u274c HomePage: Error fetching shops:",e)}finally{y.current&&x(!1)}}}),[]);(0,s.useEffect)((()=>{y.current=!0,console.log("\ud83d\ude80 HomePage: Initializing...");return(async()=>{try{await Promise.all([N(),k(),S()])}catch(e){console.error("\u274c HomePage: Error initializing data:",e)}})(),()=>{console.log("\ud83e\uddf9 HomePage: Cleaning up..."),y.current=!1,w.current=!1}}),[]);return(0,Xt.jsxs)("div",{className:"user-home-page bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 pb-20 min-h-screen",children:[(0,Xt.jsxs)("div",{className:"bg-white border-b border-gray-100 shadow-lg relative overflow-hidden",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-50 via-pink-50 to-purple-50 opacity-60"}),(0,Xt.jsxs)("div",{className:"relative z-10 p-6",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-100 to-pink-100 rounded-2xl flex items-center justify-center overflow-hidden mr-4 shadow-lg border border-orange-200",children:null!==(e=o.user)&&void 0!==e&&e.profilePicture?(0,Xt.jsx)("img",{src:o.user.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-lg font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Hello! \ud83d\udc4b"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:(null===(t=o.user)||void 0===t?void 0:t.name)||"Jerome Bell"})]})]}),(0,Xt.jsx)("button",{className:"p-3 bg-gradient-to-br from-orange-100 to-pink-100 rounded-2xl hover:from-orange-200 hover:to-pink-200 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})})]}),(null===(r=o.user)||void 0===r||null===(n=r.location)||void 0===n?void 0:n.address)&&(0,Xt.jsxs)("div",{className:"mt-4 flex items-center text-sm text-gray-600 bg-white/80 backdrop-blur-sm rounded-full px-4 py-2 border border-gray-200 shadow-sm",children:[(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-orange-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("span",{children:"A-94, office no-80-1sector-4, Noida-201301"})]}),(0,Xt.jsx)("form",{onSubmit:e=>{e.preventDefault(),v.trim()&&Bt.info(`Searching for: ${v}`)},className:"mt-6",children:(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("input",{type:"text",placeholder:"Search for products, shops, or categories...",className:"w-full bg-white rounded-2xl pl-12 pr-4 py-4 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent shadow-lg border border-gray-200 transition-all duration-300 hover:shadow-xl",value:v,onChange:e=>{b(e.target.value)}}),(0,Xt.jsx)("button",{type:"submit",className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-orange-500 to-pink-500 rounded-full flex items-center justify-center hover:from-orange-600 hover:to-pink-600 transition-all duration-300 shadow-md hover:shadow-lg",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})]})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:"\u2728 Best Offers for You"}),(0,Xt.jsxs)(nt,{to:"/user/offers",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["View All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,Xt.jsx)("div",{className:"relative overflow-x-auto",children:(0,Xt.jsx)("div",{className:"flex space-x-6 overflow-x-auto pb-4 no-scrollbar",children:l.length>0?l.map((e=>(0,Xt.jsxs)("div",{className:"flex-shrink-0 w-80 h-40 relative rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-200 via-yellow-300 to-orange-200"}),(0,Xt.jsxs)("div",{className:"absolute inset-0 p-6 flex flex-col justify-between relative z-10",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white text-xs px-3 py-1.5 rounded-full inline-block font-bold shadow-md",children:"#SPRING DEALS"}),(0,Xt.jsx)("p",{className:"text-lg font-bold mt-2 text-gray-800",children:"Fashion Misfits"})]}),(0,Xt.jsx)("button",{className:"bg-white text-orange-600 text-sm px-4 py-2 rounded-full w-fit font-bold hover:bg-orange-50 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"Shop Now \u2192"})]}),e.images&&e.images[0]&&(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"absolute right-4 bottom-4 h-32 object-cover rounded-xl group-hover:scale-110 transition-transform duration-300 shadow-lg"}),(0,Xt.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/20 rounded-full -translate-y-12 translate-x-12"}),(0,Xt.jsx)("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-orange-300/30 rounded-full -translate-y-8 -translate-x-8"})]},e._id))):(0,Xt.jsxs)("div",{className:"flex-shrink-0 w-80 h-40 relative rounded-2xl overflow-hidden shadow-lg border border-yellow-200",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-200 via-yellow-300 to-orange-200"}),(0,Xt.jsxs)("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white text-xs px-3 py-1.5 rounded-full inline-block font-bold",children:"#SPRING DEALS"}),(0,Xt.jsx)("p",{className:"text-lg font-bold mt-2 text-gray-800",children:"Fashion Misfits"})]}),(0,Xt.jsx)("button",{className:"bg-white text-orange-600 text-sm px-4 py-2 rounded-full w-fit font-bold hover:bg-orange-50 transition-all duration-300 shadow-md",children:"Shop Now \u2192"})]}),(0,Xt.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/20 rounded-full -translate-y-12 translate-x-12"})]})})})]}),(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:"\ud83d\udc57 Fashion Categories"}),(0,Xt.jsxs)(nt,{to:"/user/categories",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["View All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Xt.jsxs)(nt,{to:"/user/categories/women",className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-yellow-100 group hover:border-yellow-200 hover:scale-105",children:[(0,Xt.jsx)("div",{className:"h-24 mb-3 flex items-center justify-center bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl group-hover:rotate-3 transition-transform duration-300",children:(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-200 to-yellow-300 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),(0,Xt.jsx)("p",{className:"text-sm font-bold text-gray-800 group-hover:text-yellow-700 transition-colors duration-300",children:"Women"}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"13 styles"})]}),(0,Xt.jsxs)(nt,{to:"/user/categories/men",className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 group hover:border-blue-200 hover:scale-105",children:[(0,Xt.jsx)("div",{className:"h-24 mb-3 flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl group-hover:rotate-3 transition-transform duration-300",children:(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-200 to-blue-300 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),(0,Xt.jsx)("p",{className:"text-sm font-bold text-gray-800 group-hover:text-blue-700 transition-colors duration-300",children:"Men"}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"19 styles"})]}),(0,Xt.jsxs)(nt,{to:"/user/categories/kids",className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-pink-100 group hover:border-pink-200 hover:scale-105",children:[(0,Xt.jsx)("div",{className:"h-24 mb-3 flex items-center justify-center bg-gradient-to-br from-pink-50 to-pink-100 rounded-xl group-hover:rotate-3 transition-transform duration-300",children:(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-200 to-pink-300 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-pink-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Xt.jsx)("p",{className:"text-sm font-bold text-gray-800 group-hover:text-pink-700 transition-colors duration-300",children:"Kids"}),(0,Xt.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"26 styles"})]})]})]}),(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:"\ud83c\udfea Nearby Shops"}),(0,Xt.jsx)(nt,{to:"/user/nearby-shops",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-200 border-t-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Finding amazing shops..."})]})}):d.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-2 gap-4",children:d.slice(0,4).map(((e,t)=>{var r,s,n,o,a,i,l;return(0,Xt.jsxs)(nt,{to:`/user/shop/${e._id}`,className:"border border-gray-200 rounded-2xl overflow-hidden bg-white hover:shadow-xl transition-all duration-300 shadow-lg group hover:scale-105",children:[(0,Xt.jsxs)("div",{className:"h-32 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[j(e)?(0,Xt.jsx)("img",{src:j(e),alt:(null===(r=e.shop)||void 0===r?void 0:r.name)||"Shop",className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>{console.log("\u274c Shop image failed to load:",j(e)),t.target.style.display="none",t.target.nextSibling.style.display="flex"}}):null,(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-orange-100 via-orange-200 to-pink-100 "+(j(e)?"hidden":"flex"),children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-white/80 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs text-orange-700 font-bold",children:null===(s=e.shop)||void 0===s?void 0:s.name})]})}),(null===(n=e.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)>1&&(0,Xt.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm",children:["+",e.shop.images.length-1," more"]})]}),(0,Xt.jsxs)("div",{className:"p-3",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Xt.jsx)(Fm,{rating:e.averageRating||4.9,className:"text-xs"}),(0,Xt.jsxs)("span",{className:"text-xs text-gray-500 ml-2 font-medium",children:["(",e.numReviews||Math.floor(90*Math.random())+10,")"]})]}),(0,Xt.jsx)("p",{className:"text-sm font-bold mb-2 truncate text-gray-800",children:(null===(a=e.shop)||void 0===a?void 0:a.name)||"Shop Name"}),(null===(i=e.shop)||void 0===i?void 0:i.description)&&(0,Xt.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-1",children:e.shop.description.length>40?e.shop.description.substring(0,40)+"...":e.shop.description}),(0,Xt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["\u20b9",(null===(l=e.zammerPrice)||void 0===l?void 0:l.toFixed(2))||"N/A"]}),e.distanceText&&(0,Xt.jsxs)("p",{className:"text-xs text-green-600 font-semibold flex items-center mt-1",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.distanceText]})]})]},e._id||t)}))}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"No nearby shops found."})]})]}),(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsx)("h2",{className:"text-lg font-bold text-gray-800 flex items-center",children:"\ud83d\udc8e Recommended for You"}),(0,Xt.jsx)(nt,{to:"/user/recommended-shops",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),f?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-purple-200 border-t-purple-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Finding perfect recommendations..."})]})}):m.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-2 gap-4",children:m.slice(0,4).map(((e,t)=>{var r,s,n,o,a,i,l;return(0,Xt.jsxs)(nt,{to:`/user/shop/${e._id}`,className:"border border-gray-200 rounded-2xl overflow-hidden bg-white hover:shadow-xl transition-all duration-300 shadow-lg group hover:scale-105",children:[(0,Xt.jsxs)("div",{className:"h-32 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[j(e)?(0,Xt.jsx)("img",{src:j(e),alt:(null===(r=e.shop)||void 0===r?void 0:r.name)||"Shop",className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>{console.log("\u274c Recommended shop image failed to load:",j(e)),t.target.style.display="none",t.target.nextSibling.style.display="flex"}}):null,(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-purple-100 via-purple-200 to-pink-100 "+(j(e)?"hidden":"flex"),children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-white/80 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs text-purple-700 font-bold",children:null===(s=e.shop)||void 0===s?void 0:s.name})]})}),(0,Xt.jsx)("div",{className:"absolute top-2 left-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"\u2b50 Recommended"}),(null===(n=e.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)>1&&(0,Xt.jsxs)("div",{className:"absolute bottom-2 left-2 bg-black/70 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm",children:["+",e.shop.images.length-1," more"]})]}),(0,Xt.jsxs)("div",{className:"p-3",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Xt.jsx)(Fm,{rating:e.averageRating||4.9,className:"text-xs"}),(0,Xt.jsxs)("span",{className:"text-xs text-gray-500 ml-2 font-medium",children:["(",e.numReviews||Math.floor(90*Math.random())+10,")"]})]}),(0,Xt.jsx)("p",{className:"text-sm font-bold mb-2 truncate text-gray-800",children:(null===(a=e.shop)||void 0===a?void 0:a.name)||"Shop Name"}),(null===(i=e.shop)||void 0===i?void 0:i.description)&&(0,Xt.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-1",children:e.shop.description.length>40?e.shop.description.substring(0,40)+"...":e.shop.description}),(0,Xt.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["\u20b9",(null===(l=e.zammerPrice)||void 0===l?void 0:l.toFixed(2))||"N/A"]}),e.distanceText&&(0,Xt.jsxs)("p",{className:"text-xs text-green-600 font-semibold flex items-center mt-1",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.distanceText]})]})]},e._id||`rec-${t}`)}))}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"No recommended shops available yet."})]})]})]}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 z-50 shadow-2xl",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-bold",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Limited"})]})]})})]})},th=e=>{let{orders:t=[]}=e;const r=e=>{switch(e){case"Pending":return"bg-yellow-100 text-yellow-800";case"Processing":return"bg-blue-100 text-blue-800";case"Shipped":return"bg-purple-100 text-purple-800";case"Delivered":return"bg-green-100 text-green-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=e=>{switch(e){case"Pending":return(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})});case"Processing":return(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})});case"Shipped":return(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})});case"Delivered":return(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})});case"Cancelled":return(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});default:return null}};return 0===t.length?(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 text-center",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Orders"}),(0,Xt.jsx)("p",{className:"text-gray-500 mb-4",children:"You don't have any active orders to track at the moment."}),(0,Xt.jsx)(nt,{to:"/user/shop",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"Start Shopping"})]}):(0,Xt.jsx)("div",{className:"space-y-4",children:t.map((e=>{var t;return(0,Xt.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:(0,Xt.jsxs)("div",{className:"p-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Order #",e.orderNumber]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-500",children:["Placed on ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,Xt.jsxs)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${r(e.status)}`,children:[s(e.status),(0,Xt.jsx)("span",{className:"ml-1",children:e.status})]})]}),(0,Xt.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-500",children:"Total Amount"}),(0,Xt.jsxs)("span",{className:"font-medium text-gray-900",children:["\u20b9",e.totalPrice]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm mt-2",children:[(0,Xt.jsx)("span",{className:"text-gray-500",children:"Items"}),(0,Xt.jsxs)("span",{className:"font-medium text-gray-900",children:[(null===(t=e.orderItems)||void 0===t?void 0:t.length)||0," items"]})]})]}),(0,Xt.jsx)("div",{className:"mt-4 flex justify-end",children:(0,Xt.jsx)(nt,{to:`/user/orders/${e._id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500",children:"View Details"})})]})},e._id)}))})},rh=e=>{if(!e||"string"!==typeof e)return!1;try{const t=e.split(".");return 3===t.length&&t.every((e=>e.length>0))}catch(t){return!1}},sh=()=>{const e=localStorage.getItem("userToken"),t=localStorage.getItem("userData");if(e&&(e.length,e.substring(0,30),rh(e)),t&&t.length,Object.keys(localStorage),!e||!rh(e))return!!e&&rh(e),{isAuthenticated:!1,error:"Please login to access cart functionality",details:{missingToken:!e,invalidToken:e&&!rh(e)}};if(!t)return{isAuthenticated:!1,error:"Session data missing. Please login again.",details:{missingUserData:!0}};try{const r=JSON.parse(t);return r._id,r.name,r.email,e.length,{isAuthenticated:!0,user:r,token:e}}catch(r){return r.message,null===t||void 0===t||t.substring(0,100),localStorage.removeItem("userToken"),localStorage.removeItem("userData"),{isAuthenticated:!1,error:"Invalid session data. Please login again.",details:{reason:"Corrupted user data",action:"Cleaned up localStorage"}}}},nh={debugAuth:()=>{const e=Object.keys(localStorage),t={};e.forEach((e=>{if(e.includes("token")||e.includes("user")||e.includes("seller")){const r=localStorage.getItem(e);t[e]=r?e.includes("Data")?{type:"JSON Data",length:r.length,preview:r.substring(0,50)+"..."}:{type:"Token",length:r.length,preview:`${r.substring(0,30)}...`,isValidStructure:rh(r)}:{type:"Empty"}}}));const r=sh();return r.isAuthenticated,r},getCart:async()=>{try{var e,t,r;const s=sh();if(!s.isAuthenticated)return{success:!1,message:s.error,requiresAuth:!0,details:s.details};s.user.name,s.user._id;const n=await Nn.get("/cart");return null===(e=n.data.data)||void 0===e||null===(t=e.items)||void 0===t||t.length,null===(r=n.data.data)||void 0===r||r.total,n.data.success,{success:!0,data:n.data.data}}catch(b){var s,n,o,a,i,l,c,d,u,m;if(null===(s=b.response)||void 0===s||s.status,(null===(n=b.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.message)||b.message,null===(a=b.response)||void 0===a||null===(i=a.data)||void 0===i||i.code,null===(l=b.response)||void 0===l||null===(c=l.data)||void 0===c||c.requiresAuth,401===(null===(d=b.response)||void 0===d?void 0:d.status)){var h,p,g,f,x,v;return(null===(h=b.response)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(b.response.data.code)&&(b.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(g=b.response)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.message)||"Session expired. Please login again.",requiresAuth:!0,code:null===(x=b.response)||void 0===x||null===(v=x.data)||void 0===v?void 0:v.code}}return{success:!1,message:(null===(u=b.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||"Failed to fetch cart"}}},addToCart:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{var s,n;const o=sh();if(!o.isAuthenticated)return{success:!1,message:o.error,requiresAuth:!0,details:o.details};const{size:a,color:i,selectedSize:l,selectedColor:c}=r,d={productId:e,quantity:parseInt(t)||1,selectedSize:l||a,selectedColor:c||i};o.user.name;const u=await Nn.post("/cart",d);return u.data.message,null===(s=u.data.data)||void 0===s||null===(n=s.items)||void 0===n||n.length,u.data.success,{success:!0,data:u.data.data,message:u.data.message||"Product added to cart"}}catch(w){var o,a,i,l,c,d,u,m,h,p;if(null===(o=w.response)||void 0===o||o.status,(null===(a=w.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||w.message,null===(l=w.response)||void 0===l||null===(c=l.data)||void 0===c||c.code,null===(d=w.response)||void 0===d||null===(u=d.data)||void 0===u||u.requiresAuth,401===(null===(m=w.response)||void 0===m?void 0:m.status)){var g,f,x,v,b,y;return(null===(g=w.response)||void 0===g||null===(f=g.data)||void 0===f?void 0:f.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(w.response.data.code)&&(w.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(x=w.response)||void 0===x||null===(v=x.data)||void 0===v?void 0:v.message)||"Session expired. Please login again.",requiresAuth:!0,code:null===(b=w.response)||void 0===b||null===(y=b.data)||void 0===y?void 0:y.code}}return{success:!1,message:(null===(h=w.response)||void 0===h||null===(p=h.data)||void 0===p?void 0:p.message)||"Failed to add to cart"}}},updateCartItem:async(e,t)=>{try{const r=sh();if(!r.isAuthenticated)return{success:!1,message:r.error,requiresAuth:!0};const s=await Nn.put(`/cart/${e}`,{quantity:parseInt(t)});return s.data.message,{success:!0,data:s.data.data,message:s.data.message}}catch(p){var r,s,n,o,a,i,l,c;if(null===(r=p.response)||void 0===r||r.status,(null===(s=p.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||p.message,null===(o=p.response)||void 0===o||null===(a=o.data)||void 0===a||a.code,401===(null===(i=p.response)||void 0===i?void 0:i.status)){var d,u,m,h;return(null===(d=p.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(p.response.data.code)&&(localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(m=p.response)||void 0===m||null===(h=m.data)||void 0===h?void 0:h.message)||"Session expired. Please login again.",requiresAuth:!0}}return{success:!1,message:(null===(l=p.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||"Failed to update cart item"}}},removeFromCart:async e=>{try{const t=sh();if(!t.isAuthenticated)return{success:!1,message:t.error,requiresAuth:!0};const r=await Nn.delete(`/cart/${e}`);return{success:!0,data:r.data.data,message:r.data.message}}catch(h){var t,r,s,n,o,a,i,l;if(null===(t=h.response)||void 0===t||t.status,(null===(r=h.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||h.message,null===(n=h.response)||void 0===n||null===(o=n.data)||void 0===o||o.code,401===(null===(a=h.response)||void 0===a?void 0:a.status)){var c,d,u,m;return(null===(c=h.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(h.response.data.code)&&(localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(u=h.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||"Session expired. Please login again.",requiresAuth:!0}}return{success:!1,message:(null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to remove from cart"}}},clearCart:async()=>{try{const e=sh();if(!e.isAuthenticated)return{success:!1,message:e.error,requiresAuth:!0};const t=await Nn.delete("/cart");return{success:!0,data:t.data.data,message:t.data.message}}catch(m){var e,t,r,s,n,o,a,i;if(null===(e=m.response)||void 0===e||e.status,(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||m.message,null===(s=m.response)||void 0===s||null===(n=s.data)||void 0===n||n.code,401===(null===(o=m.response)||void 0===o?void 0:o.status)){var l,c,d,u;return(null===(l=m.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(m.response.data.code)&&(localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Session expired. Please login again.",requiresAuth:!0}}return{success:!1,message:(null===(a=m.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Failed to clear cart"}}},getCartItemCount:async()=>{try{if(!sh().isAuthenticated)return{success:!1,count:0,requiresAuth:!0};const e=(await Nn.get("/cart")).data.data;if(!e||!e.items)return{success:!0,count:0};return{success:!0,count:e.items.reduce(((e,t)=>e+t.quantity),0)}}catch(l){var e,t,r,s,n,o,a,i;return null===(e=l.response)||void 0===e||e.status,(null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||l.message,null===(s=l.response)||void 0===s||null===(n=s.data)||void 0===n||n.code,{success:!1,count:0,message:(null===(o=l.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Failed to get cart count",requiresAuth:401===(null===(i=l.response)||void 0===i?void 0:i.status)}}}};const oh=nh,ah=()=>{var e,t,r,n,o,a,i,l,c,d,u,m,h;const{userAuth:p,logoutUser:g,updateUser:f}=(0,s.useContext)(er),[x,v]=(0,s.useState)([]),[b,y]=(0,s.useState)([]),[w,j]=(0,s.useState)([]),[N,k]=(0,s.useState)(!0),[S,C]=(0,s.useState)(!0),[L,E]=(0,s.useState)("All"),[P,_]=(0,s.useState)(!1),[M,T]=(0,s.useState)(!1),[O,A]=(0,s.useState)([]),[R,D]=(0,s.useState)([]),[I,z]=(0,s.useState)({items:[],total:0}),[F,B]=(0,s.useState)(null),[U,$]=(0,s.useState)(!1),[W,V]=(0,s.useState)(null),H=(0,s.useRef)(!0),q=(0,s.useRef)(!1),G=re(),K=(0,s.useCallback)((async()=>{if(!q.current&&H.current){q.current=!0,k(!0);try{console.log("\ud83d\udd0d Fetching marketplace products...");const e=await $d({page:1,limit:8});if(e&&e.success&&H.current){const t=Array.isArray(e.data)?e.data:[];v(t),console.log("\u2705 Products fetched successfully:",t.length),console.log("\n\ud83d\uddbc\ufe0f ===============================\n   FRONTEND IMAGE DEBUG REPORT\n==============================="),t.length>0?t.forEach(((e,t)=>{var r;console.log(`\ud83d\udce6 Frontend Product ${t+1}: ${e.name}`),console.log(`   \ud83d\udcc1 Images received: ${(null===(r=e.images)||void 0===r?void 0:r.length)||0}`),e.images&&e.images.length>0?e.images.forEach(((e,t)=>{console.log(`   \ud83d\uddbc\ufe0f  Image ${t+1}: ${e}`),console.log(`   \u2705 URL Valid: ${"string"===typeof e&&e.length>0}`),console.log(`   \u2705 Is Cloudinary: ${e.includes("cloudinary.com")}`),console.log("   \u2705 Accessible: Testing...");const r=new Image;r.onload=()=>{console.log(`   \u2705 Image ${t+1} loaded successfully`)},r.onerror=()=>{console.log(`   \u274c Image ${t+1} failed to load: ${e}`)},r.src=e})):console.log(`   \u274c No images received for product: ${e.name}`),console.log("\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500")})):console.log("\u274c No products received from API"),console.log("===============================")}else console.log("\u26a0\ufe0f Products fetch response:",e),v([]),e&&e.message&&Bt.error(e.message)}catch(r){var e,t;console.error("\u274c Error fetching products:",r),v([]);const s=(null===r||void 0===r||null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||(null===r||void 0===r?void 0:r.message)||"Something went wrong";Bt.error(s)}finally{H.current&&k(!1),q.current=!1}}}),[]),Y=(0,s.useCallback)((async()=>{if(H.current)try{console.log("\ud83d\udcc8 Fetching trending products...");const e=await $d({page:1,limit:4,isTrending:!0});if(e&&e.success&&H.current){const t=Array.isArray(e.data)?e.data:[];y(t),console.log("\u2705 Trending products fetched:",t.length)}else y([])}catch(e){console.error("\u274c Error fetching trending products:",e),y([])}}),[]),Z=(0,s.useCallback)((async()=>{if(H.current){C(!0);try{var e,t;console.log("\ud83c\udfea [Dashboard] ===== STARTING SHOP FETCH ====="),console.log("\ud83c\udfea [Dashboard] User authenticated:",p.isAuthenticated),console.log("\ud83c\udfea [Dashboard] User ID:",null===(e=p.user)||void 0===e?void 0:e._id),console.log("\ud83c\udfea [Dashboard] User location:",null===(t=p.user)||void 0===t?void 0:t.location),console.log("\ud83c\udfea [Dashboard] Calling getNearbyShops()...");const h=await qm();if(console.log("\ud83c\udfea [Dashboard] ===== RAW API RESPONSE ====="),console.log("\ud83c\udfea [Dashboard] Response type:",typeof h),console.log("\ud83c\udfea [Dashboard] Response keys:",Object.keys(h||{})),console.log("\ud83c\udfea [Dashboard] Response:",h),!h)return console.error("\u274c [Dashboard] No response received from getNearbyShops"),Bt.error("No response from server"),void j([]);if(!h.success&&(!h.data||0===h.data.length))return console.error("\u274c [Dashboard] API returned failure:",{success:h.success,message:h.message,error:h.error,debug:h.debug}),Bt.error(h.message||"Failed to fetch nearby shops"),void j([]);const g=Array.isArray(h.data)?h.data:[];var r,s,n,o,a,i,l,c,d,u,m;if(console.log("\ud83c\udfea [Dashboard] ===== PROCESSING SHOP DATA ====="),console.log("\ud83c\udfea [Dashboard] Data is array:",Array.isArray(h.data)),console.log("\ud83c\udfea [Dashboard] Data length:",g.length),console.log("\ud83c\udfea [Dashboard] Response success:",h.success),console.log("\ud83c\udfea [Dashboard] Response count:",h.count),g.length>0)console.log("\ud83c\udfea [Dashboard] Shop data details:"),g.forEach(((e,t)=>{var r,s,n,o,a,i;console.log(`   ${t+1}. ${(null===(r=e.shop)||void 0===r?void 0:r.name)||"NO NAME"} (ID: ${e._id})`),console.log(`      - Category: ${(null===(s=e.shop)||void 0===s?void 0:s.category)||"No category"}`),console.log(`      - Images: ${(null===(n=e.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)||0}`),console.log(`      - Main Image: ${(null===(a=e.shop)||void 0===a?void 0:a.mainImage)||"No main image"}`),console.log("      - Location: "+(null!==(i=e.shop)&&void 0!==i&&i.location?"Has location":"No location"))})),console.log("\u2705 [Dashboard] Sample shop structure:",{sellerId:g[0]._id,name:null===(r=g[0].shop)||void 0===r?void 0:r.name,hasLocation:!(null===(s=g[0].shop)||void 0===s||!s.location),hasImages:!(null===(n=g[0].shop)||void 0===n||null===(o=n.images)||void 0===o||!o.length),imageCount:(null===(a=g[0].shop)||void 0===a||null===(i=a.images)||void 0===i?void 0:i.length)||0,firstImage:(null===(l=g[0].shop)||void 0===l||null===(c=l.images)||void 0===c?void 0:c[0])||"none",mainImage:(null===(d=g[0].shop)||void 0===d?void 0:d.mainImage)||"none",category:null===(u=g[0].shop)||void 0===u?void 0:u.category,address:null===(m=g[0].shop)||void 0===m?void 0:m.address});else console.log("\u26a0\ufe0f [Dashboard] No shops in response data"),h.success&&(console.log("\u2139\ufe0f [Dashboard] API successful but returned empty array"),console.log("\u2139\ufe0f [Dashboard] This means no sellers have shop.name in database"));H.current&&(j(g),console.log("\ud83c\udfea [Dashboard] Set shops state with",g.length,"shops")),0===g.length?(console.log("\u2139\ufe0f [Dashboard] No shops found - showing empty state"),h.success&&Bt.info("No shops available in the database")):(console.log("\u2705 [Dashboard] Successfully loaded",g.length,"shops"),Bt.success(`Found ${g.length} shops!`))}catch(y){var h,g,f,x,v,b;console.error("\u274c [Dashboard] ===== ERROR FETCHING SHOPS ====="),console.error("\u274c [Dashboard] Error type:",y.constructor.name),console.error("\u274c [Dashboard] Error message:",y.message),console.error("\u274c [Dashboard] Error details:",{status:null===(h=y.response)||void 0===h?void 0:h.status,statusText:null===(g=y.response)||void 0===g?void 0:g.statusText,data:null===(f=y.response)||void 0===f?void 0:f.data,config:{url:null===(x=y.config)||void 0===x?void 0:x.url,method:null===(v=y.config)||void 0===v?void 0:v.method,baseURL:null===(b=y.config)||void 0===b?void 0:b.baseURL}}),Bt.error(`Failed to load shops: ${y.message}`),j([])}finally{H.current&&(C(!1),console.log("\ud83c\udfea [Dashboard] Set loadingShops to false"))}}}),[p.isAuthenticated,null===(e=p.user)||void 0===e?void 0:e._id]),Q=(0,s.useCallback)((async()=>{if(H.current)try{console.log("\ud83d\udce6 Fetching user orders...");const e=await Xd.getUserOrders();if(e&&e.success&&H.current){const t=Array.isArray(e.data)?e.data:[];D(t),console.log("\u2705 Orders fetched successfully:",t.length)}else D([])}catch(e){console.error("\u274c Error fetching orders:",e),D([])}}),[]),X=(0,s.useCallback)((async()=>{if(!U&&navigator.geolocation){$(!0),V(null);try{console.log("\ud83d\udccd Attempting to get current position...");const t=await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition(e,t,{timeout:15e3,enableHighAccuracy:!0,maximumAge:3e5})})),{latitude:r,longitude:s}=t.coords;console.log("\u2705 Position obtained:",{latitude:r,longitude:s});const n="AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs";if(!n)return console.error("\u274c Google Maps API key not found!"),V("Google Maps API key not configured."),Bt.error("Location services not fully configured."),void $(!1);console.log("\ud83d\udce1 Calling Google Geocoding API...");const o=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${r},${s}&key=${n}`,a=await fetch(o),i=await a.json();console.log("\u2705 Geocoding API response:",i);let l="Location detected";i.results&&i.results.length>0?(l=i.results[0].formatted_address,console.log("\ud83c\udfe0 Formatted address:",l)):(console.warn("\u26a0\ufe0f No geocoding results found."),l=`${r.toFixed(6)}, ${s.toFixed(6)}`);const c={coordinates:[s,r],address:l};if(console.log("\ud83d\udccd New location object:",c),B(c),p.isAuthenticated&&p.user)try{console.log("\ud83d\udcbe Updating user location in backend...");const e=await Nn.put("/users/profile",{location:c});if(console.log("\ud83d\udcbe Backend update response:",e.data),e.data.success){console.log("\u2705 User location updated in backend.");const e={...p.user,location:c};f&&f(e),Bt.success("Location updated successfully!"),_((e=>!e)),Z()}else console.warn("\u26a0\ufe0f Failed to update user location in backend:",e.data.message),V("Failed to save location."),Bt.error("Failed to save location.")}catch(e){console.error("\u274c Backend location update failed:",e),V("Backend update error."),Bt.error("Error saving location.")}else console.log("\u26a0\ufe0f User not authenticated, location update not persisted."),Bt.success("Location detected!"),Z()}catch(t){console.error("\u274c Location detection/geocoding error:",t);let e="Failed to detect location.";1===t.code?e="Location access denied. Please enable location permissions.":2===t.code?e="Location unavailable. Please try again.":3===t.code&&(e="Location request timed out. Please try again."),V(e),Bt.error(e)}finally{$(!1)}}else navigator.geolocation||(V("Geolocation is not supported by your browser."),Bt.error("Geolocation not supported."))}),[U,Z,p.isAuthenticated,p.user,f]);(0,s.useEffect)((()=>{if(H.current=!0,!p.isAuthenticated||!p.user)return console.log("\u26a0\ufe0f User not authenticated, skipping data fetch"),k(!1),void C(!1);console.log("\ud83d\ude80 Dashboard: Starting data fetch for user:",p.user.name),console.log("\ud83d\ude80 Dashboard: User location:",p.user.location);return(async()=>{try{await Promise.all([K(),Y(),Q()]),await Z()}catch(e){console.error("\u274c Error initializing dashboard data:",e)}})(),p.user.location&&p.user.location.address||(console.log("\ud83d\udccd No user location found, attempting auto-detection..."),setTimeout((()=>{X()}),1e3)),()=>{H.current=!1,q.current=!1}}),[p.isAuthenticated,null===(t=p.user)||void 0===t?void 0:t._id]),(0,s.useEffect)((()=>{var e;if(!p.isAuthenticated||null===(e=p.user)||void 0===e||!e._id)return;console.log("\ud83d\udd0c Setting up socket connection for user:",p.user._id),jm.connect(),jm.joinBuyerRoom(p.user._id);return jm.onOrderStatusUpdate((e=>{console.log("\ud83d\udce6 Order status update received:",e),A((t=>t.map((t=>t._id===e._id?{...t,status:e.status}:t)))),Bt.info(`Order ${e.orderNumber} status updated to ${e.status}`),"Cancelled"===e.status&&Bt.warning(`Order #${e.orderNumber} has been cancelled`),Q()})),jm.onNewOrder((e=>{console.log("\ud83c\udf89 New order received:",e),A((t=>[...t,e])),Bt.success(`New order ${e.orderNumber} received!`),Q()})),()=>{console.log("\ud83e\uddf9 Cleaning up socket connection"),jm.removeListener("order-status-update"),jm.removeListener("new-order"),jm.disconnect()}}),[null===(r=p.user)||void 0===r?void 0:r._id,Q]);const J=e=>{var t,r;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.mainImage?e.shop.mainImage:null!==e&&void 0!==e&&null!==(r=e.shop)&&void 0!==r&&r.images&&e.shop.images.length>0?e.shop.images[0]:null},ee=(e,t)=>e.length<=t?e:e.substr(0,t)+"...",te=()=>{T((e=>!e))};return(0,s.useEffect)((()=>{0}),[x]),p.isAuthenticated?(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"user-dashboard pb-20 bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 min-h-screen",children:[(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white p-6 shadow-xl relative overflow-hidden",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"}),(0,Xt.jsxs)("div",{className:"container mx-auto relative z-10",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30",children:(0,Xt.jsx)("span",{className:"text-2xl font-bold",children:"Z"})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold tracking-wide",children:"Zammer"}),(0,Xt.jsx)("p",{className:"text-orange-100 text-sm",children:"Premium Marketplace"})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)(nt,{to:"/user/profile",className:"text-white/90 hover:text-white transition-colors",children:(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsx)("p",{className:"text-sm opacity-90",children:"Welcome back,"}),(0,Xt.jsx)("p",{className:"font-semibold",children:null===(n=p.user)||void 0===n?void 0:n.name})]})}),(0,Xt.jsx)("button",{onClick:()=>{g(),G("/user/login"),Bt.success("Logged out successfully")},className:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-white/30 transition-all duration-300 border border-white/30",children:"Logout"})]})]}),(null===(o=p.user)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.address)&&(0,Xt.jsxs)("div",{className:"mt-4 flex items-center text-white/90 text-sm bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 border border-white/20",children:[(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("span",{children:p.user.location.address})]})]})]}),null!==(i=p.user)&&void 0!==i&&null!==(l=i.location)&&void 0!==l&&l.address?(0,Xt.jsxs)("div",{className:"p-4 flex items-center justify-between text-sm text-gray-700 cursor-pointer hover:bg-gradient-to-r hover:from-orange-50 hover:to-pink-50 transition-all duration-300 group",onClick:X,children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mr-3 group-hover:scale-110 transition-transform duration-300",children:(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{className:"font-semibold text-gray-800",children:"Your Location"}),(0,Xt.jsx)("div",{className:"text-gray-600",children:p.user.location.address})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center text-orange-500",children:[U?(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-orange-500 mr-2"}):(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 group-hover:rotate-180 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"Refresh"})]})]}):(0,Xt.jsxs)("div",{className:"p-4 flex items-center justify-between text-sm cursor-pointer hover:bg-gradient-to-r hover:from-orange-50 hover:to-pink-50 transition-all duration-300 border-l-4 border-gradient-to-b border-orange-500 group",onClick:X,children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mr-3 group-hover:scale-110 transition-transform duration-300",children:(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Xt.jsx)("div",{children:U?(0,Xt.jsx)("span",{className:"font-semibold text-orange-600",children:"Detecting your location..."}):W?(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{className:"font-semibold text-red-600",children:"Location Error"}),(0,Xt.jsx)("div",{className:"text-red-500 text-xs",children:W})]}):(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("div",{className:"font-semibold text-gray-800",children:"Location not set"}),(0,Xt.jsx)("div",{className:"text-gray-600 text-xs",children:"Tap to detect your location for personalized recommendations"})]})})]}),!U&&(0,Xt.jsxs)("div",{className:"flex items-center bg-gradient-to-r from-orange-500 to-pink-500 text-white px-4 py-2 rounded-full text-sm font-medium hover:from-orange-600 hover:to-pink-600 transition-all duration-300",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Xt.jsx)("span",{children:"Detect"})]})]}),(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,Xt.jsxs)("div",{className:"flex justify-end items-center space-x-6 mb-8",children:[(0,Xt.jsxs)(nt,{to:"/user/my-orders",className:"flex flex-col items-center text-sm text-gray-700 hover:text-orange-500 transition-all duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-14 h-14 mx-auto mb-2 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 border border-blue-200",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-semibold",children:"My Orders"})]}),(0,Xt.jsxs)("button",{onClick:te,className:"flex flex-col items-center text-sm text-gray-700 hover:text-orange-500 transition-all duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-14 h-14 mx-auto mb-2 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 border border-green-200",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-semibold",children:"Live Tracking"})]}),(0,Xt.jsxs)(nt,{to:"/user/profile",className:"flex flex-col items-center text-sm text-gray-700 hover:text-orange-500 transition-all duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-14 h-14 mx-auto mb-2 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300 border border-purple-200",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-semibold",children:"My Profile"})]})]}),(0,Xt.jsx)("div",{className:"mb-8 bg-white rounded-3xl p-6 shadow-lg border border-gray-100",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-2",children:["Welcome back, ",(null===(c=p.user)||void 0===c?void 0:c.name)||"User","! \ud83c\udf89"]}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Discover amazing products from local sellers near you."})]}),(0,Xt.jsx)("div",{className:"hidden md:block w-20 h-20 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})]})}),(0,Xt.jsxs)("div",{className:"mb-10",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\u2728 Best Offers for You"}),(0,Xt.jsxs)(nt,{to:"/user/offers",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["View All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,Xt.jsx)("div",{className:"relative overflow-hidden rounded-2xl",children:(0,Xt.jsx)("div",{className:"flex overflow-x-auto pb-4 -mx-4 px-4 scrollbar-hide",children:b.length>0?b.map(((e,t)=>(0,Xt.jsx)("div",{className:"flex-shrink-0 w-3/4 mr-6",style:{minWidth:"280px"},children:(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-yellow-100 via-yellow-200 to-orange-100 rounded-2xl overflow-hidden h-44 relative shadow-lg hover:shadow-xl transition-all duration-300 group border border-yellow-200",children:[(0,Xt.jsxs)("div",{className:"p-6 flex flex-col justify-between h-full relative z-10",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white text-xs px-3 py-1.5 rounded-full font-semibold shadow-md",children:"SPECIAL OFFER"}),(0,Xt.jsx)("h3",{className:"font-bold mt-3 text-gray-800 text-lg",children:e.name})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("p",{className:"text-gray-700 text-sm font-medium mb-2",children:["Up to ",Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% off"]}),(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"inline-block bg-white text-orange-600 px-4 py-2 rounded-full text-sm font-bold hover:bg-orange-50 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105",children:"Shop Now \u2192"})]})]}),e.images&&e.images.length>0&&(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"absolute right-4 bottom-4 h-32 object-cover rounded-xl group-hover:scale-110 transition-transform duration-300",style:{maxWidth:"40%"}}),(0,Xt.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -translate-y-16 translate-x-16"}),(0,Xt.jsx)("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-orange-300/30 rounded-full -translate-y-10 -translate-x-10"})]})},e._id))):(0,Xt.jsx)("div",{className:"flex-shrink-0 w-3/4 mr-6",style:{minWidth:"280px"},children:(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-yellow-100 via-yellow-200 to-orange-100 rounded-2xl overflow-hidden h-44 relative shadow-lg border border-yellow-200",children:(0,Xt.jsxs)("div",{className:"p-6 flex flex-col justify-between h-full",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white text-xs px-3 py-1.5 rounded-full font-semibold",children:"SPRING FASHION"}),(0,Xt.jsx)("h3",{className:"font-bold mt-3 text-gray-800 text-lg",children:"Spring Collection"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-gray-700 text-sm font-medium mb-2",children:"Up to 50% off"}),(0,Xt.jsx)(nt,{to:"/user/shop",className:"inline-block bg-white text-orange-600 px-4 py-2 rounded-full text-sm font-bold hover:bg-orange-50 transition-all duration-300 shadow-md",children:"Shop Now \u2192"})]})]})})})})})]}),(0,Xt.jsxs)("div",{className:"mb-10",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83d\udecd\ufe0f Fashion Categories"}),(0,Xt.jsxs)(nt,{to:"/user/categories",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["See All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Xt.jsx)(nt,{to:"/user/categories/men",className:"category-card group",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-blue-100 group-hover:border-blue-200 group-hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("span",{className:"text-sm font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300",children:"Men"})]})}),(0,Xt.jsx)(nt,{to:"/user/categories/women",className:"category-card group",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-pink-100 group-hover:border-pink-200 group-hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-pink-100 to-pink-200 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-pink-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("span",{className:"text-sm font-bold text-gray-800 group-hover:text-pink-600 transition-colors duration-300",children:"Women"})]})}),(0,Xt.jsx)(nt,{to:"/user/categories/kids",className:"category-card group",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-green-100 group-hover:border-green-200 group-hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("span",{className:"text-sm font-bold text-gray-800 group-hover:text-green-600 transition-colors duration-300",children:"Kids"})]})}),(0,Xt.jsx)(nt,{to:"/user/categories/all",className:"category-card group",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-2xl p-4 text-center shadow-lg hover:shadow-xl transition-all duration-300 border border-purple-100 group-hover:border-purple-200 group-hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl flex items-center justify-center group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),(0,Xt.jsx)("span",{className:"text-sm font-bold text-gray-800 group-hover:text-purple-600 transition-colors duration-300",children:"All"})]})})]})]}),(0,Xt.jsxs)("div",{className:"mb-10",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\ud83c\udfea Nearby Shops"}),(0,Xt.jsxs)(nt,{to:"/user/nearby-shops",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["See All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),S?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-200 border-t-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Finding amazing shops near you..."})]})}):w.length>0?(0,Xt.jsx)("div",{className:"overflow-x-auto -mx-4 px-4",children:(0,Xt.jsx)("div",{className:"flex space-x-6",children:w.map((e=>{var t,r,s,n,o,a,i,l;return(0,Xt.jsxs)("div",{className:"flex-shrink-0 w-72 rounded-2xl overflow-hidden shadow-lg border border-gray-200 bg-white hover:shadow-xl transition-all duration-300 group hover:scale-105",children:[(0,Xt.jsxs)("div",{className:"h-40 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[J(e)?(0,Xt.jsx)("img",{src:J(e),alt:(null===(t=e.shop)||void 0===t?void 0:t.name)||"Shop",className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>{console.log("\u274c Shop image failed to load:",J(e)),t.target.style.display="none",t.target.nextSibling.style.display="flex"}}):null,(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-orange-100 via-orange-200 to-pink-100 "+(J(e)?"hidden":"flex"),children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-white/80 rounded-full flex items-center justify-center mx-auto mb-2 shadow-lg",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-sm text-orange-700 font-bold",children:null===(r=e.shop)||void 0===r?void 0:r.name})]})}),(0,Xt.jsxs)("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1.5 flex items-center space-x-1 text-sm shadow-lg border border-white/50",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,Xt.jsx)("span",{className:"font-bold",children:(null===(s=e.averageRating)||void 0===s?void 0:s.toFixed(1))||"0.0"}),(0,Xt.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",e.numReviews||0,")"]})]}),(null===(n=e.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)>1&&(0,Xt.jsxs)("div",{className:"absolute bottom-3 left-3 bg-black/70 text-white px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm",children:["+",e.shop.images.length-1," more"]})]}),(0,Xt.jsxs)("div",{className:"p-4",children:[(0,Xt.jsx)("h3",{className:"font-bold text-gray-800 truncate text-lg mb-1",children:(null===(a=e.shop)||void 0===a?void 0:a.name)||"Shop Name"}),e.distanceText&&(0,Xt.jsxs)("div",{className:"text-green-600 text-xs font-semibold mb-2 flex items-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.distanceText]}),(0,Xt.jsxs)("p",{className:"text-sm text-orange-600 font-medium mb-2",children:[(null===(i=e.shop)||void 0===i?void 0:i.category)||"Fashion"," Fashion"]}),(null===(l=e.shop)||void 0===l?void 0:l.description)&&(0,Xt.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 leading-relaxed",children:ee(e.shop.description,80)}),(0,Xt.jsx)(nt,{to:`/user/shop/${e._id}`,className:"block text-center bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white py-3 rounded-xl text-sm font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Explore Shop \u2192"})]})]},e._id)}))})}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl border-2 border-dashed border-gray-300",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Nearby Shops Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:null!==(d=p.user)&&void 0!==d&&null!==(u=d.location)&&void 0!==u&&u.address?"We couldn't find any shops in your area yet. Check back soon!":"Please set your location to discover amazing shops around you."}),!(null!==(m=p.user)&&void 0!==m&&null!==(h=m.location)&&void 0!==h&&h.address)&&(0,Xt.jsx)("button",{onClick:X,disabled:U,className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white px-8 py-3 rounded-full font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:transform-none",children:U?(0,Xt.jsxs)("span",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Detecting..."]}):"Detect My Location \ud83d\udccd"})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\u2b50 Featured Products"}),(0,Xt.jsxs)(nt,{to:"/user/products",className:"text-orange-500 hover:text-orange-600 font-medium text-sm flex items-center group",children:["See All",(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),N?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-200 border-t-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Loading amazing products..."})]})}):x.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-2 gap-6",children:x.slice(0,4).map((e=>(0,Xt.jsxs)("div",{className:"product-card border border-gray-200 rounded-2xl overflow-hidden shadow-lg bg-white hover:shadow-xl transition-all duration-300 group hover:scale-105",children:[(0,Xt.jsxs)("div",{className:"relative h-48 bg-gradient-to-br from-gray-100 to-gray-200",children:[e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",onLoad:t=>{console.log(`\u2705 Image loaded successfully: ${e.name} - ${t.target.src.substring(0,50)}...`)},onError:t=>{var r;console.error(`\u274c Image failed to load: ${e.name} - ${t.target.src}`),console.error("\ud83d\udd0d Debugging info:",{originalSrc:t.target.src,productName:e.name,imageIndex:0,totalImages:(null===(r=e.images)||void 0===r?void 0:r.length)||0,allImages:e.images})}}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Xt.jsx)("span",{className:"text-sm",children:"No image available"}),!1]})}),(0,Xt.jsx)("button",{className:"absolute top-3 right-3 w-8 h-8 bg-white/90 backdrop-blur-sm rounded-full flex items-center justify-center text-gray-400 hover:text-red-500 hover:bg-white transition-all duration-300 shadow-lg",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,Xt.jsxs)("div",{className:"p-4",children:[(0,Xt.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:ee(e.name,30)}),(0,Xt.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("span",{className:"text-orange-600 font-bold text-lg",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-gray-400 text-sm line-through ml-2",children:["\u20b9",e.mrp]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("div",{className:"text-green-600 text-sm font-semibold",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% off"]})]})}),(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"block text-center bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white py-2.5 rounded-xl text-sm font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"View Details \u2192"})]})]},e._id)))}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 font-medium",children:"No products available at the moment."})]})]}),M&&(0,Xt.jsx)("div",{className:"mb-8 mt-10",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center p-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:[(0,Xt.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,Xt.jsx)("span",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),"Live Order Tracking"]}),(0,Xt.jsx)("button",{onClick:te,className:"w-8 h-8 bg-white rounded-full flex items-center justify-center text-gray-500 hover:text-gray-700 hover:bg-gray-50 transition-all duration-300 shadow-md",children:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Xt.jsx)("div",{className:"p-6",children:(0,Xt.jsx)(th,{orders:O})})]})})]})]})}):(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-orange-50 via-rose-50 to-pink-50",children:(0,Xt.jsxs)("div",{className:"text-center bg-white p-8 rounded-3xl shadow-2xl border border-orange-100 max-w-sm mx-4",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-orange-600 to-pink-600 bg-clip-text text-transparent",children:"Welcome Back!"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"Please log in to access your personalized dashboard"}),(0,Xt.jsx)(nt,{to:"/user/login",className:"inline-block bg-gradient-to-r from-orange-500 to-pink-500 text-white px-8 py-3 rounded-full font-semibold hover:from-orange-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Go to Login"})]})})})},ih=()=>{const e=localStorage.getItem("userToken"),t=localStorage.getItem("userData");if(!e||!(e=>{if(!e||"string"!==typeof e)return!1;try{const t=e.split(".");return 3===t.length&&t.every((e=>e.length>0))}catch(t){return!1}})(e)||!t)return{isAuthenticated:!1,error:"Please login to manage your wishlist"};try{return{isAuthenticated:!0,user:JSON.parse(t)}}catch(r){return localStorage.removeItem("userToken"),localStorage.removeItem("userData"),{isAuthenticated:!1,error:"Session data corrupted. Please login again."}}},lh=async e=>{try{const t=ih();if(!t.isAuthenticated)return{success:!1,message:t.error,requiresAuth:!0};const r=await Nn.post("/users/wishlist",{productId:e});return r.data.message,{success:!0,message:r.data.message||"Added to wishlist"}}catch(h){var t,r,s,n,o,a,i,l;if(null===(t=h.response)||void 0===t||t.status,(null===(r=h.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||h.message,null===(n=h.response)||void 0===n||null===(o=n.data)||void 0===o||o.code,401===(null===(a=h.response)||void 0===a?void 0:a.status)){var c,d,u,m;return(null===(c=h.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(h.response.data.code)&&(h.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(u=h.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||"Please login to add items to wishlist",requiresAuth:!0}}return{success:!1,message:(null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to add to wishlist"}}},ch=async e=>{try{const t=ih();if(!t.isAuthenticated)return{success:!1,message:t.error,requiresAuth:!0};const r=await Nn.delete(`/users/wishlist/${e}`);return r.data.message,{success:!0,message:r.data.message||"Removed from wishlist"}}catch(h){var t,r,s,n,o,a,i,l;if(null===(t=h.response)||void 0===t||t.status,(null===(r=h.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||h.message,null===(n=h.response)||void 0===n||null===(o=n.data)||void 0===o||o.code,401===(null===(a=h.response)||void 0===a?void 0:a.status)){var c,d,u,m;return(null===(c=h.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(h.response.data.code)&&(h.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(u=h.response)||void 0===u||null===(m=u.data)||void 0===m?void 0:m.message)||"Please login to remove items from wishlist",requiresAuth:!0}}return{success:!1,message:(null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Failed to remove from wishlist"}}},dh=async e=>{try{const t=ih();if(!t.isAuthenticated)return{success:!0,data:{isInWishlist:!1},requiresAuth:!0};const r=await Nn.get(`/users/wishlist/check/${e}`);return r.data.data.isInWishlist,{success:!0,data:r.data.data}}catch(m){var t,r,s,n,o,a,i,l,c;if(null===(t=m.response)||void 0===t||t.status,(null===(r=m.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||m.message,null===(n=m.response)||void 0===n||null===(o=n.data)||void 0===o||o.code,401===(null===(a=m.response)||void 0===a?void 0:a.status)){var d,u;(null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(m.response.data.code)&&(m.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData"))}return{success:!0,data:{isInWishlist:!1},message:(null===(i=m.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||"Unable to check wishlist status",requiresAuth:401===(null===(c=m.response)||void 0===c?void 0:c.status)}}},uh=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)({}),i=re();(0,s.useEffect)((()=>{l()}),[]);const l=async()=>{n(!0);try{const r=await $d({page:1,limit:20,discount:!0,status:"active"});if(r.success){t(r.data);const s={};for(const t of r.data)try{const e=await dh(t._id);s[t._id]=e.data.isInWishlist}catch(e){s[t._id]=!1}a(s)}else Bt.error(r.message||"Failed to fetch offer products")}catch(e){console.error("Error fetching offer products:",e),Bt.error("Something went wrong fetching offers")}finally{n(!1)}};return(0,Xt.jsxs)("div",{className:"shop-offers-page pb-16",children:[(0,Xt.jsxs)("div",{className:"bg-white p-4 border-b flex items-center",children:[(0,Xt.jsx)("button",{onClick:()=>i(-1),className:"mr-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsx)("h1",{className:"text-base font-medium",children:"Shop offers"})]}),(0,Xt.jsx)("div",{className:"p-4",children:r?(0,Xt.jsx)("div",{className:"flex justify-center py-8",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):e.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.map((e=>(0,Xt.jsxs)("div",{className:"border rounded-lg overflow-hidden bg-white",children:[(0,Xt.jsxs)(nt,{to:`/user/product/${e._id}`,className:"block relative h-48 bg-gray-200",children:[e.images&&e.images[0]?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"h-full w-full object-cover"}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:"No image"}),(0,Xt.jsx)("button",{className:"absolute top-2 right-2 z-10",onClick:t=>{t.preventDefault(),t.stopPropagation(),(async e=>{try{o[e]?(await ch(e),a({...o,[e]:!1}),Bt.success("Removed from wishlist")):(await lh(e),a({...o,[e]:!0}),Bt.success("Added to wishlist"))}catch(t){Bt.error("Failed to update wishlist")}})(e._id)},children:o[e._id]?(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,Xt.jsx)("div",{className:"p-3",children:(0,Xt.jsxs)(nt,{to:`/user/product/${e._id}`,className:"block",children:[(0,Xt.jsx)("h3",{className:"font-medium text-sm text-gray-800",children:e.name}),(0,Xt.jsxs)("div",{className:"mt-1 flex items-center justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("span",{className:"text-orange-600 font-medium",children:["\u20b9",e.zammerPrice]}),(0,Xt.jsxs)("span",{className:"text-gray-500 text-xs line-through ml-1",children:["\u20b9",e.mrp]})]}),(0,Xt.jsxs)("span",{className:"text-green-600 text-xs",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% off"]})]})]})})]},e._id)))}):(0,Xt.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:(0,Xt.jsx)("p",{className:"text-gray-600",children:"No offers available right now."})})}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Limited Edition"})]})]})})]})},mh={Men:{title:"Men",description:"Find trendy, comfortable men fashion...",subCategories:[{id:"T-shirts",name:"T-shirts",image:"/placeholders/men-tshirts.jpg"},{id:"Shirts",name:"Shirts",image:"/placeholders/men-shirts.jpg"},{id:"Jeans",name:"Jeans",image:"/placeholders/men-jeans.jpg"},{id:"Ethnic Wear",name:"Ethnic Wear",image:"/placeholders/men-ethnic.jpg"},{id:"Jackets",name:"Jackets",image:"/placeholders/men-jackets.jpg"},{id:"Tops",name:"Tops",image:"/placeholders/men-tops.jpg"},{id:"Tees",name:"Tees",image:"/placeholders/men-tees.jpg"},{id:"Sleepwear",name:"Sleepwear",image:"/placeholders/men-sleepwear.jpg"},{id:"Top Wear",name:"Top Wear",image:"/placeholders/men-topwear.jpg"}]},Women:{title:"Women",description:"Find stylish, trendy fashion...",subCategories:[{id:"Kurties",name:"Kurties",image:"/placeholders/women-kurties.jpg"},{id:"Tops",name:"Tops",image:"/placeholders/women-tops.jpg"},{id:"Tees",name:"Tees",image:"/placeholders/women-tees.jpg"},{id:"Dresses",name:"Dresses",image:"/placeholders/women-dresses.jpg"},{id:"Jeans",name:"Jeans",image:"/placeholders/women-jeans.jpg"},{id:"Nightwear",name:"Nightwear",image:"/placeholders/women-nightwear.jpg"},{id:"Sleepwear",name:"Sleepwear",image:"/placeholders/women-sleepwear.jpg"},{id:"Lehengass",name:"Lehengass",image:"/placeholders/women-lehenga.jpg"},{id:"Rayon",name:"Rayon",image:"/placeholders/women-rayon.jpg"},{id:"Shrugs",name:"Shrugs",image:"/placeholders/women-shrugs.jpg"}]},Kids:{title:"Kids",description:"Find cute, comfortable kids styles...",subCategories:[{id:"T-shirts",name:"T-shirts",image:"/placeholders/kids-tshirts.jpg"},{id:"Shirts",name:"Shirts",image:"/placeholders/kids-shirts.jpg"},{id:"Boys Sets",name:"Boys Sets",image:"/placeholders/kids-boys.jpg"},{id:"Top Wear",name:"Top Wear",image:"/placeholders/kids-topwear.jpg"},{id:"Nightwear",name:"Nightwear",image:"/placeholders/kids-nightwear.jpg"},{id:"Sleepwear",name:"Sleepwear",image:"/placeholders/kids-sleepwear.jpg"}]}},hh=()=>{var e;const{category:t}=se(),[r,n]=(0,s.useState)([]),[o,a]=(0,s.useState)(!0),i=re();(0,s.useEffect)((()=>{a(!0);n((mh[t]||mh.Men).subCategories),a(!1)}),[t]);return(0,Xt.jsxs)("div",{className:"category-page pb-16 bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 min-h-screen",children:[(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white p-6 shadow-xl relative overflow-hidden",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"}),(0,Xt.jsxs)("div",{className:"container mx-auto relative z-10 flex items-center",children:[(0,Xt.jsx)("button",{onClick:()=>i(-1),className:"mr-4 p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold tracking-wide mb-1",children:(()=>{const e=mh[t];return e?e.title:"Categories"})()}),(0,Xt.jsx)("p",{className:"text-orange-100 text-sm",children:(null===(e=mh[t])||void 0===e?void 0:e.description)||"Explore products by category..."})]})]})]}),(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-8",children:o?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-200 border-t-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Loading categories..."})]})}):r.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:r.map((e=>(0,Xt.jsxs)(nt,{to:`/user/products?category=${t}&subCategory=${e.id}`,className:"relative rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group transform hover:scale-105",children:[(0,Xt.jsx)("div",{className:"h-40 bg-gray-200 relative overflow-hidden",children:(0,Xt.jsx)("img",{src:e.image||"/placeholders/default-category.jpg",alt:e.name,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-300"})}),(0,Xt.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-end justify-center p-4",children:(0,Xt.jsx)("div",{className:"text-white text-center w-full",children:(0,Xt.jsx)("h3",{className:"font-bold text-lg mb-1 truncate",children:e.name})})})]},e.id)))}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl border-2 border-dashed border-gray-300 shadow-lg",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("p",{className:"text-gray-600 font-medium",children:"No subcategories found for this category."})]})}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),(0,Xt.jsx)("span",{className:"text-xs",children:"Limited Edition"})]})]})})]})},ph=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=(new Date).toISOString(),n="SUCCESS"===t?"\u2705":"ERROR"===t?"\u274c":"\ud83d\udd04";console.log(`${n} [PRODUCT-LIST-FRONTEND] ${s} - ${e}`,r?JSON.stringify(r,null,2):"")},gh=()=>{var e;const{userAuth:t}=(0,s.useContext)(er),r=J(),n=re(),o=new URLSearchParams(r.search),a=o.get("category"),i=o.get("subcategory"),l=o.get("productCategory"),c=o.get("search"),[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)(!0),[p,g]=(0,s.useState)(1),[f,x]=(0,s.useState)(1),[v,b]=(0,s.useState)("newest"),[y,w]=(0,s.useState)({min:"",max:""}),[j,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)({}),C=(0,s.useRef)(!0),L=(0,s.useRef)(!1),E=(0,s.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!L.current&&C.current){L.current=!0,h(!0);try{var r;ph("PRODUCT_FETCH_START","PROCESSING",{category:a,subcategory:i,productCategory:l,search:c,page:e,sortBy:v,priceRange:y}),console.log(`\n\ud83d\udecd\ufe0f ===============================\n   FETCHING FILTERED PRODUCTS\n===============================\n\ud83d\udcc2 Category: ${a||"All"}\n\ud83d\udcc1 Subcategory: ${i||"All"}\n\ud83c\udff7\ufe0f Product Category: ${l||"All"}\n\ud83d\udd0d Search: ${c||"None"}\n\ud83d\udcc4 Page: ${e}\n\ud83d\udd22 Sort: ${v}\n\ud83d\udcb0 Price Range: ${y.min||0} - ${y.max||"\u221e"}\n\ud83d\udc64 User: ${(null===(r=t.user)||void 0===r?void 0:r.name)||"Guest"}\n\ud83d\udd50 Time: ${(new Date).toLocaleString()}\n===============================`);const s={page:e,limit:12,...a&&{category:a},...i&&{subCategory:i},...l&&{productCategory:l},...c&&{search:c},...y.min&&{minPrice:y.min},...y.max&&{maxPrice:y.max}};switch(v){case"price-low":s.sortBy="zammerPrice",s.sortOrder="asc";break;case"price-high":s.sortBy="zammerPrice",s.sortOrder="desc";break;case"popular":s.sortBy="views",s.sortOrder="desc";break;default:s.sortBy="createdAt",s.sortOrder="desc"}ph("API_CALL_PARAMS","PROCESSING",s),console.log("\ud83d\udcca Final API Parameters:",s);const n=await $d(s);ph("API_RESPONSE_RECEIVED","PROCESSING",{success:n.success,count:n.count,totalPages:n.totalPages,currentPage:n.currentPage}),n.success&&C.current?(u(n.data||[]),x(n.totalPages||1),g(n.currentPage||1),ph("PRODUCT_FETCH_SUCCESS","SUCCESS",{productsCount:(n.data||[]).length,totalPages:n.totalPages,currentPage:n.currentPage,filters:{category:a,subcategory:i,productCategory:l,search:c}}),console.log(`\n\u2705 ===============================\n   PRODUCTS FETCHED SUCCESSFULLY!\n===============================\n\ud83d\udce6 Products Found: ${(n.data||[]).length}\n\ud83d\udcc4 Current Page: ${n.currentPage||1}\n\ud83d\udccb Total Pages: ${n.totalPages||1}\n\ud83c\udfaf Filters Applied: ${Object.keys(s).length}\n\u23f1\ufe0f Fetch Time: ${(new Date).toLocaleString()}\n===============================`),n.data&&n.data.length>0&&console.log("\ud83d\udce6 First 3 Products:",n.data.slice(0,3).map((e=>({id:e._id,name:e.name,price:e.zammerPrice,category:e.category,subCategory:e.subCategory}))))):(ph("PRODUCT_FETCH_FAILED","ERROR",{message:n.message,success:n.success}),console.log(`\u274c Product fetch failed: ${n.message}`),Bt.error(n.message||"Failed to fetch products"))}catch(s){ph("PRODUCT_FETCH_ERROR","ERROR",{error:s.message,stack:s.stack}),console.error("\u274c Error fetching products:",s),Bt.error("Something went wrong while loading products")}finally{C.current&&h(!1),L.current=!1}}}),[a,i,l,c,v,y,null===(e=t.user)||void 0===e?void 0:e.name]);(0,s.useEffect)((()=>(C.current=!0,ph("COMPONENT_MOUNT","PROCESSING",{urlParams:{category:a,subcategory:i,productCategory:l,search:c},userAuthenticated:t.isAuthenticated,currentLocation:r.pathname+r.search}),E(1),()=>{C.current=!1,L.current=!1,ph("COMPONENT_UNMOUNT","PROCESSING")})),[E]);const P=e=>{e!==p&&e>=1&&e<=f&&(g(e),E(e),window.scrollTo({top:0,behavior:"smooth"}))},_=()=>{w({min:"",max:""}),b("newest"),g(1),n("/user/products")};return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"product-list-page pb-24 bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 min-h-screen",children:[(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white p-6 shadow-xl relative overflow-hidden",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"}),(0,Xt.jsx)("div",{className:"container mx-auto relative z-10",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsx)("button",{onClick:()=>n(-1),className:"mr-4 p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold tracking-wide mb-1",children:c?`Search Results: "${c}"`:a&&i?`${a} - ${i}`:a?`${a} Collection`:l||"All Products"}),(0,Xt.jsx)("div",{className:"flex flex-wrap gap-2",children:(()=>{const e=[];return a&&e.push(`Category: ${a}`),i&&e.push(`Type: ${i}`),l&&e.push(`Collection: ${l}`),c&&e.push(`Search: "${c}"`),(y.min||y.max)&&e.push(`Price: \u20b9${y.min||0} - \u20b9${y.max||"\u221e"}`),e})().map(((e,t)=>(0,Xt.jsx)("span",{className:"text-orange-100 text-xs bg-white/20 px-2 py-1 rounded-full",children:e},t)))})]}),(0,Xt.jsxs)("button",{onClick:()=>N(!0),className:"bg-white/20 text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-white/30 transition-all duration-300 border border-white/30",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.414A1 1 0 013 6.707V4z"})}),"Filters"]})]})})]}),(0,Xt.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200 p-4",children:(0,Xt.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,Xt.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",d.length," of ",12*f," products",p>1&&` (Page ${p} of ${f})`]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsxs)("select",{value:v,onChange:e=>{return t=e.target.value,b(t),void g(1);var t},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,Xt.jsx)("option",{value:"newest",children:"Newest First"}),(0,Xt.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,Xt.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,Xt.jsx)("option",{value:"popular",children:"Most Popular"})]}),(a||i||l||c||y.min||y.max)&&(0,Xt.jsx)("button",{onClick:_,className:"text-orange-500 hover:text-orange-600 text-sm font-medium",children:"Clear Filters"})]})]})}),(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-8",children:m?(0,Xt.jsx)("div",{className:"flex justify-center py-12 bg-white rounded-2xl shadow-lg",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-orange-200 border-t-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("span",{className:"text-gray-600 font-medium",children:"Loading products..."})]})}):d.length>0?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:d.map((e=>(0,Xt.jsxs)("div",{className:"product-card bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group hover:scale-105 border border-gray-100",children:[(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"block",children:(0,Xt.jsxs)("div",{className:"h-48 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:e=>{e.target.src="/placeholder-product.jpg"}}):(0,Xt.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Xt.jsx)("span",{className:"text-sm",children:"No image"})]})}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("div",{className:"absolute top-3 left-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white text-xs px-2 py-1 rounded-full font-bold",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% OFF"]}),(0,Xt.jsx)("div",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm text-orange-600 text-xs px-2 py-1 rounded-full font-medium",children:e.subCategory||e.category})]})}),(0,Xt.jsxs)("div",{className:"p-4",children:[(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,children:(0,Xt.jsx)("h3",{className:"font-bold text-gray-800 mb-2 line-clamp-2 hover:text-orange-600 transition-colors duration-300",children:e.name})}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("span",{className:"text-orange-600 font-bold text-lg",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-gray-400 text-sm line-through ml-2",children:["\u20b9",e.mrp]})]}),e.seller&&(0,Xt.jsx)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:e.seller.firstName||"Seller"})]}),(0,Xt.jsx)("button",{onClick:s=>{s.preventDefault(),(async(e,s)=>{var o;if(ph("ADD_TO_CART_START","PROCESSING",{productId:e,productName:s,userAuth:{isAuthenticated:t.isAuthenticated,hasToken:!!t.token,userName:null===(o=t.user)||void 0===o?void 0:o.name}}),!t.isAuthenticated||!t.token)return ph("ADD_TO_CART_AUTH_FAILED","ERROR",{reason:"User not authenticated",productId:e,redirectTo:"/user/login"}),console.log(`\n\ud83d\udd12 ===============================\n   AUTHENTICATION REQUIRED!\n===============================\n\ud83d\udce6 Product: ${s}\n\ud83d\udeaa Redirecting to: /user/login\n\u26a0\ufe0f Reason: User not authenticated\n\ud83d\udd50 Time: ${(new Date).toLocaleString()}\n===============================`),Bt.warning("Please login to add items to cart"),void n("/user/login",{state:{from:r.pathname+r.search,action:"add-to-cart",productName:s}});S((t=>({...t,[e]:!0})));try{var a,i;ph("CART_SERVICE_CALL","PROCESSING",{productId:e,quantity:1,user:null===(a=t.user)||void 0===a?void 0:a.name}),console.log(`\n\ud83d\uded2 ===============================\n   ADDING TO CART...\n===============================\n\ud83d\udce6 Product: ${s}\n\ud83d\udd22 Product ID: ${e}\n\ud83d\udcca Quantity: 1\n\ud83d\udc64 User: ${null===(i=t.user)||void 0===i?void 0:i.name}\n\u23f1\ufe0f Time: ${(new Date).toLocaleString()}\n===============================`);const o=await oh.addToCart(e,1);var l;ph("CART_SERVICE_RESPONSE","PROCESSING",{success:o.success,message:o.message,requiresAuth:o.requiresAuth}),o.success?(ph("ADD_TO_CART_SUCCESS","SUCCESS",{productId:e,productName:s,cartData:o.data}),console.log(`\n\u2705 ===============================\n   ADDED TO CART SUCCESSFULLY!\n===============================\n\ud83d\udce6 Product: ${s}\n\ud83d\udc64 User: ${null===(l=t.user)||void 0===l?void 0:l.name}\n\ud83d\uded2 Cart Updated: \u2705\n\ud83d\udd50 Time: ${(new Date).toLocaleString()}\n===============================`),Bt.success(`${s} added to cart!`)):(ph("ADD_TO_CART_FAILED","ERROR",{productId:e,message:o.message,requiresAuth:o.requiresAuth}),o.requiresAuth?(console.log("\ud83d\udd11 Re-authentication required, redirecting..."),n("/user/login",{state:{from:r.pathname+r.search,action:"add-to-cart",productName:s}})):Bt.error(o.message||"Failed to add to cart"))}catch(c){ph("ADD_TO_CART_ERROR","ERROR",{productId:e,error:c.message,stack:c.stack}),console.error("\u274c Error adding to cart:",c),Bt.error("Something went wrong while adding to cart")}finally{S((t=>({...t,[e]:!1})))}})(e._id,e.name)},disabled:k[e._id],className:"w-full py-2 rounded-xl text-sm font-bold transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 "+(k[e._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white"),children:k[e._id]?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-500 border-t-transparent mr-2"}),"Adding..."]}):"\ud83d\uded2 Add to Cart"})]})]},e._id)))}),f>1&&(0,Xt.jsx)("div",{className:"flex justify-center mt-12 bg-white rounded-2xl shadow-lg p-6",children:(0,Xt.jsxs)("div",{className:"flex space-x-2",children:[(0,Xt.jsx)("button",{onClick:()=>P(p-1),disabled:1===p,className:"px-4 py-2 rounded-xl font-medium transition-all duration-300 "+(1===p?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-pink-500 text-white hover:from-orange-600 hover:to-pink-600 shadow-md hover:shadow-lg transform hover:scale-105"),children:"Previous"}),Array.from({length:Math.min(5,f)},((e,t)=>{let r;return r=f<=5||p<=3?t+1:p>=f-2?f-4+t:p-2+t,(0,Xt.jsx)("button",{onClick:()=>P(r),className:"px-4 py-2 rounded-xl font-medium transition-all duration-300 "+(p===r?"bg-gradient-to-r from-orange-500 to-pink-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gradient-to-r hover:from-orange-100 hover:to-pink-100 hover:text-orange-600"),children:r},r)})),(0,Xt.jsx)("button",{onClick:()=>P(p+1),disabled:p===f,className:"px-4 py-2 rounded-xl font-medium transition-all duration-300 "+(p===f?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-pink-500 text-white hover:from-orange-600 hover:to-pink-600 shadow-md hover:shadow-lg transform hover:scale-105"),children:"Next"})]})})]}):(0,Xt.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border-2 border-dashed border-gray-300",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Products Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:a||i||c?"We couldn't find any products matching your criteria.":"No products are available at the moment."}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(a||i||l||c||y.min||y.max)&&(0,Xt.jsx)("button",{onClick:_,className:"bg-gradient-to-r from-orange-500 to-pink-500 hover:from-orange-600 hover:to-pink-600 text-white px-6 py-3 rounded-full font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:"Clear All Filters"}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block bg-white border-2 border-orange-500 text-orange-500 hover:bg-gradient-to-r hover:from-orange-50 hover:to-pink-50 px-6 py-3 rounded-full font-bold transition-all duration-300 transform hover:scale-105",children:"Browse All Categories"})]})]})}),j&&(0,Xt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end justify-center p-4",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>N(!1)}),(0,Xt.jsxs)("div",{className:"relative bg-white rounded-t-3xl p-6 w-full max-w-md shadow-2xl",children:[(0,Xt.jsx)("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-gray-300 rounded-full"}),(0,Xt.jsx)("h2",{className:"text-center font-bold text-xl mb-6 text-gray-800",children:"\ud83d\udd0d Filter Products"}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Price Range"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Xt.jsx)("input",{type:"number",placeholder:"Min Price",value:y.min,onChange:e=>w((t=>({...t,min:e.target.value}))),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"}),(0,Xt.jsx)("input",{type:"number",placeholder:"Max Price",value:y.max,onChange:e=>w((t=>({...t,max:e.target.value}))),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Sort By"}),(0,Xt.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",children:[(0,Xt.jsx)("option",{value:"newest",children:"Newest First"}),(0,Xt.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,Xt.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,Xt.jsx)("option",{value:"popular",children:"Most Popular"})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Xt.jsx)("button",{onClick:()=>N(!1),className:"bg-gray-100 text-gray-600 py-3 rounded-xl font-bold hover:bg-gray-200 transition-all duration-300",children:"Cancel"}),(0,Xt.jsx)("button",{onClick:()=>{g(1),E(1),N(!1)},className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white py-3 rounded-xl font-bold hover:from-orange-600 hover:to-pink-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Apply Filters"})]})]})]}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 z-50 shadow-2xl",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-bold",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Limited"})]})]})})]})})},fh=()=>{const{productId:e}=se(),t=re(),{userAuth:r}=(0,s.useContext)(er),[n,o]=(0,s.useState)(null),[a,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[j,N]=(0,s.useState)([]),[k,S]=(0,s.useState)(!1),[C,L]=(0,s.useState)(!1),[E,P]=(0,s.useState)(!1),[_,M]=(0,s.useState)({rating:5,review:""}),[T,O]=(0,s.useState)(!1);(0,s.useEffect)((()=>{var e;R(),r.isAuthenticated&&r.token&&(D(),I()),r.isAuthenticated,null===(e=r.user)||void 0===e||e.name}),[e,r.isAuthenticated]);const A=()=>{var s,n,o;return r.isAuthenticated,r.token,r.user,null===(s=r.user)||void 0===s||s.name,r.isAuthenticated&&r.token?(null===(n=r.user)||void 0===n||n.name,null===(o=r.user)||void 0===o||o._id,!0):(r.isAuthenticated,Bt.warning("Please login to continue"),t("/user/login",{state:{from:`/user/product/${e}`}}),!1)},R=async()=>{i(!0);try{const n=await Fd(e);var r,s;if(n.success){if(o(n.data),n.data.name,null===(r=n.data.variants)||void 0===r||r.length,null===(s=n.data.variants)||void 0===s||s.length,n.data.variants&&n.data.variants.length>0){const e=n.data.variants[0];u(e.size||""),h(e.color||""),e.size,e.color}}else Bt.error(n.message||"Failed to fetch product details"),t("/user/dashboard")}catch(n){console.error("Error fetching product details:",n),Bt.error("Something went wrong while loading product"),t("/user/dashboard")}finally{i(!1)}},D=async()=>{if(r.isAuthenticated&&r.token){x(!0);try{const t=await dh(e);t.success?g(t.data.isInWishlist):(console.log("Wishlist check failed:",t.message),g(!1))}catch(t){console.error("Error checking wishlist status:",t),g(!1)}finally{x(!1)}}else g(!1)},I=async()=>{try{const t=await zm(e);t.success&&L(t.data.canReview)}catch(t){console.error("Error checking review eligibility:",t)}},z=e=>{const t=window.location.href,r=`Check out ${n.name} on Zammer!`;switch(e){case"whatsapp":window.open(`https://wa.me/?text=${encodeURIComponent(r+" "+t)}`);break;case"facebook":window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`);break;case"twitter":window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(t)}`);break;default:if(navigator.clipboard)navigator.clipboard.writeText(t),Bt.success("Link copied to clipboard!");else{const e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Bt.success("Link copied to clipboard!")}}b(!1)};return a?(0,Xt.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25",children:(0,Xt.jsxs)("div",{className:"text-center bg-white p-8 rounded-3xl shadow-2xl border border-orange-100",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-6",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-200 border-t-orange-500"})}),(0,Xt.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading product details..."}),(0,Xt.jsx)("div",{className:"mt-4 w-32 h-2 bg-gray-200 rounded-full mx-auto overflow-hidden",children:(0,Xt.jsx)("div",{className:"h-full bg-gradient-to-r from-orange-500 to-pink-500 rounded-full animate-pulse"})})]})}):n?(0,Xt.jsxs)("div",{className:"product-detail-page pb-24 bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 min-h-screen",children:[!1,(0,Xt.jsxs)("div",{className:"relative bg-white shadow-lg",children:[(0,Xt.jsxs)("div",{className:"h-96 bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[n.images&&n.images.length>0?(0,Xt.jsx)("img",{src:n.images[l],alt:n.name,className:"h-full w-full object-contain transition-all duration-500 hover:scale-105",onError:e=>{e.target.src="/placeholder-product.jpg"}}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400 bg-gradient-to-br from-gray-100 to-gray-200",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-white/80 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Xt.jsx)("p",{className:"font-medium",children:"No image available"})]})}),(0,Xt.jsx)("button",{onClick:()=>t(-1),className:"absolute top-6 left-6 bg-white/95 backdrop-blur-sm p-3 rounded-2xl shadow-lg hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-200 group",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 group-hover:text-orange-500 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsx)("button",{onClick:()=>b(!0),className:"absolute top-6 right-6 bg-white/95 backdrop-blur-sm p-3 rounded-2xl shadow-lg hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-200 group",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 group-hover:text-blue-500 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),(0,Xt.jsx)("button",{onClick:async()=>{if(A()){x(!0);try{if(p){const t=await ch(e);t.success?(g(!1),Bt.success("Removed from wishlist")):t.requiresAuth?A():Bt.error(t.message||"Failed to remove from wishlist")}else{const t=await lh(e);t.success?(g(!0),Bt.success("Added to wishlist")):t.requiresAuth?A():Bt.error(t.message||"Failed to add to wishlist")}}catch(t){console.error("Error toggling wishlist:",t),Bt.error("Failed to update wishlist")}finally{x(!1)}}},disabled:f,className:"absolute top-6 right-20 bg-white/95 backdrop-blur-sm p-3 rounded-2xl shadow-lg disabled:opacity-50 hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-200 group",children:f?(0,Xt.jsx)("div",{className:"animate-spin h-6 w-6 border-2 border-gray-300 border-t-orange-500 rounded-full"}):p?(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-600 group-hover:text-red-500 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),n.images&&n.images.length>1&&(0,Xt.jsx)("div",{className:"flex space-x-3 p-6 overflow-x-auto bg-white",children:n.images.map(((e,t)=>(0,Xt.jsx)("button",{onClick:()=>c(t),className:"flex-shrink-0 w-20 h-20 rounded-2xl overflow-hidden border-2 transition-all duration-300 shadow-md hover:shadow-lg "+(l===t?"border-orange-500 shadow-orange-200":"border-transparent hover:border-gray-300"),children:(0,Xt.jsx)("img",{src:e,alt:`${n.name} - ${t+1}`,className:"w-full h-full object-cover",onError:e=>{e.target.src="/placeholder-product.jpg"}})},t)))}),n.images&&n.images.length>1&&(0,Xt.jsx)("div",{className:"absolute bottom-6 left-0 right-0 flex justify-center",children:(0,Xt.jsx)("div",{className:"flex space-x-2 bg-black/20 backdrop-blur-sm rounded-full px-4 py-2",children:n.images.map(((e,t)=>(0,Xt.jsx)("button",{onClick:()=>c(t),className:"h-2 w-2 rounded-full transition-all duration-300 "+(l===t?"bg-white w-6":"bg-white/60 hover:bg-white/80")},t)))})})]}),(0,Xt.jsxs)("div",{className:"p-6 bg-white mt-4 mx-4 rounded-3xl shadow-lg border border-gray-100",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-2",children:n.name}),(0,Xt.jsx)("div",{className:"inline-block bg-gradient-to-r from-orange-100 to-pink-100 text-orange-700 text-xs px-3 py-1 rounded-full font-semibold uppercase tracking-wide",children:n.category})]}),(0,Xt.jsx)("div",{className:"flex items-center bg-gradient-to-r from-yellow-50 to-yellow-100 px-3 py-2 rounded-2xl border border-yellow-200",children:(0,Xt.jsx)(Fm,{rating:n.averageRating||4.6})})]}),(0,Xt.jsx)("div",{className:"mb-6 bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-2xl border border-green-200",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsxs)("span",{className:"text-3xl font-bold text-green-700",children:["\u20b9",n.zammerPrice]}),n.mrp>n.zammerPrice&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("span",{className:"text-gray-500 text-lg line-through",children:["\u20b9",n.mrp]}),(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm px-3 py-1 rounded-full font-bold",children:[Math.round((n.mrp-n.zammerPrice)/n.mrp*100),"% OFF"]})]})]})}),(0,Xt.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:n.description})}),n.variants&&n.variants.some((e=>e.size))&&(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("p",{className:"text-lg font-bold mb-4 text-gray-800",children:"Select Size:"}),(0,Xt.jsx)("div",{className:"flex flex-wrap gap-3",children:Array.from(new Set(n.variants.map((e=>e.size)).filter(Boolean))).map((e=>(0,Xt.jsx)("button",{onClick:()=>u(e),className:"h-12 w-12 rounded-2xl flex items-center justify-center text-sm font-bold transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 "+(d===e?"bg-gradient-to-r from-orange-500 to-pink-500 text-white shadow-orange-200":"bg-white text-gray-800 hover:bg-gradient-to-r hover:from-orange-100 hover:to-pink-100 border border-gray-200"),children:e},e)))})]}),n.variants&&n.variants.some((e=>e.color))&&(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("p",{className:"text-lg font-bold mb-4 text-gray-800",children:"Select Color:"}),(0,Xt.jsx)("div",{className:"flex flex-wrap gap-3",children:Array.from(new Set(n.variants.map((e=>e.color)).filter(Boolean))).map(((e,t)=>{const r=n.variants.find((t=>t.color===e)),s=(null===r||void 0===r?void 0:r.colorCode)||"#000000";return(0,Xt.jsx)("button",{onClick:()=>h(e),className:"h-12 w-12 rounded-2xl transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 "+(m===e?"ring-4 ring-orange-500 ring-offset-2 shadow-orange-200":"hover:ring-2 hover:ring-gray-300 hover:ring-offset-1"),style:{backgroundColor:s},title:e,children:m===e&&(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white drop-shadow-lg",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})},t)}))})]}),(0,Xt.jsx)("div",{className:"mb-8 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-200",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Xt.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm font-bold text-blue-800",children:"Composition"}),(0,Xt.jsx)("p",{className:"text-blue-700",children:n.composition||"Cotton 100%"})]})]})}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xt.jsx)("button",{onClick:async()=>{var t;if(r.isAuthenticated,r.token,null===(t=r.user)||void 0===t||t.name,A()){if(n.variants&&n.variants.length>0){const e=n.variants.some((e=>e.size)),t=n.variants.some((e=>e.color));if(n.variants,e&&!d)return void Bt.warning("Please select a size");if(t&&!m)return void Bt.warning("Please select a color")}w(!0);try{const t=await oh.addToCart(e,1,{size:d,color:m});t.success?(t.message,t.data,Bt.success("Product added to cart")):(t.message,t.requiresAuth,t.details,t.requiresAuth?A():Bt.error(t.message||"Failed to add to cart"))}catch(s){s.message,s.stack,console.error("Error adding to cart:",s),Bt.error("Something went wrong while adding to cart")}finally{w(!1)}}},disabled:y,className:"bg-white border-2 border-orange-500 text-orange-500 py-4 rounded-2xl text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 "+(y?"opacity-50 cursor-not-allowed":"hover:bg-gradient-to-r hover:from-orange-50 hover:to-pink-50"),children:y?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-orange-500 border-t-transparent mr-2"}),"Adding..."]}):"\ud83d\uded2 Add To Cart"}),(0,Xt.jsx)("button",{onClick:async()=>{if(A()){if(n.variants&&n.variants.length>0){const e=n.variants.some((e=>e.size)),t=n.variants.some((e=>e.color));if(e&&!d)return void Bt.warning("Please select a size");if(t&&!m)return void Bt.warning("Please select a color")}w(!0);try{const r=await oh.addToCart(e,1,{size:d,color:m});r.success?t("/user/cart"):r.requiresAuth?A():Bt.error(r.message||"Failed to add to cart")}catch(r){console.error("Error with buy now:",r),Bt.error("Something went wrong")}finally{w(!1)}}},disabled:y,className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white py-4 rounded-2xl text-lg font-bold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 "+(y?"opacity-50 cursor-not-allowed":"hover:from-orange-600 hover:to-pink-600"),children:y?(0,Xt.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Processing..."]}):"\u26a1 Buy Now"})]}),(0,Xt.jsxs)("div",{className:"mt-12",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Customer Reviews"}),C&&(0,Xt.jsx)("button",{onClick:()=>P(!0),className:"bg-gradient-to-r from-orange-500 to-pink-500 text-white px-6 py-2 rounded-xl font-semibold hover:from-orange-600 hover:to-pink-600 transition-all duration-300",children:"Write a Review"})]}),E&&(0,Xt.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full",children:[(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Write Your Review"}),(0,Xt.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),A()){O(!0);try{const t=await Dm({product:e,rating:_.rating,review:_.review});t.success?(Bt.success("Review submitted successfully"),P(!1),M({rating:5,review:""}),(async()=>{S(!0);try{const t=await Im(e);t.success?N(t.data):Bt.error(t.message||"Failed to fetch reviews")}catch(t){console.error("Error fetching reviews:",t),Bt.error("Something went wrong while loading reviews")}finally{S(!1)}})(),I()):Bt.error(t.message||"Failed to submit review")}catch(r){console.error("Error submitting review:",r),Bt.error("Something went wrong while submitting review")}finally{O(!1)}}},children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Rating"}),(0,Xt.jsx)(Fm,{rating:_.rating,onRatingChange:e=>{M((t=>({...t,rating:e})))},editable:!0})]}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Review"}),(0,Xt.jsx)("textarea",{name:"review",value:_.review,onChange:e=>{const{name:t,value:r}=e.target;M((e=>({...e,[t]:r})))},className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 transition-all duration-200",rows:"4",placeholder:"Share your experience with this product...",required:!0})]}),(0,Xt.jsxs)("div",{className:"flex space-x-4",children:[(0,Xt.jsx)("button",{type:"button",onClick:()=>P(!1),className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),(0,Xt.jsx)("button",{type:"submit",disabled:T,className:"flex-1 px-6 py-3 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-pink-600 transition-all duration-200 disabled:opacity-50",children:T?"Submitting...":"Submit Review"})]})]})]})}),k?(0,Xt.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-orange-200 border-t-orange-500"})}):j.length>0?(0,Xt.jsx)("div",{className:"space-y-6",children:j.map((e=>(0,Xt.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-6",children:[(0,Xt.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("h4",{className:"font-semibold text-gray-800",children:e.user.name}),e.isVerifiedPurchase&&(0,Xt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full",children:"Verified Purchase"})]}),(0,Xt.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Xt.jsx)(Fm,{rating:e.rating}),(0,Xt.jsx)("span",{className:"text-gray-500 text-sm ml-2",children:new Date(e.createdAt).toLocaleDateString()})]})]})}),(0,Xt.jsx)("p",{className:"text-gray-700",children:e.review})]},e._id)))}):(0,Xt.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-2xl",children:(0,Xt.jsx)("p",{className:"text-gray-600",children:"No reviews yet. Be the first to review this product!"})})]})]}),v&&(0,Xt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end justify-center p-4",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>b(!1)}),(0,Xt.jsxs)("div",{className:"relative bg-gradient-to-r from-orange-500 to-pink-500 rounded-t-3xl p-8 w-full max-w-md shadow-2xl",children:[(0,Xt.jsx)("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 w-12 h-1 bg-white/30 rounded-full"}),(0,Xt.jsx)("h2",{className:"text-center text-white font-bold text-xl mb-6",children:"\u2728 Share Product"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,Xt.jsxs)("button",{onClick:()=>z("whatsapp"),className:"flex flex-col items-center group",children:[(0,Xt.jsx)("div",{className:"bg-white rounded-2xl p-4 mb-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-green-500",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),(0,Xt.jsx)("span",{className:"text-white text-xs font-medium",children:"WhatsApp"})]}),(0,Xt.jsxs)("button",{onClick:()=>z("facebook"),className:"flex flex-col items-center group",children:[(0,Xt.jsx)("div",{className:"bg-white rounded-2xl p-4 mb-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,Xt.jsx)("span",{className:"text-white text-xs font-medium",children:"Facebook"})]}),(0,Xt.jsxs)("button",{onClick:()=>z("twitter"),className:"flex flex-col items-center group",children:[(0,Xt.jsx)("div",{className:"bg-white rounded-2xl p-4 mb-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-400",viewBox:"0 0 24 24",fill:"currentColor",children:(0,Xt.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),(0,Xt.jsx)("span",{className:"text-white text-xs font-medium",children:"Twitter"})]}),(0,Xt.jsxs)("button",{onClick:()=>z("copy"),className:"flex flex-col items-center group",children:[(0,Xt.jsx)("div",{className:"bg-white rounded-2xl p-4 mb-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(0,Xt.jsx)("span",{className:"text-white text-xs font-medium",children:"Copy Link"})]})]})]})]}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 z-50 shadow-2xl",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h14l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-bold",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/limited-edition",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Limited"})]})]})})]}):(0,Xt.jsx)("div",{className:"text-center py-12 px-4 bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 min-h-screen flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-3xl p-8 shadow-2xl border border-gray-100 max-w-md mx-auto",children:[(0,Xt.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full p-6 mx-auto mb-6 flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent mb-3",children:"Product Not Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block bg-gradient-to-r from-orange-500 to-pink-500 text-white px-6 py-3 rounded-full font-semibold hover:from-orange-600 hover:to-pink-600 transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Return to Home"})]})})},xh=()=>{var e,t,r,n,o,a,i,l,c,d,u;const{shopId:m}=se(),[h,p]=(re(),(0,s.useState)(null)),[g,f]=(0,s.useState)([]),[x,v]=(0,s.useState)(0),[b,y]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!0),[N,k]=(0,s.useState)(!0),[S,C]=(0,s.useState)(0),L=e=>{var t;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.images&&e.shop.images.length>0?e.shop.images:[]},E=async()=>{j(!0);try{const i=await qm();if(i.success){const l=i.data.find((e=>e._id===m));var e,t,r,s,n,o,a;if(l)console.log("\ud83c\udfea Found shop with images:",{id:l._id,name:null===(e=l.shop)||void 0===e?void 0:e.name,hasMainImage:!(null===(t=l.shop)||void 0===t||!t.mainImage),hasImages:(null===(r=l.shop)||void 0===r||null===(s=r.images)||void 0===s?void 0:s.length)>0,imageCount:(null===(n=l.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)||0,images:null===(a=l.shop)||void 0===a?void 0:a.images}),p(l);else Bt.error("Shop not found")}else Bt.error(i.message||"Failed to fetch shop details")}catch(i){console.error("Error fetching shop details:",i),Bt.error("Something went wrong")}finally{j(!1)}};(0,s.useEffect)((()=>{E(),(async()=>{k(!0);try{var e;console.log("\ud83c\udfea [ShopDetailPage] Fetching products for shop:",m);const r=await $d({seller:m,limit:20,page:1,status:"active"});var t;console.log("\ud83c\udfea [ShopDetailPage] Shop products API response:",{success:r.success,count:r.count,total:r.total,productsFound:(null===(e=r.data)||void 0===e?void 0:e.length)||0,shopId:m}),r.success?(f(r.data||[]),console.log(`\u2705 [ShopDetailPage] Successfully fetched ${(null===(t=r.data)||void 0===t?void 0:t.length)||0} products for shop ${m}`),r.data&&r.data.length>0?console.log("\ud83c\udfea [ShopDetailPage] Sample products:",r.data.slice(0,2).map((e=>{var t,r;return{id:e._id,name:e.name,seller:null===(t=e.seller)||void 0===t?void 0:t._id,sellerMatches:(null===(r=e.seller)||void 0===r?void 0:r._id)===m}}))):console.log("\ud83d\udce6 [ShopDetailPage] No products found for this shop")):(console.error("\u274c [ShopDetailPage] Failed to fetch shop products:",r.message),Bt.error(r.message||"Failed to fetch shop products"))}catch(r){console.error("\u274c [ShopDetailPage] Error fetching shop products:",r),Bt.error("Something went wrong while loading shop products")}finally{k(!1)}})()}),[m]);if(w)return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50/30 flex justify-center items-center",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"w-24 h-24 border-4 border-orange-200 border-t-orange-500 rounded-full animate-spin mx-auto"}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-24 h-24 border-4 border-transparent border-t-amber-400 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8",children:[(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Loading Shop Details"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Please wait while we fetch the shop information..."})]})]})})});if(!h)return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-red-50/30 flex justify-center items-center",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-red-100 to-red-200 rounded-3xl flex items-center justify-center mx-auto mb-8",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8 max-w-md",children:[(0,Xt.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Shop Not Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-8",children:"The shop you're looking for doesn't exist or has been removed."}),(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 inline-flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Return to Dashboard"]})]})]})})});const P=L(h),_=P.length>1;return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-orange-50/30",children:(0,Xt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500 to-amber-500 rounded-3xl blur opacity-20"}),(0,Xt.jsxs)("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 overflow-hidden",children:[(0,Xt.jsxs)("div",{className:"relative h-80 md:h-96 bg-gradient-to-br from-orange-500 via-orange-600 to-amber-600 overflow-hidden",children:[P.length>0?(0,Xt.jsxs)("div",{className:"relative h-full",children:[(0,Xt.jsx)("img",{src:P[S],alt:`${null===(e=h.shop)||void 0===e?void 0:e.name} - Image ${S+1}`,className:"w-full h-full object-cover"}),(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),_&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("button",{onClick:()=>{const e=L(h);e.length>1&&C((t=>(t-1+e.length)%e.length))},className:"absolute left-6 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white rounded-full shadow-xl hover:shadow-2xl transition-all duration-200 flex items-center justify-center group",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsx)("button",{onClick:()=>{const e=L(h);e.length>1&&C((t=>(t+1)%e.length))},className:"absolute right-6 top-1/2 transform -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-lg hover:bg-white/30 text-white rounded-full shadow-xl hover:shadow-2xl transition-all duration-200 flex items-center justify-center group",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,Xt.jsx)("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-3",children:P.map(((e,t)=>(0,Xt.jsx)("button",{onClick:()=>C(t),className:"w-3 h-3 rounded-full transition-all duration-300 "+(t===S?"bg-white scale-125 shadow-lg":"bg-white/50 hover:bg-white/70")},t)))})]})]}):(0,Xt.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"text-center text-white",children:[(0,Xt.jsx)("div",{className:"w-32 h-32 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 opacity-80",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Xt.jsx)("h3",{className:"text-3xl font-bold mb-2",children:null===(t=h.shop)||void 0===t?void 0:t.name}),(0,Xt.jsx)("p",{className:"text-white/80 text-lg",children:"Premium Fashion Store"})]})}),(0,Xt.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent p-8 text-white",children:(0,Xt.jsxs)("div",{className:"flex items-end justify-between",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:null===(r=h.shop)||void 0===r?void 0:r.name}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,Xt.jsxs)("span",{className:"bg-white/20 backdrop-blur-lg px-4 py-2 rounded-full border border-white/30 font-medium",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),null===(n=h.shop)||void 0===n?void 0:n.category," Fashion"]}),P.length>1&&(0,Xt.jsxs)("span",{className:"bg-white/20 backdrop-blur-lg px-4 py-2 rounded-full border border-white/30 font-medium flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),P.length," Photos"]})]})]}),(0,Xt.jsxs)("div",{className:"text-right bg-white/10 backdrop-blur-lg rounded-2xl p-4 border border-white/20",children:[(0,Xt.jsx)(Fm,{rating:h.averageRating||4.8,numReviews:h.numReviews||24,showCount:!0,className:"text-white"}),(0,Xt.jsx)("p",{className:"text-white/80 text-sm mt-2",children:"Customer Rating"})]})]})})]}),(0,Xt.jsx)("div",{className:"p-8",children:(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg mr-3",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Shop Information"})]}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(null===(o=h.shop)||void 0===o?void 0:o.description)&&(0,Xt.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200",children:(0,Xt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:h.shop.description})}),(0,Xt.jsxs)("div",{className:"flex items-start p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3 mt-0.5",children:(0,Xt.jsxs)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:"Address"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:null===(a=h.shop)||void 0===a?void 0:a.address})]})]}),(null===(i=h.shop)||void 0===i||null===(l=i.phoneNumber)||void 0===l?void 0:l.main)&&(0,Xt.jsxs)("div",{className:"flex items-center p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:"Contact"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:h.shop.phoneNumber.main})]})]})]})]})]}),(0,Xt.jsxs)("div",{className:"relative group",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-20 group-hover:opacity-30 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm p-6 rounded-2xl shadow-lg border border-white/50",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg mr-3",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Business Hours"})]}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[null!==(c=h.shop)&&void 0!==c&&c.openTime&&null!==(d=h.shop)&&void 0!==d&&d.closeTime?(0,Xt.jsx)("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:"Daily Hours"}),(0,Xt.jsxs)("p",{className:"text-purple-700 font-semibold",children:[h.shop.openTime," - ",h.shop.closeTime]})]})]}),(0,Xt.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})}):(0,Xt.jsx)("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-500 text-center",children:"Hours not specified"})}),(null===(u=h.shop)||void 0===u?void 0:u.workingDays)&&(0,Xt.jsx)("div",{className:"p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium text-gray-800",children:"Working Days"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:h.shop.workingDays})]})]})})]})]})]})]})})]})]}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-3xl blur opacity-20"}),(0,Xt.jsxs)("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-8",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 via-indigo-800 to-purple-600 bg-clip-text text-transparent",children:"Our Products"}),(0,Xt.jsx)("p",{className:"text-gray-600 mt-1",children:"Discover our premium collection"})]})]}),(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-3 rounded-xl border border-indigo-200",children:(0,Xt.jsx)("div",{className:"text-sm text-indigo-600 font-semibold",children:N?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-500 mr-2"}),"Loading..."]}):`${g.length} items available`})})]}),N?(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 border-4 border-indigo-200 border-t-indigo-500 rounded-full animate-spin mx-auto"}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-purple-400 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-6 max-w-md mx-auto",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Loading Products"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Please wait while we fetch the latest products..."})]})]}):g.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:g.map((e=>(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"block group",children:(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-200 to-gray-300 rounded-2xl blur opacity-30 group-hover:opacity-50 transition duration-300"}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 overflow-hidden hover:shadow-2xl transition-all duration-300 transform group-hover:scale-105",children:[(0,Xt.jsxs)("div",{className:"relative h-56 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[e.images&&e.images[0]?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"No Image"})]})}),(0,Xt.jsxs)("div",{className:"absolute top-3 left-3 space-y-2",children:[e.isTrending&&(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"\ud83d\udd25 Trending"}),e.isLimitedEdition&&(0,Xt.jsx)("span",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"\u2b50 Limited"})]})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsx)("h3",{className:"font-bold text-lg text-gray-800 mb-3 line-clamp-2 group-hover:text-indigo-600 transition-colors",children:e.name}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsxs)("span",{className:"text-indigo-600 font-bold text-xl",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"text-gray-500 text-sm line-through",children:["\u20b9",e.mrp]})]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-bold",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% OFF"]})]}),(0,Xt.jsx)("button",{className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white py-3 px-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 group-hover:scale-105",children:"View Product"})]})]})]})},e._id)))}):(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-8",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-8 max-w-md mx-auto",children:[(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No Products Available"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"This shop hasn't added any products yet. Check back later for exciting new arrivals!"}),(0,Xt.jsxs)(nt,{to:"/user/nearby-shops",className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200 inline-flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Browse Other Shops"]})]})]})]})]})]})})})};var vh,bh,yh=r(119);function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}function jh(e){var t=function(e,t){if("object"!=wh(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=wh(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wh(t)?t:t+""}function Nh(e,t,r){return(t=jh(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sh=kh(bh?vh:(bh=1,vh=function(e,t,r,s,n,o,a,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,s,n,o,a,i],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}})),Ch=(0,s.createContext)(null);function Lh(e,t,r,s){var n,o,a={};return n=e,o=(e,n)=>{var o=r[n];o!==t[n]&&(a[n]=o,e(s,o))},Object.keys(n).forEach((e=>o(n[e],e))),a}function Eh(e,t,r){var s,n,o,a=(s=r,n=function(r,s,n){return"function"===typeof e[n]&&r.push(google.maps.event.addListener(t,s,e[n])),r},o=[],Object.keys(s).reduce((function(e,t){return n(e,s[t],t)}),o));return a}function Ph(e){google.maps.event.removeListener(e)}function _h(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(Ph)}function Mh(e){var{updaterMap:t,eventMap:r,prevProps:s,nextProps:n,instance:o}=e,a=Eh(n,o,r);return Lh(t,s,n,o),a}var Th={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},Oh={extraMapTypes(e,t){t.forEach((function(t,r){e.mapTypes.set(String(r),t)}))},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};(0,s.memo)((function(e){var{children:t,options:r,id:n,mapContainerStyle:o,mapContainerClassName:a,center:i,onClick:l,onDblClick:c,onDrag:d,onDragEnd:u,onDragStart:m,onMouseMove:h,onMouseOut:p,onMouseOver:g,onMouseDown:f,onMouseUp:x,onRightClick:v,onCenterChanged:b,onLoad:y,onUnmount:w}=e,[j,N]=(0,s.useState)(null),k=(0,s.useRef)(null),[S,C]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[P,_]=(0,s.useState)(null),[M,T]=(0,s.useState)(null),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(null),[I,z]=(0,s.useState)(null),[F,B]=(0,s.useState)(null),[U,$]=(0,s.useState)(null),[W,V]=(0,s.useState)(null),[H,q]=(0,s.useState)(null),[G,K]=(0,s.useState)(null);return(0,s.useEffect)((()=>{r&&null!==j&&j.setOptions(r)}),[j,r]),(0,s.useEffect)((()=>{null!==j&&"undefined"!==typeof i&&j.setCenter(i)}),[j,i]),(0,s.useEffect)((()=>{j&&c&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(j,"dblclick",c)))}),[c]),(0,s.useEffect)((()=>{j&&u&&(null!==P&&google.maps.event.removeListener(P),_(google.maps.event.addListener(j,"dragend",u)))}),[u]),(0,s.useEffect)((()=>{j&&m&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(j,"dragstart",m)))}),[m]),(0,s.useEffect)((()=>{j&&f&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(j,"mousedown",f)))}),[f]),(0,s.useEffect)((()=>{j&&h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(j,"mousemove",h)))}),[h]),(0,s.useEffect)((()=>{j&&p&&(null!==I&&google.maps.event.removeListener(I),z(google.maps.event.addListener(j,"mouseout",p)))}),[p]),(0,s.useEffect)((()=>{j&&g&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(j,"mouseover",g)))}),[g]),(0,s.useEffect)((()=>{j&&x&&(null!==U&&google.maps.event.removeListener(U),$(google.maps.event.addListener(j,"mouseup",x)))}),[x]),(0,s.useEffect)((()=>{j&&v&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(j,"rightclick",v)))}),[v]),(0,s.useEffect)((()=>{j&&l&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(j,"click",l)))}),[l]),(0,s.useEffect)((()=>{j&&d&&(null!==G&&google.maps.event.removeListener(G),K(google.maps.event.addListener(j,"drag",d)))}),[d]),(0,s.useEffect)((()=>{j&&b&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(j,"center_changed",b)))}),[l]),(0,s.useEffect)((()=>{var e=null===k.current?null:new google.maps.Map(k.current,r);return N(e),null!==e&&y&&y(e),()=>{null!==e&&w&&w(e)}}),[]),(0,Xt.jsx)("div",{id:n,ref:k,style:o,className:a,children:(0,Xt.jsx)(Ch.Provider,{value:j,children:null!==j?t:null})})}));class Ah extends s.PureComponent{constructor(){super(...arguments),Nh(this,"state",{map:null}),Nh(this,"registeredEvents",[]),Nh(this,"mapRef",null),Nh(this,"getInstance",(()=>null===this.mapRef?null:new google.maps.Map(this.mapRef,this.props.options))),Nh(this,"panTo",(e=>{var t=this.getInstance();t&&t.panTo(e)})),Nh(this,"setMapCallback",(()=>{null!==this.state.map&&this.props.onLoad&&this.props.onLoad(this.state.map)})),Nh(this,"getRef",(e=>{this.mapRef=e}))}componentDidMount(){var e=this.getInstance();this.registeredEvents=Mh({updaterMap:Oh,eventMap:Th,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)}componentDidUpdate(e){null!==this.state.map&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Oh,eventMap:Th,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),_h(this.registeredEvents))}render(){return(0,Xt.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,Xt.jsx)(Ch.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})}}function Rh(e,t,r,s,n,o,a){try{var i=e[o](a),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(s,n)}function Dh(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var o=e.apply(t,r);function a(e){Rh(o,s,n,a,i,"next",e)}function i(e){Rh(o,s,n,a,i,"throw",e)}a(void 0)}))}}function Ih(e){var{googleMapsApiKey:t,googleMapsClientId:r,version:s="weekly",language:n,region:o,libraries:a,channel:i,mapIds:l,authReferrerPolicy:c}=e,d=[];return Sh(t&&r||!(t&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?d.push("key=".concat(t)):r&&d.push("client=".concat(r)),s&&d.push("v=".concat(s)),n&&d.push("language=".concat(n)),o&&d.push("region=".concat(o)),a&&a.length&&d.push("libraries=".concat(a.sort().join(","))),i&&d.push("channel=".concat(i)),l&&l.length&&d.push("map_ids=".concat(l.join(","))),c&&d.push("auth_referrer_policy=".concat(c)),d.push("loading=async"),d.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(d.join("&"))}var zh="undefined"!==typeof document;function Fh(e){var{url:t,id:r,nonce:s}=e;return zh?new Promise((function(e,n){var o=document.getElementById(r),a=window;if(o){var i=o.getAttribute("data-state");if(o.src===t&&"error"!==i){if("ready"===i)return e(r);var l=a.initMap,c=o.onerror;return a.initMap=function(){l&&l(),e(r)},void(o.onerror=function(e){c&&c(e),n(e)})}o.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=t,d.id=r,d.async=!0,d.nonce=s||"",d.onerror=function(e){d.setAttribute("data-state","error"),n(e)},a.initMap=function(){d.setAttribute("data-state","ready"),e(r)},document.head.appendChild(d)})).catch((e=>{throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function Bh(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function Uh(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(r,s){return Bh(r)||Reflect.apply(t,e,[r,s]),r};var r=e.appendChild.bind(e);e.appendChild=function(t){return Bh(t)||Reflect.apply(r,e,[t]),t}}}var $h=!1;function Wh(){return(0,Xt.jsx)("div",{children:"Loading..."})}var Vh,Hh={id:"script-loader",version:"weekly"};class qh extends s.PureComponent{constructor(){super(...arguments),Nh(this,"check",null),Nh(this,"state",{loaded:!1}),Nh(this,"cleanupCallback",(()=>{delete window.google.maps,this.injectScript()})),Nh(this,"isCleaningUp",Dh((function*(){return new Promise((function(e){if($h){if(zh)var t=window.setInterval((function(){$h||(window.clearInterval(t),e())}),1)}else e()}))}))),Nh(this,"cleanup",(()=>{$h=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))})),Nh(this,"injectScript",(()=>{this.props.preventGoogleFontsLoading&&Uh(),Sh(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),Fh({id:this.props.id,nonce:this.props.nonce,url:Ih(this.props)}).then((()=>{this.props.onLoad&&this.props.onLoad(),this.setState((function(){return{loaded:!0}}))})).catch((e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))})),Nh(this,"getRef",(e=>{this.check=e}))}componentDidMount(){if(zh){if(window.google&&window.google.maps&&!$h)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),zh&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))}componentWillUnmount(){if(zh){this.cleanup();window.setTimeout((()=>{this.check||(delete window.google,$h=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,Xt.jsx)(Wh,{})]})}}function Gh(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}Nh(qh,"defaultProps",Hh);var Kh=["loadingElement","onLoad","onError","onUnmount","children"],Yh=(0,Xt.jsx)(Wh,{});(0,s.memo)((function(e){var{loadingElement:t,onLoad:r,onError:n,onUnmount:o,children:a}=e,i=Gh(e,Kh),{isLoaded:l,loadError:c}=function(e){var{id:t=Hh.id,version:r=Hh.version,nonce:n,googleMapsApiKey:o,googleMapsClientId:a,language:i,region:l,libraries:c,preventGoogleFontsLoading:d,channel:u,mapIds:m,authReferrerPolicy:h}=e,p=(0,s.useRef)(!1),[g,f]=(0,s.useState)(!1),[x,v]=(0,s.useState)(void 0);(0,s.useEffect)((function(){return p.current=!0,()=>{p.current=!1}}),[]),(0,s.useEffect)((function(){zh&&d&&Uh()}),[d]),(0,s.useEffect)((function(){g&&Sh(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[g]);var b=Ih({version:r,googleMapsApiKey:o,googleMapsClientId:a,language:i,region:l,libraries:c,channel:u,mapIds:m,authReferrerPolicy:h});(0,s.useEffect)((function(){function e(){p.current&&(f(!0),Vh=b)}zh&&(window.google&&window.google.maps&&Vh===b?e():Fh({id:t,url:b,nonce:n}).then(e).catch((function(e){p.current&&v(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(o||"-",") or Client ID (").concat(a||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[t,b,n]);var y=(0,s.useRef)(void 0);return(0,s.useEffect)((function(){y.current&&c!==y.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),y.current=c}),[c]),{isLoaded:g,loadError:x,url:b}}(i);return(0,s.useEffect)((function(){l&&"function"===typeof r&&r()}),[l,r]),(0,s.useEffect)((function(){c&&"function"===typeof n&&n(c)}),[c,n]),(0,s.useEffect)((function(){return()=>{o&&o()}}),[o]),l?a:t||Yh}));"function"===typeof SuppressedError&&SuppressedError;var Zh;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Zh||(Zh={}));function Qh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qh(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Jh={},ep={options(e,t){e.setOptions(t)}};(0,s.memo)((function(e){var{options:t,onLoad:r,onUnmount:n}=e,o=(0,s.useContext)(Ch),[a,i]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==a&&a.setMap(o)}),[o]),(0,s.useEffect)((()=>{t&&null!==a&&a.setOptions(t)}),[a,t]),(0,s.useEffect)((()=>{var e=new google.maps.TrafficLayer(Xh(Xh({},t),{},{map:o}));return i(e),r&&r(e),()=>{null!==a&&(n&&n(a),a.setMap(null))}}),[]),null}));class tp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"state",{trafficLayer:null}),Nh(this,"setTrafficLayerCallback",(()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)})),Nh(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Xh(Xh({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:ep,eventMap:Jh,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:ep,eventMap:Jh,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),_h(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Nh(tp,"contextType",Ch);(0,s.memo)((function(e){var{onLoad:t,onUnmount:r}=e,n=(0,s.useContext)(Ch),[o,a]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==o&&o.setMap(n)}),[n]),(0,s.useEffect)((()=>{var e=new google.maps.BicyclingLayer;return a(e),e.setMap(n),t&&t(e),()=>{null!==e&&(r&&r(e),e.setMap(null))}}),[]),null}));class rp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"state",{bicyclingLayer:null}),Nh(this,"setBicyclingLayerCallback",(()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))}))}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState((()=>({bicyclingLayer:e})),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Nh(rp,"contextType",Ch);(0,s.memo)((function(e){var{onLoad:t,onUnmount:r}=e,n=(0,s.useContext)(Ch),[o,a]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==o&&o.setMap(n)}),[n]),(0,s.useEffect)((()=>{var e=new google.maps.TransitLayer;return a(e),e.setMap(n),t&&t(e),()=>{null!==o&&(r&&r(o),o.setMap(null))}}),[]),null}));class sp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"state",{transitLayer:null}),Nh(this,"setTransitLayerCallback",(()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))}))}componentDidMount(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function np(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?np(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):np(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(sp,"contextType",Ch);var ap={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ip={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,s.memo)((function(e){var{options:t,drawingMode:r,onCircleComplete:n,onMarkerComplete:o,onOverlayComplete:a,onPolygonComplete:i,onPolylineComplete:l,onRectangleComplete:c,onLoad:d,onUnmount:u}=e,m=(0,s.useContext)(Ch),[h,p]=(0,s.useState)(null),[g,f]=(0,s.useState)(null),[x,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==h&&h.setMap(m)}),[m]),(0,s.useEffect)((()=>{t&&null!==h&&h.setOptions(t)}),[h,t]),(0,s.useEffect)((()=>{null!==h&&h.setDrawingMode(null!==r&&void 0!==r?r:null)}),[h,r]),(0,s.useEffect)((()=>{h&&n&&(null!==g&&google.maps.event.removeListener(g),f(google.maps.event.addListener(h,"circlecomplete",n)))}),[h,n]),(0,s.useEffect)((()=>{h&&o&&(null!==x&&google.maps.event.removeListener(x),v(google.maps.event.addListener(h,"markercomplete",o)))}),[h,o]),(0,s.useEffect)((()=>{h&&a&&(null!==b&&google.maps.event.removeListener(b),y(google.maps.event.addListener(h,"overlaycomplete",a)))}),[h,a]),(0,s.useEffect)((()=>{h&&i&&(null!==w&&google.maps.event.removeListener(w),j(google.maps.event.addListener(h,"polygoncomplete",i)))}),[h,i]),(0,s.useEffect)((()=>{h&&l&&(null!==N&&google.maps.event.removeListener(N),k(google.maps.event.addListener(h,"polylinecomplete",l)))}),[h,l]),(0,s.useEffect)((()=>{h&&c&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(h,"rectanglecomplete",c)))}),[h,c]),(0,s.useEffect)((()=>{Sh(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(op(op({},t),{},{map:m}));return r&&e.setDrawingMode(r),n&&f(google.maps.event.addListener(e,"circlecomplete",n)),o&&v(google.maps.event.addListener(e,"markercomplete",o)),a&&y(google.maps.event.addListener(e,"overlaycomplete",a)),i&&j(google.maps.event.addListener(e,"polygoncomplete",i)),l&&k(google.maps.event.addListener(e,"polylinecomplete",l)),c&&C(google.maps.event.addListener(e,"rectanglecomplete",c)),p(e),d&&d(e),()=>{null!==h&&(g&&google.maps.event.removeListener(g),x&&google.maps.event.removeListener(x),b&&google.maps.event.removeListener(b),w&&google.maps.event.removeListener(w),N&&google.maps.event.removeListener(N),S&&google.maps.event.removeListener(S),u&&u(h),h.setMap(null))}}),[]),null}));class lp extends s.PureComponent{constructor(e){super(e),Nh(this,"registeredEvents",[]),Nh(this,"state",{drawingManager:null}),Nh(this,"setDrawingManagerCallback",(()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)})),Sh(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(op(op({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:ip,eventMap:ap,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:ip,eventMap:ap,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),_h(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function dp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(lp,"contextType",Ch);var up={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},mp={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},hp={};(0,s.memo)((function(e){var{position:t,options:r,clusterer:n,noClustererRedraw:o,children:a,draggable:i,visible:l,animation:c,clickable:d,cursor:u,icon:m,label:h,opacity:p,shape:g,title:f,zIndex:x,onClick:v,onDblClick:b,onDrag:y,onDragEnd:w,onDragStart:j,onMouseOut:N,onMouseOver:k,onMouseUp:S,onMouseDown:C,onRightClick:L,onClickableChanged:E,onCursorChanged:P,onAnimationChanged:_,onDraggableChanged:M,onFlatChanged:T,onIconChanged:O,onPositionChanged:A,onShapeChanged:R,onTitleChanged:D,onVisibleChanged:I,onZindexChanged:z,onLoad:F,onUnmount:B}=e,U=(0,s.useContext)(Ch),[$,W]=(0,s.useState)(null),[V,H]=(0,s.useState)(null),[q,G]=(0,s.useState)(null),[K,Y]=(0,s.useState)(null),[Z,Q]=(0,s.useState)(null),[X,J]=(0,s.useState)(null),[ee,te]=(0,s.useState)(null),[re,se]=(0,s.useState)(null),[ne,oe]=(0,s.useState)(null),[ae,ie]=(0,s.useState)(null),[le,ce]=(0,s.useState)(null),[de,ue]=(0,s.useState)(null),[me,he]=(0,s.useState)(null),[pe,ge]=(0,s.useState)(null),[fe,xe]=(0,s.useState)(null),[ve,be]=(0,s.useState)(null),[ye,we]=(0,s.useState)(null),[je,Ne]=(0,s.useState)(null),[ke,Se]=(0,s.useState)(null),[Ce,Le]=(0,s.useState)(null),[Ee,Pe]=(0,s.useState)(null),[_e,Me]=(0,s.useState)(null);(0,s.useEffect)((()=>{null!==$&&$.setMap(U)}),[U]),(0,s.useEffect)((()=>{"undefined"!==typeof r&&null!==$&&$.setOptions(r)}),[$,r]),(0,s.useEffect)((()=>{"undefined"!==typeof i&&null!==$&&$.setDraggable(i)}),[$,i]),(0,s.useEffect)((()=>{t&&null!==$&&$.setPosition(t)}),[$,t]),(0,s.useEffect)((()=>{"undefined"!==typeof l&&null!==$&&$.setVisible(l)}),[$,l]),(0,s.useEffect)((()=>{null===$||void 0===$||$.setAnimation(c)}),[$,c]),(0,s.useEffect)((()=>{$&&void 0!==d&&$.setClickable(d)}),[$,d]),(0,s.useEffect)((()=>{$&&void 0!==u&&$.setCursor(u)}),[$,u]),(0,s.useEffect)((()=>{$&&void 0!==m&&$.setIcon(m)}),[$,m]),(0,s.useEffect)((()=>{$&&void 0!==h&&$.setLabel(h)}),[$,h]),(0,s.useEffect)((()=>{$&&void 0!==p&&$.setOpacity(p)}),[$,p]),(0,s.useEffect)((()=>{$&&void 0!==g&&$.setShape(g)}),[$,g]),(0,s.useEffect)((()=>{$&&void 0!==f&&$.setTitle(f)}),[$,f]),(0,s.useEffect)((()=>{$&&void 0!==x&&$.setZIndex(x)}),[$,x]),(0,s.useEffect)((()=>{$&&b&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener($,"dblclick",b)))}),[b]),(0,s.useEffect)((()=>{$&&w&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener($,"dragend",w)))}),[w]),(0,s.useEffect)((()=>{$&&j&&(null!==K&&google.maps.event.removeListener(K),Y(google.maps.event.addListener($,"dragstart",j)))}),[j]),(0,s.useEffect)((()=>{$&&C&&(null!==Z&&google.maps.event.removeListener(Z),Q(google.maps.event.addListener($,"mousedown",C)))}),[C]),(0,s.useEffect)((()=>{$&&N&&(null!==X&&google.maps.event.removeListener(X),J(google.maps.event.addListener($,"mouseout",N)))}),[N]),(0,s.useEffect)((()=>{$&&k&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener($,"mouseover",k)))}),[k]),(0,s.useEffect)((()=>{$&&S&&(null!==re&&google.maps.event.removeListener(re),se(google.maps.event.addListener($,"mouseup",S)))}),[S]),(0,s.useEffect)((()=>{$&&L&&(null!==ne&&google.maps.event.removeListener(ne),oe(google.maps.event.addListener($,"rightclick",L)))}),[L]),(0,s.useEffect)((()=>{$&&v&&(null!==ae&&google.maps.event.removeListener(ae),ie(google.maps.event.addListener($,"click",v)))}),[v]),(0,s.useEffect)((()=>{$&&y&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener($,"drag",y)))}),[y]),(0,s.useEffect)((()=>{$&&E&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener($,"clickable_changed",E)))}),[E]),(0,s.useEffect)((()=>{$&&P&&(null!==me&&google.maps.event.removeListener(me),he(google.maps.event.addListener($,"cursor_changed",P)))}),[P]),(0,s.useEffect)((()=>{$&&_&&(null!==pe&&google.maps.event.removeListener(pe),ge(google.maps.event.addListener($,"animation_changed",_)))}),[_]),(0,s.useEffect)((()=>{$&&M&&(null!==fe&&google.maps.event.removeListener(fe),xe(google.maps.event.addListener($,"draggable_changed",M)))}),[M]),(0,s.useEffect)((()=>{$&&T&&(null!==ve&&google.maps.event.removeListener(ve),be(google.maps.event.addListener($,"flat_changed",T)))}),[T]),(0,s.useEffect)((()=>{$&&O&&(null!==ye&&google.maps.event.removeListener(ye),we(google.maps.event.addListener($,"icon_changed",O)))}),[O]),(0,s.useEffect)((()=>{$&&A&&(null!==je&&google.maps.event.removeListener(je),Ne(google.maps.event.addListener($,"position_changed",A)))}),[A]),(0,s.useEffect)((()=>{$&&R&&(null!==ke&&google.maps.event.removeListener(ke),Se(google.maps.event.addListener($,"shape_changed",R)))}),[R]),(0,s.useEffect)((()=>{$&&D&&(null!==Ce&&google.maps.event.removeListener(Ce),Le(google.maps.event.addListener($,"title_changed",D)))}),[D]),(0,s.useEffect)((()=>{$&&I&&(null!==Ee&&google.maps.event.removeListener(Ee),Pe(google.maps.event.addListener($,"visible_changed",I)))}),[I]),(0,s.useEffect)((()=>{$&&z&&(null!==_e&&google.maps.event.removeListener(_e),Me(google.maps.event.addListener($,"zindex_changed",z)))}),[z]),(0,s.useEffect)((()=>{var e=dp(dp(dp({},r||hp),n?hp:{map:U}),{},{position:t}),s=new google.maps.Marker(e);return n?n.addMarker(s,!!o):s.setMap(U),t&&s.setPosition(t),"undefined"!==typeof l&&s.setVisible(l),"undefined"!==typeof i&&s.setDraggable(i),"undefined"!==typeof d&&s.setClickable(d),"string"===typeof u&&s.setCursor(u),m&&s.setIcon(m),"undefined"!==typeof h&&s.setLabel(h),"undefined"!==typeof p&&s.setOpacity(p),g&&s.setShape(g),"string"===typeof f&&s.setTitle(f),"number"===typeof x&&s.setZIndex(x),b&&H(google.maps.event.addListener(s,"dblclick",b)),w&&G(google.maps.event.addListener(s,"dragend",w)),j&&Y(google.maps.event.addListener(s,"dragstart",j)),C&&Q(google.maps.event.addListener(s,"mousedown",C)),N&&J(google.maps.event.addListener(s,"mouseout",N)),k&&te(google.maps.event.addListener(s,"mouseover",k)),S&&se(google.maps.event.addListener(s,"mouseup",S)),L&&oe(google.maps.event.addListener(s,"rightclick",L)),v&&ie(google.maps.event.addListener(s,"click",v)),y&&ce(google.maps.event.addListener(s,"drag",y)),E&&ue(google.maps.event.addListener(s,"clickable_changed",E)),P&&he(google.maps.event.addListener(s,"cursor_changed",P)),_&&ge(google.maps.event.addListener(s,"animation_changed",_)),M&&xe(google.maps.event.addListener(s,"draggable_changed",M)),T&&be(google.maps.event.addListener(s,"flat_changed",T)),O&&we(google.maps.event.addListener(s,"icon_changed",O)),A&&Ne(google.maps.event.addListener(s,"position_changed",A)),R&&Se(google.maps.event.addListener(s,"shape_changed",R)),D&&Le(google.maps.event.addListener(s,"title_changed",D)),I&&Pe(google.maps.event.addListener(s,"visible_changed",I)),z&&Me(google.maps.event.addListener(s,"zindex_changed",z)),W(s),F&&F(s),()=>{null!==V&&google.maps.event.removeListener(V),null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),null!==X&&google.maps.event.removeListener(X),null!==ee&&google.maps.event.removeListener(ee),null!==re&&google.maps.event.removeListener(re),null!==ne&&google.maps.event.removeListener(ne),null!==ae&&google.maps.event.removeListener(ae),null!==de&&google.maps.event.removeListener(de),null!==me&&google.maps.event.removeListener(me),null!==pe&&google.maps.event.removeListener(pe),null!==fe&&google.maps.event.removeListener(fe),null!==ve&&google.maps.event.removeListener(ve),null!==ye&&google.maps.event.removeListener(ye),null!==je&&google.maps.event.removeListener(je),null!==Ce&&google.maps.event.removeListener(Ce),null!==Ee&&google.maps.event.removeListener(Ee),null!==_e&&google.maps.event.removeListener(_e),B&&B(s),n?n.removeMarker(s,!!o):s&&s.setMap(null)}}),[]);var Te=(0,s.useMemo)((()=>a?s.Children.map(a,(e=>{if(!(0,s.isValidElement)(e))return e;var t=e;return(0,s.cloneElement)(t,{anchor:$})})):null),[a,$]);return(0,Xt.jsx)(Xt.Fragment,{children:Te})||null}));class pp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[])}componentDidMount(){var e=this;return Dh((function*(){var t=dp(dp(dp({},e.props.options||hp),e.props.clusterer?hp:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Mh({updaterMap:mp,eventMap:up,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)}))()}componentDidUpdate(e){this.marker&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:mp,eventMap:up,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),_h(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?s.Children.map(this.props.children,(e=>{if(!(0,s.isValidElement)(e))return e;var t=e;return(0,s.cloneElement)(t,{anchor:this.marker})})):null)||null}}Nh(pp,"contextType",Ch);var gp=function(){function e(t,r){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),s=this.cluster.getBounds(),n=t.getMap();null!==n&&"fitBounds"in n&&n.fitBounds(s),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(s);var n=e.getZoom()||0;null!==r&&n>r&&e.setZoom(r+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,r,s,n,o;if(this.div&&this.center){var a=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,i=this.backgroundPosition.split(" "),l=parseInt((null===(e=i[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=i[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==d?"".concat(d.y,"px"):"0","; left: ").concat(null!==d?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var u=document.createElement("img");u.alt=a,u.src=this.url,u.width=this.width,u.height=this.height,u.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(u.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(r=this.sums)||void 0===r?void 0:r.text)&&(m.innerText="".concat(null===(s=this.sums)||void 0===s?void 0:s.text)),(null===(n=this.sums)||void 0===n?void 0:n.html)&&(m.innerHTML="".concat(null===(o=this.sums)||void 0===o?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(u),this.div.appendChild(m),this.div.title=a,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),fp=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new gp(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,r=this.getMarkers();t<r.length;t++){var s=r[t].getPosition();s&&e.extend(s)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,r;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(r=e.getPosition())){var s=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(s-1)+r.lat())/s,(this.center.lng()*(s-1)+r.lng())/s),this.calculateBounds()}}else(r=e.getPosition())&&(this.center=r,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var n=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==o&&"undefined"!==typeof a&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(n<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(n===this.minClusterSize)for(var i=0,l=this.markers;i<l.length;i++){l[i].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),s=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==r&&"undefined"!==typeof s&&s>r||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function xp(e,t){var r=e.length,s=r.toString().length,n=Math.min(s,t);return{text:r.toString(),index:n,title:""}}var vp=[53,56,66,78,90],bp=function(){function e(t,r,s){void 0===r&&(r=[]),void 0===s&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,void 0!==s.zoomOnClick&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,void 0!==s.averageCenter&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,void 0!==s.ignoreHidden&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,void 0!==s.enableRetinaIcons&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=s.imageExtension||"png",this.imageSizes=s.imageSizes||vp,this.calculator=s.calculator||xp,this.batchSize=s.batchSize||2e3,this.batchSizeIE=s.batchSizeIE||500,this.clusterClass=s.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var s=0,n=this.clusters;s<n.length;s++){n[s].remove()}this.clusters=[];for(var o=0,a=this.listeners;o<a.length;o++){var i=a[o];google.maps.event.removeListener(i)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,s=e;r<s.length;r++){var n=s[r].getPosition();n&&t.extend(n)}var o=this.getMap();null!==o&&"fitBounds"in o&&o.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];s&&this.pushMarkerTo(s)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},e.prototype.removeMarkers=function(e,t){for(var r=!1,s=0,n=e;s<n.length;s++){var o=n[s];r=r||this.removeMarker_(o)}return!t&&r&&this.repaint(),r},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,r=e;t<r.length;t++){r[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==r&&(r.x+=this.gridSize,r.y-=this.gridSize);var s=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==s&&(s.x-=this.gridSize,s.y+=this.gridSize),null!==r){var n=t.fromDivPixelToLatLng(r);null!==n&&e.extend(n)}if(null!==s){var o=t.fromDivPixelToLatLng(s);null!==o&&e.extend(o)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){r[t].remove()}this.clusters=[];for(var s=0,n=this.markers;s<n.length;s++){var o=n[s];o.isAdded=!1,e&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var r=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,n=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371},e.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return!!r&&t.contains(r)},e.prototype.addToClosestCluster=function(e){for(var t,r=4e4,s=null,n=0,o=this.clusters;n<o.length;n++){var a=(t=o[n]).getCenter(),i=e.getPosition();if(a&&i){var l=this.distanceBetweenPoints(a,i);l<r&&(r=l,s=t)}}s&&s.isMarkerInClusterBounds(e)?s.addMarker(e):((t=new fp(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),s=(null!==r&&"getBounds"in r?r.getBounds():null),n=((null===r||void 0===r?void 0:r.getZoom())||0)>3?new google.maps.LatLngBounds(null===s||void 0===s?void 0:s.getSouthWest(),null===s||void 0===s?void 0:s.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(n),a=Math.min(e+this.batchSize,this.markers.length),i=e;i<a;i++){var l=this.markers[i];l&&!l.isAdded&&this.isMarkerInBounds(l,o)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(a<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(a)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,d=this.clusters;c<d.length;c++){d[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var r=t;this.prototype[r]=e.prototype[r]}return this}.apply(e,[t])},e}();function yp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}var wp={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},jp={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Np={};(0,s.memo)((function(e){var{children:t,options:r,averageCenter:n,batchSizeIE:o,calculator:a,clusterClass:i,enableRetinaIcons:l,gridSize:c,ignoreHidden:d,imageExtension:u,imagePath:m,imageSizes:h,maxZoom:p,minimumClusterSize:g,styles:f,title:x,zoomOnClick:v,onClick:b,onClusteringBegin:y,onClusteringEnd:w,onMouseOver:j,onMouseOut:N,onLoad:k,onUnmount:S}=e,[C,L]=(0,s.useState)(null),E=(0,s.useContext)(Ch),[P,_]=(0,s.useState)(null),[M,T]=(0,s.useState)(null),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(null),[I,z]=(0,s.useState)(null);return(0,s.useEffect)((()=>{C&&N&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(C,wp.onMouseOut,N)))}),[N]),(0,s.useEffect)((()=>{C&&j&&(null!==I&&google.maps.event.removeListener(I),z(google.maps.event.addListener(C,wp.onMouseOver,j)))}),[j]),(0,s.useEffect)((()=>{C&&b&&(null!==P&&google.maps.event.removeListener(P),_(google.maps.event.addListener(C,wp.onClick,b)))}),[b]),(0,s.useEffect)((()=>{C&&y&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(C,wp.onClusteringBegin,y)))}),[y]),(0,s.useEffect)((()=>{C&&w&&(null!==O&&google.maps.event.removeListener(O),T(google.maps.event.addListener(C,wp.onClusteringEnd,w)))}),[w]),(0,s.useEffect)((()=>{"undefined"!==typeof n&&null!==C&&jp.averageCenter(C,n)}),[C,n]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==C&&jp.batchSizeIE(C,o)}),[C,o]),(0,s.useEffect)((()=>{"undefined"!==typeof a&&null!==C&&jp.calculator(C,a)}),[C,a]),(0,s.useEffect)((()=>{"undefined"!==typeof i&&null!==C&&jp.clusterClass(C,i)}),[C,i]),(0,s.useEffect)((()=>{"undefined"!==typeof l&&null!==C&&jp.enableRetinaIcons(C,l)}),[C,l]),(0,s.useEffect)((()=>{"undefined"!==typeof c&&null!==C&&jp.gridSize(C,c)}),[C,c]),(0,s.useEffect)((()=>{"undefined"!==typeof d&&null!==C&&jp.ignoreHidden(C,d)}),[C,d]),(0,s.useEffect)((()=>{"undefined"!==typeof u&&null!==C&&jp.imageExtension(C,u)}),[C,u]),(0,s.useEffect)((()=>{"undefined"!==typeof m&&null!==C&&jp.imagePath(C,m)}),[C,m]),(0,s.useEffect)((()=>{"undefined"!==typeof h&&null!==C&&jp.imageSizes(C,h)}),[C,h]),(0,s.useEffect)((()=>{"undefined"!==typeof p&&null!==C&&jp.maxZoom(C,p)}),[C,p]),(0,s.useEffect)((()=>{"undefined"!==typeof g&&null!==C&&jp.minimumClusterSize(C,g)}),[C,g]),(0,s.useEffect)((()=>{"undefined"!==typeof f&&null!==C&&jp.styles(C,f)}),[C,f]),(0,s.useEffect)((()=>{"undefined"!==typeof x&&null!==C&&jp.title(C,x)}),[C,x]),(0,s.useEffect)((()=>{"undefined"!==typeof v&&null!==C&&jp.zoomOnClick(C,v)}),[C,v]),(0,s.useEffect)((()=>{if(E){var e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r||Np),t=new bp(E,[],e);return n&&jp.averageCenter(t,n),o&&jp.batchSizeIE(t,o),a&&jp.calculator(t,a),i&&jp.clusterClass(t,i),l&&jp.enableRetinaIcons(t,l),c&&jp.gridSize(t,c),d&&jp.ignoreHidden(t,d),u&&jp.imageExtension(t,u),m&&jp.imagePath(t,m),h&&jp.imageSizes(t,h),p&&jp.maxZoom(t,p),g&&jp.minimumClusterSize(t,g),f&&jp.styles(t,f),x&&jp.title(t,x),v&&jp.zoomOnClick(t,v),N&&D(google.maps.event.addListener(t,wp.onMouseOut,N)),j&&z(google.maps.event.addListener(t,wp.onMouseOver,j)),b&&_(google.maps.event.addListener(t,wp.onClick,b)),y&&T(google.maps.event.addListener(t,wp.onClusteringBegin,y)),w&&A(google.maps.event.addListener(t,wp.onClusteringEnd,w)),L(t),k&&k(t),()=>{null!==R&&google.maps.event.removeListener(R),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==M&&google.maps.event.removeListener(M),null!==O&&google.maps.event.removeListener(O),S&&S(t)}}}),[]),null!==C&&t(C)||null}));class kp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{markerClusterer:null}),Nh(this,"setClustererCallback",(()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)}))}componentDidMount(){if(this.context){var e=new bp(this.context,[],this.props.options);this.registeredEvents=Mh({updaterMap:jp,eventMap:wp,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({markerClusterer:e})),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:jp,eventMap:wp,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),_h(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function Sp(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}Nh(kp,"contextType",Ch);var Cp=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=0,n=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];s<n.length;s++){var o=n[s];this.eventListeners.push(google.maps.event.addListener(this.div,o,Sp))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||Sp(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,s=0,n=t.getBounds();n&&!n.contains(this.position)&&t.setCenter(this.position);var o=t.getDiv(),a=o.offsetWidth,i=o.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,u=this.div.offsetHeight,m=this.infoBoxClearance.width,h=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+m?r=p.x+l-m:p.x+d+l+m>a&&(r=p.x+d+l+m-a),this.alignBottom?p.y<-c+h+u?s=p.y+c-h-u:p.y+c+h>i&&(s=p.y+c+h-i):p.y<-c+h?s=p.y+c-h:p.y+u+c+h>i&&(s=p.y+u+c+h-i)),0===r&&0===s||t.panBy(r,s)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*r+')"',this.div.style.filter="alpha(opacity="+100*r+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var s=this.div.currentStyle;s&&(e.top=parseInt(s.borderTopWidth||"",10)||0,e.bottom=parseInt(s.borderBottomWidth||"",10)||0,e.left=parseInt(s.borderLeftWidth||"",10)||0,e.right=parseInt(s.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();r.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){r.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),Lp=["position"],Ep=["position"];function Pp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function _p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pp(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mp={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Tp={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Op={};var Ap,Rp;(0,s.memo)((function(e){var{children:t,anchor:r,options:n,position:o,zIndex:a,onCloseClick:i,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:m,onUnmount:h}=e,p=(0,s.useContext)(Ch),[g,f]=(0,s.useState)(null),[x,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),L=(0,s.useRef)(null);return(0,s.useEffect)((()=>{p&&null!==g&&(g.close(),r?g.open(p,r):g.getPosition()&&g.open(p))}),[p,g,r]),(0,s.useEffect)((()=>{n&&null!==g&&g.setOptions(n)}),[g,n]),(0,s.useEffect)((()=>{if(o&&null!==g){var e=o instanceof google.maps.LatLng?o:new google.maps.LatLng(o.lat,o.lng);g.setPosition(e)}}),[o]),(0,s.useEffect)((()=>{"number"===typeof a&&null!==g&&g.setZIndex(a)}),[a]),(0,s.useEffect)((()=>{g&&i&&(null!==x&&google.maps.event.removeListener(x),v(google.maps.event.addListener(g,"closeclick",i)))}),[i]),(0,s.useEffect)((()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),y(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,s.useEffect)((()=>{g&&c&&(null!==w&&google.maps.event.removeListener(w),j(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,s.useEffect)((()=>{g&&d&&(null!==N&&google.maps.event.removeListener(N),k(google.maps.event.addListener(g,"position_changed",d)))}),[d]),(0,s.useEffect)((()=>{g&&u&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"zindex_changed",u)))}),[u]),(0,s.useEffect)((()=>{if(p){var e,t=n||Op,{position:s}=t,o=Gh(t,Lp);!s||s instanceof google.maps.LatLng||(e=new google.maps.LatLng(s.lat,s.lng));var a=new Cp(_p(_p({},o),e?{position:e}:{}));L.current=document.createElement("div"),f(a),i&&v(google.maps.event.addListener(a,"closeclick",i)),l&&y(google.maps.event.addListener(a,"domready",l)),c&&j(google.maps.event.addListener(a,"content_changed",c)),d&&k(google.maps.event.addListener(a,"position_changed",d)),u&&C(google.maps.event.addListener(a,"zindex_changed",u)),a.setContent(L.current),r?a.open(p,r):a.getPosition()?a.open(p):Sh(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(a)}return()=>{null!==g&&(x&&google.maps.event.removeListener(x),w&&google.maps.event.removeListener(w),b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),S&&google.maps.event.removeListener(S),h&&h(g),g.close())}}),[]),L.current?(0,yh.createPortal)(s.Children.only(t),L.current):null}));class Dp extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"containerElement",null),Nh(this,"state",{infoBox:null}),Nh(this,"open",((e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):Sh(!1,"You must provide either an anchor or a position prop for <InfoBox>.")})),Nh(this,"setInfoBoxCallback",(()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))}))}componentDidMount(){var e,t=this.props.options||{},{position:r}=t,s=Gh(t,Ep);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var n=new Cp(_p(_p({},s),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Mh({updaterMap:Tp,eventMap:Mp,prevProps:{},nextProps:this.props,instance:n}),this.setState({infoBox:n},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Tp,eventMap:Mp,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),_h(this.registeredEvents),t.close())}render(){return this.containerElement?(0,yh.createPortal)(s.Children.only(this.props.children),this.containerElement):null}}Nh(Dp,"contextType",Ch);var Ip=(Rp||(Rp=1,Ap=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var s,n,o;if(Array.isArray(t)){if((s=t.length)!=r.length)return!1;for(n=s;0!==n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((s=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=s;0!==n--;)if(!Object.prototype.hasOwnProperty.call(r,o[n]))return!1;for(n=s;0!==n--;){var a=o[n];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),Ap),zp=kh(Ip),Fp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Bp{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var s=r>>4;if(1!==s)throw new Error("Got v".concat(s," data when expected v").concat(1,"."));var n=Fp[15&r];if(!n)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Bp(a,o,n,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,s=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var n=Fp.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,i=(8-a%8)%8;if(n<0)throw new Error("Unexpected typed array class: ".concat(r,"."));s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+i,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+i),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+i,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+n]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Up(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:n,coords:o,nodeSize:a}=this,i=[0,n.length-1,0],l=[];i.length;){var c=i.pop()||0,d=i.pop()||0,u=i.pop()||0;if(d-u<=a)for(var m=u;m<=d;m++){var h=o[2*m],p=o[2*m+1];h>=e&&h<=r&&p>=t&&p<=s&&l.push(n[m])}else{var g=u+d>>1,f=o[2*g],x=o[2*g+1];f>=e&&f<=r&&x>=t&&x<=s&&l.push(n[g]),(0===c?e<=f:t<=x)&&(i.push(u),i.push(g-1),i.push(1-c)),(0===c?r>=f:s>=x)&&(i.push(g+1),i.push(d),i.push(1-c))}}return l}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:n,nodeSize:o}=this,a=[0,s.length-1,0],i=[],l=r*r;a.length;){var c=a.pop()||0,d=a.pop()||0,u=a.pop()||0;if(d-u<=o)for(var m=u;m<=d;m++)Hp(n[2*m],n[2*m+1],e,t)<=l&&i.push(s[m]);else{var h=u+d>>1,p=n[2*h],g=n[2*h+1];Hp(p,g,e,t)<=l&&i.push(s[h]),(0===c?e-r<=p:t-r<=g)&&(a.push(u),a.push(h-1),a.push(1-c)),(0===c?e+r>=p:t+r>=g)&&(a.push(h+1),a.push(d),a.push(1-c))}}return i}}function Up(e,t,r,s,n,o){if(!(n-s<=r)){var a=s+n>>1;$p(e,t,a,s,n,o),Up(e,t,r,s,a-1,1-o),Up(e,t,r,a+1,n,1-o)}}function $p(e,t,r,s,n,o){for(;n>s;){if(n-s>600){var a=n-s+1,i=r-s+1,l=Math.log(a),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(a-c)/a)*(i-a/2<0?-1:1);$p(e,t,r,Math.max(s,Math.floor(r-i*c/a+d)),Math.min(n,Math.floor(r+(a-i)*c/a+d)),o)}var u=t[2*r+o],m=s,h=n;for(Wp(e,t,s,r),t[2*n+o]>u&&Wp(e,t,s,n);m<h;){for(Wp(e,t,m,h),m++,h--;t[2*m+o]<u;)m++;for(;t[2*h+o]>u;)h--}t[2*s+o]===u?Wp(e,t,s,h):Wp(e,t,++h,n),h<=r&&(s=h+1),r<=h&&(n=h-1)}}function Wp(e,t,r,s){Vp(e,r,s),Vp(t,2*r,2*s),Vp(t,2*r+1,2*s+1)}function Vp(e,t,r){var s=e[t];e[t]=e[r],e[r]=s}function Hp(e,t,r,s){var n=e-r,o=t-s;return n*n+o*o}var qp,Gp={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Kp=Math.fround||(qp=new Float32Array(1),e=>(qp[0]=+e,qp[0]));class Yp{constructor(e){this.options=Object.assign(Object.create(Gp),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:s}=this.options;t&&console.time("total time");var n="prepare ".concat(e.length," points");t&&console.time(n),this.points=e;for(var o=[],a=0;a<e.length;a++){var i=e[a];if(i.geometry){var[l,c]=i.geometry.coordinates,d=Kp(Xp(l)),u=Kp(Jp(c));o.push(d,u,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var m=this.trees[s+1]=this._createTree(o);t&&console.timeEnd(n);for(var h=s;h>=r;h--){var p=+Date.now();m=this.trees[h]=this._createTree(this._cluster(m,h)),t&&console.log("z%d: %d clusters in %dms",h,m.numItems,+Date.now()-p)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[1])),n=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,n=180;else if(r>n){var a=this.getClusters([r,s,180,o],t),i=this.getClusters([-180,s,n,o],t);return a.concat(i)}var l=this.trees[this._limitZoom(t)],c=l.range(Xp(r),Jp(o),Xp(n),Jp(s)),d=l.data,u=[];for(var m of c){var h=this.stride*m;u.push(d[h+5]>1?Zp(d,h,this.clusterProps):this.points[d[h+3]])}return u}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",n=this.trees[r];if(!n)throw new Error(s);var o=n.data;if(t*this.stride>=o.length)throw new Error(s);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),i=o[t*this.stride],l=o[t*this.stride+1],c=n.within(i,l,a),d=[];for(var u of c){var m=u*this.stride;o[m+4]===e&&d.push(o[m+5]>1?Zp(o,m,this.clusterProps):this.points[o[m+3]])}if(0===d.length)throw new Error(s);return d}getLeaves(e,t,r){t=t||10,r=r||0;var s=[];return this._appendLeaves(s,e,t,r,0),s}getTile(e,t,r){var s=this.trees[this._limitZoom(e)],n=Math.pow(2,e),{extent:o,radius:a}=this.options,i=a/o,l=(r-i)/n,c=(r+1+i)/n,d={features:[]};return this._addTileFeatures(s.range((t-i)/n,l,(t+1+i)/n,c),s.data,t,r,n,d),0===t&&this._addTileFeatures(s.range(1-i/n,l,1,c),s.data,n,r,n,d),t===n-1&&this._addTileFeatures(s.range(0,l,i/n,c),s.data,-1,r,n,d),d.features.length?d:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,s,n){var o=this.getChildren(t);for(var a of o){var i=a.properties;if(i&&i.cluster?n+i.point_count<=s?n+=i.point_count:n=this._appendLeaves(e,i.cluster_id,r,s,n):n<s?n++:e.push(a),e.length===r)break}return n}_createTree(e){for(var t=new Bp(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,s,n,o){for(var a of e){var i=a*this.stride,l=t[i+5]>1,c=void 0,d=void 0,u=void 0;if(l)c=Qp(t,i,this.clusterProps),d=t[i],u=t[i+1];else{var m=this.points[t[i+3]];c=m.properties;var[h,p]=m.geometry.coordinates;d=Xp(h),u=Jp(p)}var g={type:1,geometry:[[Math.round(this.options.extent*(d*n-r)),Math.round(this.options.extent*(u*n-s))]],tags:c},f=void 0;void 0!==(f=l||this.options.generateId?t[i+3]:this.points[t[i+3]].id)&&(g.id=f),o.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:s,reduce:n,minPoints:o}=this.options,a=r/(s*Math.pow(2,t)),i=e.data,l=[],c=this.stride,d=0;d<i.length;d+=c)if(!(i[d+2]<=t)){i[d+2]=t;var u=i[d],m=i[d+1],h=e.within(i[d],i[d+1],a),p=i[d+5],g=p;for(var f of h){var x=f*c;i[x+2]>t&&(g+=i[x+5])}if(g>p&&g>=o){var v=u*p,b=m*p,y=void 0,w=-1,j=(d/c<<5)+(t+1)+this.points.length;for(var N of h){var k=N*c;if(!(i[k+2]<=t)){i[k+2]=t;var S=i[k+5];v+=i[k]*S,b+=i[k+1]*S,i[k+4]=j,n&&(y||(y=this._map(i,d,!0),w=this.clusterProps.length,this.clusterProps.push(y)),n(y,this._map(i,k)))}}i[d+4]=j,l.push(v/g,b/g,1/0,j,-1,g),n&&l.push(w)}else{for(var C=0;C<c;C++)l.push(i[d+C]);if(g>1)for(var L of h){var E=L*c;if(!(i[E+2]<=t)){i[E+2]=t;for(var P=0;P<c;P++)l.push(i[E+P])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+5]>1){var s=this.clusterProps[e[t+6]];return r?Object.assign({},s):s}var n=this.points[e[t+3]].properties,o=this.options.map(n);return r&&o===n?Object.assign({},o):o}}function Zp(e,t,r){return{type:"Feature",id:e[t+3],properties:Qp(e,t,r),geometry:{type:"Point",coordinates:[eg(e[t]),tg(e[t+1])]}}}function Qp(e,t,r){var s=e[t+5],n=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,o=e[t+6],a=-1===o?{}:Object.assign({},r[o]);return Object.assign(a,{cluster:!0,cluster_id:e[t+3],point_count:s,point_count_abbreviated:n})}function Xp(e){return e/360+.5}function Jp(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function eg(e){return 360*(e-.5)}function tg(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function rg(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r}class sg{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class ng{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(sg.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>sg.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(sg.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class og{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return ig(t)}}var ag,ig=e=>e.map((e=>new ng({position:sg.getPosition(e),markers:[e]})));class lg extends og{constructor(e){var{maxZoom:t,radius:r=60}=e,s=rg(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new Yp(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!zp(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var s=this.markers.map((e=>{var t=sg.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(s)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!zp(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:s}=e;if(s.cluster)return new ng({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:r,lng:t}});var n=s.marker;return new ng({markers:[n],position:sg.getPosition(n)})}}class cg{constructor(e,t){this.markers={sum:e.length};var r=t.map((e=>e.count)),s=r.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:s/t.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class dg{render(e,t,r){var{count:s,position:n}=e,o=s>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(s,"</text>\n</svg>"),i="Cluster of ".concat(s," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+s;if(sg.isAdvancedMarkerAvailable(r)){var c=(new DOMParser).parseFromString(a,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var d={map:r,position:n,zIndex:l,title:i,content:c};return new google.maps.marker.AdvancedMarkerElement(d)}var u={position:n,zIndex:l,title:i,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}class ug{constructor(){!function(e,t){for(var r in t.prototype)e.prototype[r]=t.prototype[r]}(ug,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(ag||(ag={}));var mg=(e,t,r)=>{r.fitBounds(t.bounds)};class hg extends ug{constructor(e){var{map:t,markers:r=[],algorithmOptions:s={},algorithm:n=new lg(s),renderer:o=new dg,onClusterClick:a=mg}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=n,this.renderer=o,this.onClusterClick=a,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return-1!==r&&(sg.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach((e=>{r=this.removeMarker(e,!0)||r})),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ag.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||void 0==r){var s=new Set;for(var n of t)1==n.markers.length&&s.add(n.markers[0]);var o=[];for(var a of this.clusters)null!=a.marker&&(1==a.markers.length?s.has(a.marker)||sg.setMap(a.marker,null):o.push(a.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>o.forEach((e=>sg.setMap(e,null)))))}google.maps.event.trigger(this,ag.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>sg.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){var e=new cg(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((r=>{1===r.markers.length?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach((e=>sg.setMap(e,null))),this.onClusterClick&&r.marker.addListener("click",(e=>{google.maps.event.trigger(this,ag.CLUSTER_CLICK,r),this.onClusterClick(e,r,t)}))),sg.setMap(r.marker,t)}))}}function pg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fg(e){var t=function(){Sh(!!s.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,s.useContext)(Ch);return Sh(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[r,n]=(0,s.useState)(null);return(0,s.useEffect)((()=>{if(t&&null===r){var s=new hg(gg(gg({},e),{},{map:t}));n(s)}}),[t]),r}(0,s.memo)((function(e){var{children:t,options:r}=e,s=fg(r);return null!==s?t(s):null}));var xg={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},vg={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,s.memo)((function(e){var{children:t,anchor:r,options:n,position:o,zIndex:a,onCloseClick:i,onDomReady:l,onContentChanged:c,onPositionChanged:d,onZindexChanged:u,onLoad:m,onUnmount:h}=e,p=(0,s.useContext)(Ch),[g,f]=(0,s.useState)(null),[x,v]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),L=(0,s.useRef)(null);return(0,s.useEffect)((()=>{null!==g&&(g.close(),r?g.open(p,r):g.getPosition()&&g.open(p))}),[p,g,r]),(0,s.useEffect)((()=>{n&&null!==g&&g.setOptions(n)}),[g,n]),(0,s.useEffect)((()=>{o&&null!==g&&g.setPosition(o)}),[o]),(0,s.useEffect)((()=>{"number"===typeof a&&null!==g&&g.setZIndex(a)}),[a]),(0,s.useEffect)((()=>{g&&i&&(null!==x&&google.maps.event.removeListener(x),v(google.maps.event.addListener(g,"closeclick",i)))}),[i]),(0,s.useEffect)((()=>{g&&l&&(null!==b&&google.maps.event.removeListener(b),y(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,s.useEffect)((()=>{g&&c&&(null!==w&&google.maps.event.removeListener(w),j(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,s.useEffect)((()=>{g&&d&&(null!==N&&google.maps.event.removeListener(N),k(google.maps.event.addListener(g,"position_changed",d)))}),[d]),(0,s.useEffect)((()=>{g&&u&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"zindex_changed",u)))}),[u]),(0,s.useEffect)((()=>{var e=new google.maps.InfoWindow(n);return f(e),L.current=document.createElement("div"),i&&v(google.maps.event.addListener(e,"closeclick",i)),l&&y(google.maps.event.addListener(e,"domready",l)),c&&j(google.maps.event.addListener(e,"content_changed",c)),d&&k(google.maps.event.addListener(e,"position_changed",d)),u&&C(google.maps.event.addListener(e,"zindex_changed",u)),e.setContent(L.current),o&&e.setPosition(o),a&&e.setZIndex(a),r?e.open(p,r):e.getPosition()?e.open(p):Sh(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(e),()=>{x&&google.maps.event.removeListener(x),w&&google.maps.event.removeListener(w),b&&google.maps.event.removeListener(b),N&&google.maps.event.removeListener(N),S&&google.maps.event.removeListener(S),h&&h(e),e.close()}}),[]),L.current?(0,yh.createPortal)(s.Children.only(t),L.current):null}));class bg extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"containerElement",null),Nh(this,"state",{infoWindow:null}),Nh(this,"open",((e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Sh(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")})),Nh(this,"setInfoWindowCallback",(()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))}))}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Mh({updaterMap:vg,eventMap:xg,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({infoWindow:e})),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:vg,eventMap:xg,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(_h(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,yh.createPortal)(s.Children.only(this.props.children),this.containerElement):null}}function yg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(bg,"contextType",Ch);var jg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ng={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},kg={};(0,s.memo)((function(e){var{options:t,draggable:r,editable:n,visible:o,path:a,onDblClick:i,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:m,onMouseOver:h,onMouseUp:p,onRightClick:g,onClick:f,onDrag:x,onLoad:v,onUnmount:b}=e,y=(0,s.useContext)(Ch),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[P,_]=(0,s.useState)(null),[M,T]=(0,s.useState)(null),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(null),[I,z]=(0,s.useState)(null),[F,B]=(0,s.useState)(null),[U,$]=(0,s.useState)(null),[W,V]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==w&&w.setMap(y)}),[y]),(0,s.useEffect)((()=>{"undefined"!==typeof t&&null!==w&&w.setOptions(t)}),[w,t]),(0,s.useEffect)((()=>{"undefined"!==typeof r&&null!==w&&w.setDraggable(r)}),[w,r]),(0,s.useEffect)((()=>{"undefined"!==typeof n&&null!==w&&w.setEditable(n)}),[w,n]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==w&&w.setVisible(o)}),[w,o]),(0,s.useEffect)((()=>{"undefined"!==typeof a&&null!==w&&w.setPath(a)}),[w,a]),(0,s.useEffect)((()=>{w&&i&&(null!==N&&google.maps.event.removeListener(N),k(google.maps.event.addListener(w,"dblclick",i)))}),[i]),(0,s.useEffect)((()=>{w&&l&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(w,"dragend",l)))}),[l]),(0,s.useEffect)((()=>{w&&c&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(w,"dragstart",c)))}),[c]),(0,s.useEffect)((()=>{w&&d&&(null!==P&&google.maps.event.removeListener(P),_(google.maps.event.addListener(w,"mousedown",d)))}),[d]),(0,s.useEffect)((()=>{w&&u&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(w,"mousemove",u)))}),[u]),(0,s.useEffect)((()=>{w&&m&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(w,"mouseout",m)))}),[m]),(0,s.useEffect)((()=>{w&&h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(w,"mouseover",h)))}),[h]),(0,s.useEffect)((()=>{w&&p&&(null!==I&&google.maps.event.removeListener(I),z(google.maps.event.addListener(w,"mouseup",p)))}),[p]),(0,s.useEffect)((()=>{w&&g&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(w,"rightclick",g)))}),[g]),(0,s.useEffect)((()=>{w&&f&&(null!==U&&google.maps.event.removeListener(U),$(google.maps.event.addListener(w,"click",f)))}),[f]),(0,s.useEffect)((()=>{w&&x&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(w,"drag",x)))}),[x]),(0,s.useEffect)((()=>{var e=new google.maps.Polyline(wg(wg({},t||kg),{},{map:y}));return a&&e.setPath(a),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof n&&e.setEditable(n),"undefined"!==typeof r&&e.setDraggable(r),i&&k(google.maps.event.addListener(e,"dblclick",i)),l&&C(google.maps.event.addListener(e,"dragend",l)),c&&E(google.maps.event.addListener(e,"dragstart",c)),d&&_(google.maps.event.addListener(e,"mousedown",d)),u&&T(google.maps.event.addListener(e,"mousemove",u)),m&&A(google.maps.event.addListener(e,"mouseout",m)),h&&D(google.maps.event.addListener(e,"mouseover",h)),p&&z(google.maps.event.addListener(e,"mouseup",p)),g&&B(google.maps.event.addListener(e,"rightclick",g)),f&&$(google.maps.event.addListener(e,"click",f)),x&&V(google.maps.event.addListener(e,"drag",x)),j(e),v&&v(e),()=>{null!==N&&google.maps.event.removeListener(N),null!==S&&google.maps.event.removeListener(S),null!==L&&google.maps.event.removeListener(L),null!==P&&google.maps.event.removeListener(P),null!==M&&google.maps.event.removeListener(M),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==I&&google.maps.event.removeListener(I),null!==F&&google.maps.event.removeListener(F),null!==U&&google.maps.event.removeListener(U),b&&b(e),e.setMap(null)}}),[]),null}));class Sg extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{polyline:null}),Nh(this,"setPolylineCallback",(()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)}))}componentDidMount(){var e=new google.maps.Polyline(wg(wg({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:Ng,eventMap:jg,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Ng,eventMap:jg,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),_h(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function Cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Lg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(Sg,"contextType",Ch);var Eg={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Pg={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,s.memo)((function(e){var{options:t,draggable:r,editable:n,visible:o,path:a,paths:i,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:m,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:f,onClick:x,onDrag:v,onLoad:b,onUnmount:y,onEdit:w}=e,j=(0,s.useContext)(Ch),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[P,_]=(0,s.useState)(null),[M,T]=(0,s.useState)(null),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(null),[I,z]=(0,s.useState)(null),[F,B]=(0,s.useState)(null),[U,$]=(0,s.useState)(null),[W,V]=(0,s.useState)(null),[H,q]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==N&&N.setMap(j)}),[j]),(0,s.useEffect)((()=>{"undefined"!==typeof t&&null!==N&&N.setOptions(t)}),[N,t]),(0,s.useEffect)((()=>{"undefined"!==typeof r&&null!==N&&N.setDraggable(r)}),[N,r]),(0,s.useEffect)((()=>{"undefined"!==typeof n&&null!==N&&N.setEditable(n)}),[N,n]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==N&&N.setVisible(o)}),[N,o]),(0,s.useEffect)((()=>{"undefined"!==typeof a&&null!==N&&N.setPath(a)}),[N,a]),(0,s.useEffect)((()=>{"undefined"!==typeof i&&null!==N&&N.setPaths(i)}),[N,i]),(0,s.useEffect)((()=>{N&&"function"===typeof l&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(N,"dblclick",l)))}),[l]),(0,s.useEffect)((()=>{N&&(google.maps.event.addListener(N.getPath(),"insert_at",(()=>{null===w||void 0===w||w(N)})),google.maps.event.addListener(N.getPath(),"set_at",(()=>{null===w||void 0===w||w(N)})),google.maps.event.addListener(N.getPath(),"remove_at",(()=>{null===w||void 0===w||w(N)})))}),[N,w]),(0,s.useEffect)((()=>{N&&"function"===typeof c&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(N,"dragend",c)))}),[c]),(0,s.useEffect)((()=>{N&&"function"===typeof d&&(null!==P&&google.maps.event.removeListener(P),_(google.maps.event.addListener(N,"dragstart",d)))}),[d]),(0,s.useEffect)((()=>{N&&"function"===typeof u&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(N,"mousedown",u)))}),[u]),(0,s.useEffect)((()=>{N&&"function"===typeof m&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(N,"mousemove",m)))}),[m]),(0,s.useEffect)((()=>{N&&"function"===typeof h&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(N,"mouseout",h)))}),[h]),(0,s.useEffect)((()=>{N&&"function"===typeof p&&(null!==I&&google.maps.event.removeListener(I),z(google.maps.event.addListener(N,"mouseover",p)))}),[p]),(0,s.useEffect)((()=>{N&&"function"===typeof g&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(N,"mouseup",g)))}),[g]),(0,s.useEffect)((()=>{N&&"function"===typeof f&&(null!==U&&google.maps.event.removeListener(U),$(google.maps.event.addListener(N,"rightclick",f)))}),[f]),(0,s.useEffect)((()=>{N&&"function"===typeof x&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(N,"click",x)))}),[x]),(0,s.useEffect)((()=>{N&&"function"===typeof v&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(N,"drag",v)))}),[v]),(0,s.useEffect)((()=>{var e=new google.maps.Polygon(Lg(Lg({},t),{},{map:j}));return a&&e.setPath(a),i&&e.setPaths(i),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof n&&e.setEditable(n),"undefined"!==typeof r&&e.setDraggable(r),l&&C(google.maps.event.addListener(e,"dblclick",l)),c&&E(google.maps.event.addListener(e,"dragend",c)),d&&_(google.maps.event.addListener(e,"dragstart",d)),u&&T(google.maps.event.addListener(e,"mousedown",u)),m&&A(google.maps.event.addListener(e,"mousemove",m)),h&&D(google.maps.event.addListener(e,"mouseout",h)),p&&z(google.maps.event.addListener(e,"mouseover",p)),g&&B(google.maps.event.addListener(e,"mouseup",g)),f&&$(google.maps.event.addListener(e,"rightclick",f)),x&&V(google.maps.event.addListener(e,"click",x)),v&&q(google.maps.event.addListener(e,"drag",v)),k(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==L&&google.maps.event.removeListener(L),null!==P&&google.maps.event.removeListener(P),null!==M&&google.maps.event.removeListener(M),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==I&&google.maps.event.removeListener(I),null!==F&&google.maps.event.removeListener(F),null!==U&&google.maps.event.removeListener(U),null!==W&&google.maps.event.removeListener(W),y&&y(e),e.setMap(null)}}),[]),null}));class _g extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Mh({updaterMap:Pg,eventMap:Eg,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Pg,eventMap:Eg,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),_h(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function Mg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Tg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(_g,"contextType",Ch);var Og={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ag={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,s.memo)((function(e){var{options:t,bounds:r,draggable:n,editable:o,visible:a,onDblClick:i,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:m,onMouseOver:h,onMouseUp:p,onRightClick:g,onClick:f,onDrag:x,onBoundsChanged:v,onLoad:b,onUnmount:y}=e,w=(0,s.useContext)(Ch),[j,N]=(0,s.useState)(null),[k,S]=(0,s.useState)(null),[C,L]=(0,s.useState)(null),[E,P]=(0,s.useState)(null),[_,M]=(0,s.useState)(null),[T,O]=(0,s.useState)(null),[A,R]=(0,s.useState)(null),[D,I]=(0,s.useState)(null),[z,F]=(0,s.useState)(null),[B,U]=(0,s.useState)(null),[$,W]=(0,s.useState)(null),[V,H]=(0,s.useState)(null),[q,G]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==j&&j.setMap(w)}),[w]),(0,s.useEffect)((()=>{"undefined"!==typeof t&&null!==j&&j.setOptions(t)}),[j,t]),(0,s.useEffect)((()=>{"undefined"!==typeof n&&null!==j&&j.setDraggable(n)}),[j,n]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==j&&j.setEditable(o)}),[j,o]),(0,s.useEffect)((()=>{"undefined"!==typeof a&&null!==j&&j.setVisible(a)}),[j,a]),(0,s.useEffect)((()=>{"undefined"!==typeof r&&null!==j&&j.setBounds(r)}),[j,r]),(0,s.useEffect)((()=>{j&&i&&(null!==k&&google.maps.event.removeListener(k),S(google.maps.event.addListener(j,"dblclick",i)))}),[i]),(0,s.useEffect)((()=>{j&&l&&(null!==C&&google.maps.event.removeListener(C),L(google.maps.event.addListener(j,"dragend",l)))}),[l]),(0,s.useEffect)((()=>{j&&c&&(null!==E&&google.maps.event.removeListener(E),P(google.maps.event.addListener(j,"dragstart",c)))}),[c]),(0,s.useEffect)((()=>{j&&d&&(null!==_&&google.maps.event.removeListener(_),M(google.maps.event.addListener(j,"mousedown",d)))}),[d]),(0,s.useEffect)((()=>{j&&u&&(null!==T&&google.maps.event.removeListener(T),O(google.maps.event.addListener(j,"mousemove",u)))}),[u]),(0,s.useEffect)((()=>{j&&m&&(null!==A&&google.maps.event.removeListener(A),R(google.maps.event.addListener(j,"mouseout",m)))}),[m]),(0,s.useEffect)((()=>{j&&h&&(null!==D&&google.maps.event.removeListener(D),I(google.maps.event.addListener(j,"mouseover",h)))}),[h]),(0,s.useEffect)((()=>{j&&p&&(null!==z&&google.maps.event.removeListener(z),F(google.maps.event.addListener(j,"mouseup",p)))}),[p]),(0,s.useEffect)((()=>{j&&g&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(j,"rightclick",g)))}),[g]),(0,s.useEffect)((()=>{j&&f&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(j,"click",f)))}),[f]),(0,s.useEffect)((()=>{j&&x&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(j,"drag",x)))}),[x]),(0,s.useEffect)((()=>{j&&v&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(j,"bounds_changed",v)))}),[v]),(0,s.useEffect)((()=>{var e=new google.maps.Rectangle(Tg(Tg({},t),{},{map:w}));return"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof n&&e.setDraggable(n),"undefined"!==typeof r&&e.setBounds(r),i&&S(google.maps.event.addListener(e,"dblclick",i)),l&&L(google.maps.event.addListener(e,"dragend",l)),c&&P(google.maps.event.addListener(e,"dragstart",c)),d&&M(google.maps.event.addListener(e,"mousedown",d)),u&&O(google.maps.event.addListener(e,"mousemove",u)),m&&R(google.maps.event.addListener(e,"mouseout",m)),h&&I(google.maps.event.addListener(e,"mouseover",h)),p&&F(google.maps.event.addListener(e,"mouseup",p)),g&&U(google.maps.event.addListener(e,"rightclick",g)),f&&W(google.maps.event.addListener(e,"click",f)),x&&H(google.maps.event.addListener(e,"drag",x)),v&&G(google.maps.event.addListener(e,"bounds_changed",v)),N(e),b&&b(e),()=>{null!==k&&google.maps.event.removeListener(k),null!==C&&google.maps.event.removeListener(C),null!==E&&google.maps.event.removeListener(E),null!==_&&google.maps.event.removeListener(_),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==$&&google.maps.event.removeListener($),null!==V&&google.maps.event.removeListener(V),null!==q&&google.maps.event.removeListener(q),y&&y(e),e.setMap(null)}}),[]),null}));class Rg extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{rectangle:null}),Nh(this,"setRectangleCallback",(()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)}))}componentDidMount(){var e=new google.maps.Rectangle(Tg(Tg({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:Ag,eventMap:Og,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Ag,eventMap:Og,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),_h(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function Dg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Ig(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(Rg,"contextType",Ch);var zg={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fg={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},Bg={};(0,s.memo)((function(e){var{options:t,center:r,radius:n,draggable:o,editable:a,visible:i,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:m,onMouseOut:h,onMouseOver:p,onMouseUp:g,onRightClick:f,onClick:x,onDrag:v,onCenterChanged:b,onRadiusChanged:y,onLoad:w,onUnmount:j}=e,N=(0,s.useContext)(Ch),[k,S]=(0,s.useState)(null),[C,L]=(0,s.useState)(null),[E,P]=(0,s.useState)(null),[_,M]=(0,s.useState)(null),[T,O]=(0,s.useState)(null),[A,R]=(0,s.useState)(null),[D,I]=(0,s.useState)(null),[z,F]=(0,s.useState)(null),[B,U]=(0,s.useState)(null),[$,W]=(0,s.useState)(null),[V,H]=(0,s.useState)(null),[q,G]=(0,s.useState)(null),[K,Y]=(0,s.useState)(null),[Z,Q]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==k&&k.setMap(N)}),[N]),(0,s.useEffect)((()=>{"undefined"!==typeof t&&null!==k&&k.setOptions(t)}),[k,t]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==k&&k.setDraggable(o)}),[k,o]),(0,s.useEffect)((()=>{"undefined"!==typeof a&&null!==k&&k.setEditable(a)}),[k,a]),(0,s.useEffect)((()=>{"undefined"!==typeof i&&null!==k&&k.setVisible(i)}),[k,i]),(0,s.useEffect)((()=>{"number"===typeof n&&null!==k&&k.setRadius(n)}),[k,n]),(0,s.useEffect)((()=>{"undefined"!==typeof r&&null!==k&&k.setCenter(r)}),[k,r]),(0,s.useEffect)((()=>{k&&l&&(null!==C&&google.maps.event.removeListener(C),L(google.maps.event.addListener(k,"dblclick",l)))}),[l]),(0,s.useEffect)((()=>{k&&c&&(null!==E&&google.maps.event.removeListener(E),P(google.maps.event.addListener(k,"dragend",c)))}),[c]),(0,s.useEffect)((()=>{k&&d&&(null!==_&&google.maps.event.removeListener(_),M(google.maps.event.addListener(k,"dragstart",d)))}),[d]),(0,s.useEffect)((()=>{k&&u&&(null!==T&&google.maps.event.removeListener(T),O(google.maps.event.addListener(k,"mousedown",u)))}),[u]),(0,s.useEffect)((()=>{k&&m&&(null!==A&&google.maps.event.removeListener(A),R(google.maps.event.addListener(k,"mousemove",m)))}),[m]),(0,s.useEffect)((()=>{k&&h&&(null!==D&&google.maps.event.removeListener(D),I(google.maps.event.addListener(k,"mouseout",h)))}),[h]),(0,s.useEffect)((()=>{k&&p&&(null!==z&&google.maps.event.removeListener(z),F(google.maps.event.addListener(k,"mouseover",p)))}),[p]),(0,s.useEffect)((()=>{k&&g&&(null!==B&&google.maps.event.removeListener(B),U(google.maps.event.addListener(k,"mouseup",g)))}),[g]),(0,s.useEffect)((()=>{k&&f&&(null!==$&&google.maps.event.removeListener($),W(google.maps.event.addListener(k,"rightclick",f)))}),[f]),(0,s.useEffect)((()=>{k&&x&&(null!==V&&google.maps.event.removeListener(V),H(google.maps.event.addListener(k,"click",x)))}),[x]),(0,s.useEffect)((()=>{k&&v&&(null!==q&&google.maps.event.removeListener(q),G(google.maps.event.addListener(k,"drag",v)))}),[v]),(0,s.useEffect)((()=>{k&&b&&(null!==K&&google.maps.event.removeListener(K),Y(google.maps.event.addListener(k,"center_changed",b)))}),[x]),(0,s.useEffect)((()=>{k&&y&&(null!==Z&&google.maps.event.removeListener(Z),Q(google.maps.event.addListener(k,"radius_changed",y)))}),[y]),(0,s.useEffect)((()=>{var e=new google.maps.Circle(Ig(Ig({},t||Bg),{},{map:N}));return"number"===typeof n&&e.setRadius(n),"undefined"!==typeof r&&e.setCenter(r),"number"===typeof n&&e.setRadius(n),"undefined"!==typeof i&&e.setVisible(i),"undefined"!==typeof a&&e.setEditable(a),"undefined"!==typeof o&&e.setDraggable(o),l&&L(google.maps.event.addListener(e,"dblclick",l)),c&&P(google.maps.event.addListener(e,"dragend",c)),d&&M(google.maps.event.addListener(e,"dragstart",d)),u&&O(google.maps.event.addListener(e,"mousedown",u)),m&&R(google.maps.event.addListener(e,"mousemove",m)),h&&I(google.maps.event.addListener(e,"mouseout",h)),p&&F(google.maps.event.addListener(e,"mouseover",p)),g&&U(google.maps.event.addListener(e,"mouseup",g)),f&&W(google.maps.event.addListener(e,"rightclick",f)),x&&H(google.maps.event.addListener(e,"click",x)),v&&G(google.maps.event.addListener(e,"drag",v)),b&&Y(google.maps.event.addListener(e,"center_changed",b)),y&&Q(google.maps.event.addListener(e,"radius_changed",y)),S(e),w&&w(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==E&&google.maps.event.removeListener(E),null!==_&&google.maps.event.removeListener(_),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==D&&google.maps.event.removeListener(D),null!==z&&google.maps.event.removeListener(z),null!==B&&google.maps.event.removeListener(B),null!==$&&google.maps.event.removeListener($),null!==V&&google.maps.event.removeListener(V),null!==K&&google.maps.event.removeListener(K),null!==Z&&google.maps.event.removeListener(Z),j&&j(e),e.setMap(null)}}),[]),null}));class Ug extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{circle:null}),Nh(this,"setCircleCallback",(()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)}))}componentDidMount(){var e=new google.maps.Circle(Ig(Ig({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:Fg,eventMap:zg,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Fg,eventMap:zg,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),_h(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function $g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Wg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$g(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(Ug,"contextType",Ch);var Vg={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Hg={add(e,t){e.add(t)},addgeojson(e,t,r){e.addGeoJson(t,r)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,r,s){e.loadGeoJson(t,r,s)},overridestyle(e,t,r){e.overrideStyle(t,r)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,s.memo)((function(e){var{options:t,onClick:r,onDblClick:n,onMouseDown:o,onMouseMove:a,onMouseOut:i,onMouseOver:l,onMouseUp:c,onRightClick:d,onAddFeature:u,onRemoveFeature:m,onRemoveProperty:h,onSetGeometry:p,onSetProperty:g,onLoad:f,onUnmount:x}=e,v=(0,s.useContext)(Ch),[b,y]=(0,s.useState)(null),[w,j]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[S,C]=(0,s.useState)(null),[L,E]=(0,s.useState)(null),[P,_]=(0,s.useState)(null),[M,T]=(0,s.useState)(null),[O,A]=(0,s.useState)(null),[R,D]=(0,s.useState)(null),[I,z]=(0,s.useState)(null),[F,B]=(0,s.useState)(null),[U,$]=(0,s.useState)(null),[W,V]=(0,s.useState)(null),[H,q]=(0,s.useState)(null);return(0,s.useEffect)((()=>{null!==b&&b.setMap(v)}),[v]),(0,s.useEffect)((()=>{b&&n&&(null!==w&&google.maps.event.removeListener(w),j(google.maps.event.addListener(b,"dblclick",n)))}),[n]),(0,s.useEffect)((()=>{b&&o&&(null!==N&&google.maps.event.removeListener(N),k(google.maps.event.addListener(b,"mousedown",o)))}),[o]),(0,s.useEffect)((()=>{b&&a&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(b,"mousemove",a)))}),[a]),(0,s.useEffect)((()=>{b&&i&&(null!==L&&google.maps.event.removeListener(L),E(google.maps.event.addListener(b,"mouseout",i)))}),[i]),(0,s.useEffect)((()=>{b&&l&&(null!==P&&google.maps.event.removeListener(P),_(google.maps.event.addListener(b,"mouseover",l)))}),[l]),(0,s.useEffect)((()=>{b&&c&&(null!==M&&google.maps.event.removeListener(M),T(google.maps.event.addListener(b,"mouseup",c)))}),[c]),(0,s.useEffect)((()=>{b&&d&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(b,"rightclick",d)))}),[d]),(0,s.useEffect)((()=>{b&&r&&(null!==R&&google.maps.event.removeListener(R),D(google.maps.event.addListener(b,"click",r)))}),[r]),(0,s.useEffect)((()=>{b&&u&&(null!==I&&google.maps.event.removeListener(I),z(google.maps.event.addListener(b,"addfeature",u)))}),[u]),(0,s.useEffect)((()=>{b&&m&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(b,"removefeature",m)))}),[m]),(0,s.useEffect)((()=>{b&&h&&(null!==U&&google.maps.event.removeListener(U),$(google.maps.event.addListener(b,"removeproperty",h)))}),[h]),(0,s.useEffect)((()=>{b&&p&&(null!==W&&google.maps.event.removeListener(W),V(google.maps.event.addListener(b,"setgeometry",p)))}),[p]),(0,s.useEffect)((()=>{b&&g&&(null!==H&&google.maps.event.removeListener(H),q(google.maps.event.addListener(b,"setproperty",g)))}),[g]),(0,s.useEffect)((()=>{if(null!==v){var e=new google.maps.Data(Wg(Wg({},t),{},{map:v}));n&&j(google.maps.event.addListener(e,"dblclick",n)),o&&k(google.maps.event.addListener(e,"mousedown",o)),a&&C(google.maps.event.addListener(e,"mousemove",a)),i&&E(google.maps.event.addListener(e,"mouseout",i)),l&&_(google.maps.event.addListener(e,"mouseover",l)),c&&T(google.maps.event.addListener(e,"mouseup",c)),d&&A(google.maps.event.addListener(e,"rightclick",d)),r&&D(google.maps.event.addListener(e,"click",r)),u&&z(google.maps.event.addListener(e,"addfeature",u)),m&&B(google.maps.event.addListener(e,"removefeature",m)),h&&$(google.maps.event.addListener(e,"removeproperty",h)),p&&V(google.maps.event.addListener(e,"setgeometry",p)),g&&q(google.maps.event.addListener(e,"setproperty",g)),y(e),f&&f(e)}return()=>{b&&(null!==w&&google.maps.event.removeListener(w),null!==N&&google.maps.event.removeListener(N),null!==S&&google.maps.event.removeListener(S),null!==L&&google.maps.event.removeListener(L),null!==P&&google.maps.event.removeListener(P),null!==M&&google.maps.event.removeListener(M),null!==O&&google.maps.event.removeListener(O),null!==R&&google.maps.event.removeListener(R),null!==I&&google.maps.event.removeListener(I),null!==F&&google.maps.event.removeListener(F),null!==U&&google.maps.event.removeListener(U),null!==W&&google.maps.event.removeListener(W),null!==H&&google.maps.event.removeListener(H),x&&x(b),b.setMap(null))}}),[]),null}));class qg extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{data:null}),Nh(this,"setDataCallback",(()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)}))}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(Wg(Wg({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:Hg,eventMap:Vg,prevProps:{},nextProps:this.props,instance:e}),this.setState((()=>({data:e})),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Hg,eventMap:Vg,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),_h(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Kg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(qg,"contextType",Ch);var Yg={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Zg={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class Qg extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{kmlLayer:null}),Nh(this,"setKmlLayerCallback",(()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)}))}componentDidMount(){var e=new google.maps.KmlLayer(Kg(Kg({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:Zg,eventMap:Yg,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Zg,eventMap:Yg,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),_h(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function Xg(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Jg(e,t){return new t(e.lat,e.lng)}function ef(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function tf(e,t,r,s){return void 0!==r?function(e,t,r){var s=e&&e.fromLatLngToDivPixel(r.getNorthEast()),n=e&&e.fromLatLngToDivPixel(r.getSouthWest());return s&&n?{left:"".concat(n.x+t.x,"px"),top:"".concat(s.y+t.y,"px"),width:"".concat(s.x-n.x-t.x,"px"),height:"".concat(n.y-s.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,(n=r,o=google.maps.LatLngBounds,a=ef,n instanceof o?n:a(n,o))):function(e,t,r){var s=e&&e.fromLatLngToDivPixel(r);if(s){var{x:n,y:o}=s;return{left:"".concat(n+t.x,"px"),top:"".concat(o+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,r){return e instanceof t?e:r(e,t)}(s,google.maps.LatLng,Jg));var n,o,a}function rf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function sf(e,t,r,s,n){class o extends google.maps.OverlayView{constructor(e,t,r,s){super(),this.container=e,this.pane=t,this.position=r,this.bounds=s}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.container?Xg(this.container,n):{x:0,y:0}),r=tf(e,t,this.bounds,this.position);for(var[s,o]of Object.entries(r))this.container.style[s]=o}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new o(e,t,r,s)}function nf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function of(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function af(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}Nh(Qg,"contextType",Ch);(0,s.memo)((function(e){var{position:t,bounds:r,mapPaneName:n,zIndex:o,onLoad:a,onUnmount:i,getPixelPositionOffset:l,children:c}=e,d=(0,s.useContext)(Ch),u=(0,s.useMemo)((()=>{var e=document.createElement("div");return e.style.position="absolute",e}),[]),m=(0,s.useMemo)((()=>sf(u,n,t,r,l)),[u,n,t,r]);return(0,s.useEffect)((()=>(null===a||void 0===a||a(m),null===m||void 0===m||m.setMap(d),()=>{null===i||void 0===i||i(m),null===m||void 0===m||m.setMap(null)})),[d,m]),(0,s.useEffect)((()=>{u.style.zIndex="".concat(o)}),[o,u]),yh.createPortal(c,u)}));class lf extends s.PureComponent{constructor(e){super(e),Nh(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Nh(this,"updatePane",(()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();Sh(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})})),Nh(this,"onAdd",(()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)})),Nh(this,"onPositionElement",(()=>{var e,t,r,s,n,o,a=this.overlayView.getProjection(),i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nf(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({x:0,y:0},this.containerRef.current?Xg(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=tf(a,i,this.props.bounds,this.props.position);(n=l,o={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},n.left!==o.left||n.top!==o.top||n.width!==o.height||n.height!==o.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(r=l.width)&&void 0!==r?r:0,height:null!==(s=l.height)&&void 0!==s?s:0,position:"absolute"}})})),Nh(this,"draw",(()=>{this.onPositionElement()})),Nh(this,"onRemove",(()=>{var e,t;this.setState((()=>({paneEl:null}))),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)})),this.containerRef=(0,s.createRef)();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=of(e.position),r=of(this.props.position),s=af(e.bounds),n=af(this.props.bounds);t===r&&s===n||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?yh.createPortal((0,Xt.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:s.Children.only(this.props.children)}),e):null}}function cf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(lf,"FLOAT_PANE","floatPane"),Nh(lf,"MAP_PANE","mapPane"),Nh(lf,"MARKER_LAYER","markerLayer"),Nh(lf,"OVERLAY_LAYER","overlayLayer"),Nh(lf,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),Nh(lf,"contextType",Ch);var uf={onDblClick:"dblclick",onClick:"click"},mf={opacity(e,t){e.setOpacity(t)}};(0,s.memo)((function(e){var{url:t,bounds:r,options:n,visible:o}=e,a=(0,s.useContext)(Ch),i=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=(0,s.useMemo)((()=>new google.maps.GroundOverlay(t,i,n)),[]);return(0,s.useEffect)((()=>{null!==l&&l.setMap(a)}),[a]),(0,s.useEffect)((()=>{"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(a))}),[l,t]),(0,s.useEffect)((()=>{"undefined"!==typeof o&&null!==l&&l.setOpacity(o?1:0)}),[l,o]),(0,s.useEffect)((()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));"undefined"!==typeof r&&null!==l&&(l.set("bounds",e),l.setMap(a))}),[l,r]),null}));class hf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{groundOverlay:null}),Nh(this,"setGroundOverlayCallback",(()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)}))}componentDidMount(){Sh(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,df(df({},this.props.options),{},{map:this.context}));this.registeredEvents=Mh({updaterMap:mf,eventMap:uf,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:mf,eventMap:uf,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(r),!0).forEach((function(t){Nh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Nh(hf,"defaultProps",{onLoad:function(){}}),Nh(hf,"contextType",Ch);var ff={},xf={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,s.memo)((function(e){var{data:t,onLoad:r,onUnmount:n,options:o}=e,a=(0,s.useContext)(Ch),[i,l]=(0,s.useState)(null);return(0,s.useEffect)((()=>{google.maps.visualization||Sh(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,s.useEffect)((()=>{Sh(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,s.useEffect)((()=>{null!==i&&i.setMap(a)}),[a]),(0,s.useEffect)((()=>{o&&null!==i&&i.setOptions(o)}),[i,o]),(0,s.useEffect)((()=>{var e=new google.maps.visualization.HeatmapLayer(gf(gf({},o),{},{data:t,map:a}));return l(e),r&&r(e),()=>{null!==i&&(n&&n(i),i.setMap(null))}}),[]),null}));class vf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{heatmapLayer:null}),Nh(this,"setHeatmapLayerCallback",(()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)}))}componentDidMount(){Sh(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Sh(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(gf(gf({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Mh({updaterMap:xf,eventMap:ff,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)}componentDidUpdate(e){_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:xf,eventMap:ff,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),_h(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Nh(vf,"contextType",Ch);var bf={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},yf={register(e,t,r){e.registerPanoProvider(t,r)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class wf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{streetViewPanorama:null}),Nh(this,"setStreetViewPanoramaCallback",(()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)}))}componentDidMount(){var e,t,r=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=Mh({updaterMap:yf,eventMap:bf,prevProps:{},nextProps:this.props,instance:r}),this.setState((()=>({streetViewPanorama:r})),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:yf,eventMap:bf,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),_h(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Nh(wf,"contextType",Ch);class jf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"state",{streetViewService:null}),Nh(this,"setStreetViewServiceCallback",(()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)}))}componentDidMount(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Nh(jf,"contextType",Ch);s.PureComponent;var Nf={onDirectionsChanged:"directions_changed"},kf={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class Sf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"state",{directionsRenderer:null}),Nh(this,"setDirectionsRendererCallback",(()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))}))}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Mh({updaterMap:kf,eventMap:Nf,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:kf,eventMap:Nf,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),_h(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Nh(Sf,"contextType",Ch);s.PureComponent;var Cf={onPlacesChanged:"places_changed"},Lf={bounds(e,t){e.setBounds(t)}};class Ef extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"containerElement",(0,s.createRef)()),Nh(this,"state",{searchBox:null}),Nh(this,"setSearchBoxCallback",(()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)}))}componentDidMount(){if(Sh(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Mh({updaterMap:Lf,eventMap:Cf,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:Lf,eventMap:Cf,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),_h(this.registeredEvents))}render(){return(0,Xt.jsx)("div",{ref:this.containerElement,children:s.Children.only(this.props.children)})}}Nh(Ef,"contextType",Ch);var Pf={onPlaceChanged:"place_changed"},_f={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class Mf extends s.PureComponent{constructor(){super(...arguments),Nh(this,"registeredEvents",[]),Nh(this,"containerElement",(0,s.createRef)()),Nh(this,"state",{autocomplete:null}),Nh(this,"setAutocompleteCallback",(()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)}))}componentDidMount(){var e;Sh(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=Mh({updaterMap:_f,eventMap:Pf,prevProps:{},nextProps:this.props,instance:r}),this.setState((()=>({autocomplete:r})),this.setAutocompleteCallback)}}componentDidUpdate(e){_h(this.registeredEvents),this.registeredEvents=Mh({updaterMap:_f,eventMap:Pf,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&_h(this.registeredEvents)}render(){return(0,Xt.jsx)("div",{ref:this.containerElement,className:this.props.className,children:s.Children.only(this.props.children)})}}Nh(Mf,"defaultProps",{className:""}),Nh(Mf,"contextType",Ch);const Tf=()=>{var e,t;const{userAuth:r}=(0,s.useContext)(er),[n,o]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(""),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),p=(re(),(0,s.useCallback)((async()=>{i(!0);try{const a=await qm();if(a.success){var e,t,s,n;let i=a.data;if(null!==r&&void 0!==r&&null!==(e=r.user)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.coordinates){const[e,t]=r.user.location.coordinates;i=a.data.map((r=>{var s,n;let o="Unknown";if(null!==(s=r.shop)&&void 0!==s&&null!==(n=s.location)&&void 0!==n&&n.coordinates){const[s,n]=r.shop.location.coordinates;o=g(t,e,n,s)}return{...r,distance:o}})),i.sort(((e,t)=>"Unknown"===e.distance?1:"Unknown"===t.distance?-1:e.distance-t.distance))}o(i),null!==r&&void 0!==r&&null!==(s=r.user)&&void 0!==s&&null!==(n=s.location)&&void 0!==n&&n.coordinates&&u({lat:r.user.location.coordinates[1],lng:r.user.location.coordinates[0]})}else Bt.error(a.message||"Failed to fetch nearby shops")}catch(a){console.error("Error fetching shops:",a),Bt.error("Failed to fetch nearby shops")}finally{i(!1)}}),[r]));(0,s.useEffect)((()=>{p()}),[p]);const g=(e,t,r,s)=>{const n=f(r-e),o=f(s-t),a=Math.sin(n/2)*Math.sin(n/2)+Math.cos(f(e))*Math.cos(f(r))*Math.sin(o/2)*Math.sin(o/2),i=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return parseFloat((6371*i).toFixed(1))},f=e=>e*(Math.PI/180),x=n.filter((e=>e.shop.name.toLowerCase().includes(l.toLowerCase())||e.shop.category.toLowerCase().includes(l.toLowerCase())));return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50/30",children:(0,Xt.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-purple-500 to-indigo-500 rounded-3xl transform -rotate-1 opacity-10"}),(0,Xt.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-xl border border-gray-100 p-8",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-600 bg-clip-text text-transparent",children:"Nearby Shops"}),(0,Xt.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Discover amazing local shops in your area"})]})]}),(null===r||void 0===r||null===(e=r.user)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.coordinates)&&(0,Xt.jsxs)("div",{className:"mt-6 flex items-center bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-4 border border-green-200",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-semibold text-green-800",children:"Location Services Active"}),(0,Xt.jsx)("p",{className:"text-green-600 text-sm",children:"Showing shops sorted by distance from your location"})]})]})]})]}),(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-orange-500 to-pink-500 rounded-2xl blur opacity-20"}),(0,Xt.jsxs)("div",{className:"relative bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/50",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute inset-y-0 left-0 pl-5 flex items-center pointer-events-none",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Xt.jsx)("input",{type:"text",placeholder:"Search shops by name or category...",className:"w-full pl-14 pr-6 py-4 bg-white/70 border-2 border-gray-200 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 text-base backdrop-blur-sm",value:l,onChange:e=>c(e.target.value)}),l&&(0,Xt.jsx)("button",{onClick:()=>c(""),className:"absolute inset-y-0 right-0 pr-5 flex items-center",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-gray-400 hover:text-gray-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l&&(0,Xt.jsxs)("div",{className:"mt-3 text-sm text-gray-600",children:[x.length," shop",1!==x.length?"s":"",' found for "',l,'"']})]})]}),(0,Xt.jsxs)("div",{className:"relative mb-12",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-green-500 to-teal-500 rounded-2xl blur opacity-20"}),(0,Xt.jsxs)("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 overflow-hidden",children:[(0,Xt.jsx)("div",{className:"p-6 pb-0",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-teal-500 rounded-lg flex items-center justify-center shadow-lg mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Interactive Map"})]}),(0,Xt.jsxs)("div",{className:"bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-semibold",children:[n.length," shops nearby"]})]})}),(0,Xt.jsx)("div",{className:"rounded-2xl overflow-hidden mx-6 mb-6 shadow-lg",children:(0,Xt.jsx)(qh,{googleMapsApiKey:"AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs",children:(0,Xt.jsx)(Ah,{mapContainerStyle:{width:"100%",height:"300px"},center:d||{lat:20.5937,lng:78.9629},zoom:12,children:n.map((e=>(0,Xt.jsx)(pp,{position:{lat:e.shop.location.coordinates[1],lng:e.shop.location.coordinates[0]},onClick:()=>h(e)},e._id)))})})})]})]}),(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl blur opacity-20"}),(0,Xt.jsxs)("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-8",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-lg mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Available Shops"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Click on any shop to explore their products"})]})]}),(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-3 rounded-xl border border-purple-200",children:(0,Xt.jsx)("div",{className:"text-sm text-purple-600 font-semibold",children:a?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500 mr-2"}),"Loading..."]}):`${x.length} shops available`})})]}),a?(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-500 rounded-full animate-spin mx-auto"}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-transparent border-t-pink-400 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-6 max-w-md mx-auto",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Discovering Shops"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Finding the best shops near you..."})]})]}):x.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((e=>{var t,s,n;return(0,Xt.jsxs)("div",{className:"relative group cursor-pointer",onClick:()=>h(e),children:[(0,Xt.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-gray-200 to-gray-300 rounded-2xl blur opacity-30 group-hover:opacity-50 transition duration-300 "+((null===m||void 0===m?void 0:m._id)===e._id?"from-orange-400 to-pink-400 opacity-60":"")}),(0,Xt.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border overflow-hidden hover:shadow-2xl transition-all duration-300 transform group-hover:scale-105 "+((null===m||void 0===m?void 0:m._id)===e._id?"border-orange-300 shadow-2xl scale-105":"border-white/50"),children:[(0,Xt.jsxs)("div",{className:"relative h-56 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[e.shop.images&&e.shop.images.length>0?(0,Xt.jsx)("img",{src:e.shop.images[0],alt:e.shop.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300",children:(0,Xt.jsxs)("div",{className:"text-center text-gray-400",children:[(0,Xt.jsx)("svg",{className:"w-16 h-16 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"No Image"})]})}),(0,Xt.jsx)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm rounded-xl px-3 py-2 shadow-lg border border-white/50",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Xt.jsx)(Fm,{rating:e.shop.rating||0}),(0,Xt.jsxs)("span",{className:"font-semibold text-gray-700",children:["(",(null===(t=e.shop.reviews)||void 0===t?void 0:t.length)||0,")"]})]})}),(null===m||void 0===m?void 0:m._id)===e._id&&(0,Xt.jsx)("div",{className:"absolute top-4 left-4 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center shadow-lg",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsx)("h3",{className:"font-bold text-xl text-gray-800 mb-2 group-hover:text-purple-600 transition-colors",children:e.shop.name}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4 bg-gray-100 px-3 py-1 rounded-full text-sm inline-block",children:e.shop.category}),(null===r||void 0===r||null===(s=r.user)||void 0===s||null===(n=s.location)||void 0===n?void 0:n.coordinates)&&(0,Xt.jsxs)("div",{className:"flex items-center mb-4 p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl border border-blue-200",children:[(0,Xt.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mr-3",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("p",{className:"text-blue-800 font-semibold text-sm",children:[g(r.user.location.coordinates[1],r.user.location.coordinates[0],e.shop.location.coordinates[1],e.shop.location.coordinates[0])," km away"]}),(0,Xt.jsx)("p",{className:"text-blue-600 text-xs",children:"From your location"})]})]}),(0,Xt.jsxs)(nt,{to:`/user/shop/${e._id}`,className:"block w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-4 rounded-xl font-semibold text-center shadow-lg hover:shadow-xl transition-all duration-200 group-hover:scale-105",children:[(0,Xt.jsxs)("svg",{className:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Shop"]})]})]})]},e._id)}))}):(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center mx-auto mb-8",children:(0,Xt.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-8 max-w-md mx-auto",children:[(0,Xt.jsx)("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:"No Shops Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:l?`No shops found matching "${l}". Try a different search term.`:"No shops found in your area. Check back later for new shops!"}),l&&(0,Xt.jsx)("button",{onClick:()=>c(""),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-3 px-6 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Clear Search"})]})]})]})]})]})})})},Of=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(null),[i,l]=(0,s.useState)(""),c=e=>{var t,r;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.mainImage?e.shop.mainImage:null!==e&&void 0!==e&&null!==(r=e.shop)&&void 0!==r&&r.images&&e.shop.images.length>0?e.shop.images[0]:null};return(0,s.useEffect)((()=>{(async()=>{try{console.log("\ud83c\udfea [NearbyShopsPage] Fetching nearby shops...");const e=await qm();e.success?(console.log("\u2705 [NearbyShopsPage] Shops fetched successfully:",{count:e.count,hasUserLocation:!!e.userLocation,searchRadius:e.searchRadius}),e.data&&e.data.length>0&&(console.log("\ud83d\udcca [NearbyShopsPage] Shops with distances:"),e.data.slice(0,5).forEach(((e,t)=>{var r;console.log(`  ${t+1}. ${null===(r=e.shop)||void 0===r?void 0:r.name} - ${e.distanceText||"No distance"}`)}))),t(e.data),a(e.userLocation),l(e.searchRadius)):(console.log("\u26a0\ufe0f [NearbyShopsPage] API returned error:",e.message),Bt.error(e.message||"Failed to fetch nearby shops"))}catch(e){console.error("\u274c [NearbyShopsPage] Error fetching shops:",e),Bt.error("Failed to load nearby shops")}finally{n(!1)}})()}),[]),(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"container mx-auto p-4",children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Nearby Shops"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Discover local fashion stores near you"}),o&&(0,Xt.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:(0,Xt.jsxs)("div",{className:"flex items-center text-sm text-blue-800",children:[(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"font-semibold",children:"Searching from: "}),o.address||`${o.latitude}, ${o.longitude}`,i&&(0,Xt.jsxs)("span",{className:"ml-2 text-blue-600",children:["\u2022 Within ",i]})]})]})})]}),r?(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Finding shops near you..."})]}):e.length>0?(0,Xt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(((e,t)=>{var r,s,n,o,a,i,l,d,u,m,h,p,g;return(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,Xt.jsxs)("div",{className:"h-48 bg-gray-200 relative",children:[c(e)?(0,Xt.jsx)("img",{src:c(e),alt:(null===(r=e.shop)||void 0===r?void 0:r.name)||"Shop",className:"h-full w-full object-cover",onError:t=>{console.log("\u274c Shop image failed to load:",c(e)),t.target.style.display="none",t.target.nextSibling.style.display="flex"}}):null,(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-orange-100 to-orange-200 "+(c(e)?"hidden":"flex"),children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-orange-400 mx-auto mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,Xt.jsx)("span",{className:"text-sm text-orange-600 font-medium",children:null===(s=e.shop)||void 0===s?void 0:s.name})]})}),e.distanceText&&(0,Xt.jsxs)("div",{className:"absolute top-3 left-3 bg-green-500 text-white px-3 py-1.5 rounded-full text-sm font-bold shadow-lg flex items-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.distanceText]}),(0,Xt.jsxs)("div",{className:"absolute top-3 right-3 bg-blue-500 text-white w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold shadow-lg",children:["#",t+1]}),(null===(n=e.shop)||void 0===n||null===(o=n.images)||void 0===o?void 0:o.length)>1&&(0,Xt.jsxs)("div",{className:"absolute bottom-3 left-3 bg-black/70 text-white px-2 py-1 rounded text-sm flex items-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.shop.images.length]}),(0,Xt.jsx)("div",{className:"absolute bottom-3 right-3 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:(null===(a=e.shop)||void 0===a?void 0:a.category)||"Fashion"})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsxs)("div",{className:"mb-3",children:[(0,Xt.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:(null===(i=e.shop)||void 0===i?void 0:i.name)||"Shop Name"}),(0,Xt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(null===(l=e.shop)||void 0===l?void 0:l.category)||"Fashion"," Store"]})]}),(null===(d=e.shop)||void 0===d?void 0:d.description)&&(0,Xt.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.shop.description}),(0,Xt.jsxs)("div",{className:"mb-4",children:[(0,Xt.jsxs)("div",{className:"flex items-start text-sm text-gray-600 mb-2",children:[(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("span",{className:"line-clamp-2",children:(null===(u=e.shop)||void 0===u?void 0:u.address)||"Address not available"})]}),(null===(m=e.shop)||void 0===m?void 0:m.openTime)&&(null===(h=e.shop)||void 0===h?void 0:h.closeTime)&&(0,Xt.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Xt.jsxs)("span",{children:[e.shop.openTime," - ",e.shop.closeTime]})]}),(null===(p=e.shop)||void 0===p||null===(g=p.phoneNumber)||void 0===g?void 0:g.main)&&(0,Xt.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Xt.jsx)("span",{children:e.shop.phoneNumber.main})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-4 py-3 border-t border-gray-100",children:[(0,Xt.jsx)("div",{className:"flex items-center",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map(((e,t)=>(0,Xt.jsx)("svg",{className:"h-4 w-4 "+(t<4?"text-yellow-400":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,Xt.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))),(0,Xt.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"(4.8)"})]})}),(0,Xt.jsxs)("div",{className:"text-sm text-gray-500",children:[Math.floor(50*Math.random())+10," reviews"]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Starting from "}),(0,Xt.jsx)("span",{className:"text-orange-600 font-bold text-lg",children:"\u20b9230"}),e.distanceText&&(0,Xt.jsxs)("div",{className:"text-green-600 text-xs font-semibold mt-1",children:["\ud83d\udccd ",e.distanceText]})]}),(0,Xt.jsxs)(nt,{to:`/user/shop/${e._id}`,className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Visit Shop"]})]})]})]},e._id)}))}):(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-12 text-center",children:[(0,Xt.jsx)("div",{className:"mb-6",children:(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-gray-300 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,Xt.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No Nearby Shops Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:o?"We couldn't find any shops in your area. Try expanding the search radius or check back later.":"Please enable location access to find shops near you, or browse all available shops."}),(0,Xt.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-medium transition-colors duration-200",children:"Refresh & Try Again"})]})]})})},Af=()=>{const[e,t]=(0,s.useState)({items:[],total:0}),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)({}),i=re();(0,s.useEffect)((()=>{l()}),[]);const l=async()=>{n(!0);try{const e=await oh.getCart();e.success?t(e.data):Bt.error(e.message||"Failed to fetch cart")}catch(e){console.error("Error fetching cart:",e),Bt.error("Something went wrong while fetching cart")}finally{n(!1)}},c=async(e,r)=>{if(!(r<=0)){a({...o,[e]:!0});try{const s=await oh.updateCartItem(e,r);s.success?(t(s.data),Bt.success("Cart updated")):Bt.error(s.message||"Failed to update cart")}catch(s){console.error("Error updating cart:",s),Bt.error("Something went wrong")}finally{a({...o,[e]:!1})}}},d=()=>e.items.reduce(((e,t)=>e+t.price*t.quantity),0),u=e=>Math.round(.18*e),m=e=>e>=500?0:50;if(r)return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"container mx-auto p-4",children:(0,Xt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading your cart..."})]})})})});if(!e.items||0===e.items.length)return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"container mx-auto p-4",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,Xt.jsx)("div",{className:"mb-6",children:(0,Xt.jsx)("svg",{className:"w-24 h-24 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 7m0 0l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17M17 13v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Your Cart is Empty"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any items to your cart yet."}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"Continue Shopping"}),(0,Xt.jsx)("br",{}),(0,Xt.jsx)(nt,{to:"/user/trending",className:"inline-block text-orange-600 hover:text-orange-700 font-medium",children:"Browse Trending Products"})]})]})})});const h=d(),p=u(h),g=m(h),f=(()=>{const e=d();return e+u(e)+m(e)})();return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Shopping Cart"}),(0,Xt.jsxs)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear your cart?"))try{const e=await oh.clearCart();e.success?(t({items:[],total:0}),Bt.success("Cart cleared")):Bt.error(e.message||"Failed to clear cart")}catch(e){console.error("Error clearing cart:",e),Bt.error("Something went wrong")}},className:"text-red-600 hover:text-red-700 text-sm font-medium flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear Cart"]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xt.jsx)("div",{className:"lg:col-span-2",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border",children:[(0,Xt.jsx)("div",{className:"p-4 border-b",children:(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800",children:["Cart Items (",e.items.length,")"]})}),(0,Xt.jsx)("div",{className:"divide-y",children:e.items.map((e=>{var r;return(0,Xt.jsx)("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:(0,Xt.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Xt.jsx)("div",{className:"flex-shrink-0",children:(0,Xt.jsx)(nt,{to:`/user/product/${e.product._id}`,children:(0,Xt.jsx)("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden",children:e.product.images&&e.product.images[0]?(0,Xt.jsx)("img",{src:e.product.images[0],alt:e.product.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,Xt.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})})})}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsx)(nt,{to:`/user/product/${e.product._id}`,className:"block",children:(0,Xt.jsx)("h3",{className:"font-medium text-gray-800 hover:text-orange-600 transition-colors line-clamp-2",children:e.product.name})}),e.product.seller&&(0,Xt.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["by ",(null===(r=e.product.seller.shop)||void 0===r?void 0:r.name)||"Shop"]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:[e.selectedSize&&(0,Xt.jsxs)("span",{children:["Size: ",e.selectedSize]}),e.selectedColor&&(0,Xt.jsxs)("span",{children:["Color: ",e.selectedColor]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xt.jsxs)("span",{className:"text-lg font-bold text-gray-800",children:["\u20b9",e.price]}),e.product.mrp>e.price&&(0,Xt.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["\u20b9",e.product.mrp]})]}),(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("button",{onClick:()=>c(e.product._id,e.quantity-1),disabled:e.quantity<=1||o[e.product._id],className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,Xt.jsx)("span",{className:"w-8 text-center font-medium",children:o[e.product._id]?(0,Xt.jsx)("div",{className:"w-4 h-4 border-2 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto"}):e.quantity}),(0,Xt.jsx)("button",{onClick:()=>c(e.product._id,e.quantity+1),disabled:o[e.product._id],className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,Xt.jsx)("button",{onClick:()=>(async e=>{a({...o,[e]:!0});try{const r=await oh.removeFromCart(e);r.success?(t(r.data),Bt.success("Item removed from cart")):Bt.error(r.message||"Failed to remove item")}catch(r){console.error("Error removing item:",r),Bt.error("Something went wrong")}finally{a({...o,[e]:!1})}})(e.product._id),disabled:o[e.product._id],className:"ml-4 text-red-600 hover:text-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),(0,Xt.jsxs)("div",{className:"mt-2 text-right",children:[(0,Xt.jsx)("span",{className:"text-sm text-gray-600",children:"Item Total: "}),(0,Xt.jsxs)("span",{className:"font-bold text-gray-800",children:["\u20b9",e.price*e.quantity]})]})]})]})},e._id)}))})]})}),(0,Xt.jsx)("div",{className:"lg:col-span-1",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border sticky top-4",children:[(0,Xt.jsx)("div",{className:"p-4 border-b",children:(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"})}),(0,Xt.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",e.items.length," items)"]}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",h]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Tax (18% GST)"}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",p]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Xt.jsx)("span",{className:"font-medium",children:0===g?(0,Xt.jsx)("span",{className:"text-green-600",children:"FREE"}):`\u20b9${g}`})]}),h<500&&(0,Xt.jsxs)("p",{className:"text-xs text-gray-500",children:["Add \u20b9",500-h," more for free shipping"]}),(0,Xt.jsx)("div",{className:"border-t pt-3",children:(0,Xt.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,Xt.jsx)("span",{children:"Total"}),(0,Xt.jsxs)("span",{className:"text-orange-600",children:["\u20b9",f]})]})})]}),(0,Xt.jsxs)("div",{className:"p-4 border-t",children:[(0,Xt.jsxs)("button",{onClick:()=>i("/user/checkout"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Proceed to Checkout"]}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"block w-full text-center text-orange-600 hover:text-orange-700 py-2 mt-3 font-medium",children:"Continue Shopping"})]})]})})]})]})})},Rf=()=>{var e,t,r;const{userAuth:n}=(0,s.useContext)(er),o=re(),[a,i]=(0,s.useState)({items:[],total:0}),[l,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)({address:"",city:"",postalCode:"",country:"India",phone:(null===(e=n.user)||void 0===e?void 0:e.mobileNumber)||""}),[p,g]=(0,s.useState)("Card"),[f,x]=(0,s.useState)("manual"),[v,b]=(0,s.useState)(!1),[y,w]=(0,s.useState)("");(0,s.useEffect)((()=>{j(),N()}),[]);const j=async()=>{c(!0);try{const e=await oh.getCart();if(e.success){if(!e.data.items||0===e.data.items.length)return Bt.error("Your cart is empty"),void o("/user/cart");i(e.data)}else Bt.error(e.message||"Failed to fetch cart"),o("/user/cart")}catch(e){console.error("Error fetching cart:",e),Bt.error("Something went wrong"),o("/user/cart")}finally{c(!1)}},N=()=>{var e,t;null!==(e=n.user)&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.address&&console.log("\ud83d\udcbe User has saved address available")},k=async(e,t)=>{const r="AIzaSyDXgpjsQ2MQrQG3CNf3u9kLrPfmAQAmnHs";try{const s=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${r}&region=IN&language=en`);if(!s.ok)throw new Error("Failed to get address from coordinates");const n=await s.json();if("OK"!==n.status||!n.results||0===n.results.length)throw new Error("No address found for current location");const o=n.results[0];return console.log("\ud83d\uddfa\ufe0f Geocoding result:",o),o}catch(s){throw console.error("\u274c Reverse geocoding error:",s),new Error("Failed to convert location to address")}},S=e=>{const t=e.address_components,r=e.formatted_address;let s="",n="",o="",a="",i="",l="",c="";t.forEach((e=>{const t=e.types;t.includes("street_number")&&(s=e.long_name),t.includes("route")&&(n=e.long_name),t.includes("locality")&&(o=e.long_name),t.includes("administrative_area_level_2")&&(a=e.long_name),t.includes("administrative_area_level_1")&&(i=e.long_name),t.includes("postal_code")&&(l=e.long_name),t.includes("country")&&(c=e.long_name)}));return{fullAddress:r,streetAddress:[s,n].filter(Boolean).join(" "),city:o||a,state:i,postalCode:l,country:c}},C=async e=>{var t,r;x(e),w(""),"saved"===e&&null!==(t=n.user)&&void 0!==t&&null!==(r=t.location)&&void 0!==r&&r.address?(h((e=>({...e,address:n.user.location.address}))),Bt.success("Saved address loaded")):"current"===e?await(async()=>{b(!0),w("");try{if(console.log("\ud83d\udccd Starting high-accuracy location detection..."),!navigator.geolocation)throw new Error("Geolocation is not supported by this browser");const e=await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>{console.log("\u2705 Location obtained:",{latitude:t.coords.latitude,longitude:t.coords.longitude,accuracy:t.coords.accuracy+" meters"}),e(t)}),(e=>{console.error("\u274c Geolocation error:",e);let r="Unable to get your location";switch(e.code){case e.PERMISSION_DENIED:r="Location access denied. Please enable location permissions.";break;case e.POSITION_UNAVAILABLE:r="Location information unavailable. Please try again.";break;case e.TIMEOUT:r="Location request timed out. Please try again.";break;default:r="Unable to get your location. Please try again."}t(new Error(r))}),{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})})),{latitude:t,longitude:r}=e.coords;console.log("\ud83d\udd04 Converting coordinates to address...");const s=await k(t,r),n=S(s);h((e=>({...e,address:n.fullAddress,city:n.city,postalCode:n.postalCode}))),console.log("\u2705 Address updated successfully:",n),Bt.success("Current location detected successfully!")}catch(e){console.error("\u274c Location error:",e),w(e.message),Bt.error(e.message)}finally{b(!1)}})():"manual"===e&&h((e=>({...e,address:""})))},L=()=>{const e=a.items.reduce(((e,t)=>e+t.price*t.quantity),0),t=Math.round(.18*e),r=e>=500?0:50,s=e+t+r;return{subtotal:Math.round(e),taxPrice:t,shippingPrice:r,totalPrice:Math.round(s)}};if(l)return(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"container mx-auto p-4",children:(0,Xt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading checkout..."})]})})})});const E=L();return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("button",{onClick:()=>o("/user/cart"),className:"mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Checkout"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xt.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Shipping Address"}),(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Choose address option:"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,Xt.jsxs)("label",{className:"flex items-center p-3 border-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors",children:[(0,Xt.jsx)("input",{type:"radio",name:"addressMode",value:"current",checked:"current"===f,onChange:e=>C(e.target.value),className:"mr-3 text-blue-600",disabled:v}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[v?(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500 mr-2"}):(0,Xt.jsxs)("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:v?"Detecting...":"Use Current Location"})]})]}),(null===(t=n.user)||void 0===t||null===(r=t.location)||void 0===r?void 0:r.address)&&(0,Xt.jsxs)("label",{className:"flex items-center p-3 border-2 rounded-lg cursor-pointer hover:bg-green-50 transition-colors",children:[(0,Xt.jsx)("input",{type:"radio",name:"addressMode",value:"saved",checked:"saved"===f,onChange:e=>C(e.target.value),className:"mr-3 text-green-600"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"Use Saved Address"})]})]}),(0,Xt.jsxs)("label",{className:"flex items-center p-3 border-2 rounded-lg cursor-pointer hover:bg-orange-50 transition-colors",children:[(0,Xt.jsx)("input",{type:"radio",name:"addressMode",value:"manual",checked:"manual"===f,onChange:e=>C(e.target.value),className:"mr-3 text-orange-600"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-orange-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),(0,Xt.jsx)("span",{className:"text-sm font-medium",children:"Type Address"})]})]})]}),y&&(0,Xt.jsxs)("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-red-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Xt.jsx)("p",{className:"text-sm text-red-700",children:y})]}),(0,Xt.jsx)("button",{onClick:()=>C("current"),className:"mt-2 text-xs text-red-600 hover:text-red-800 underline",children:"Try again"})]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xt.jsxs)("div",{className:"md:col-span-2",children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),"manual"===f?(0,Xt.jsx)(Ed,{value:m.address,onChange:e=>h({...m,address:e}),onPlaceSelected:e=>{if(console.log("\ud83c\udfe0 Place selected:",e),h((t=>({...t,address:e.address}))),e.address){const t=e.address.split(",").map((e=>e.trim())),r=e.address.match(/\b\d{6}\b/);if(r&&h((e=>({...e,postalCode:r[0]}))),t.length>1){const e=t[t.length-3]||t[1];e&&e.length>2&&h((t=>({...t,city:e})))}}},placeholder:"Start typing your address...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"}):(0,Xt.jsx)("textarea",{value:m.address,onChange:e=>h({...m,address:e.target.value}),placeholder:"current"===f?"Address will be detected automatically...":"Your saved address will appear here...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500 bg-gray-50",readOnly:"manual"!==f,required:!0})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,Xt.jsx)("input",{type:"text",value:m.city,onChange:e=>h({...m,city:e.target.value}),placeholder:"Enter city",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),(0,Xt.jsx)("input",{type:"text",value:m.postalCode,onChange:e=>h({...m,postalCode:e.target.value}),placeholder:"Enter postal code",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Xt.jsx)("select",{value:m.country,onChange:e=>h({...m,country:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",children:(0,Xt.jsx)("option",{value:"India",children:"India"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),(0,Xt.jsx)("input",{type:"tel",value:m.phone,onChange:e=>h({...m,phone:e.target.value}),placeholder:"Enter phone number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Method"}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xt.jsx)("input",{type:"radio",name:"paymentMethod",value:"Card",checked:"Card"===p,onChange:e=>g(e.target.value),className:"mr-3"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 text-blue-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),(0,Xt.jsx)("span",{children:"Credit/Debit Card"})]})]}),(0,Xt.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xt.jsx)("input",{type:"radio",name:"paymentMethod",value:"UPI",checked:"UPI"===p,onChange:e=>g(e.target.value),className:"mr-3"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 text-green-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),(0,Xt.jsx)("span",{children:"UPI Payment"})]})]}),(0,Xt.jsxs)("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Xt.jsx)("input",{type:"radio",name:"paymentMethod",value:"Cash on Delivery",checked:"Cash on Delivery"===p,onChange:e=>g(e.target.value),className:"mr-3"}),(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 text-orange-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})}),(0,Xt.jsx)("span",{children:"Cash on Delivery"})]})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Order Items (",a.items.length,")"]}),(0,Xt.jsx)("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:a.items.map((e=>(0,Xt.jsxs)("div",{className:"flex items-center space-x-3 p-2 border-b border-gray-100 last:border-b-0",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-md overflow-hidden flex-shrink-0",children:e.product.images&&e.product.images[0]?(0,Xt.jsx)("img",{src:e.product.images[0],alt:e.product.name,className:"w-full h-full object-cover"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,Xt.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-gray-800 line-clamp-1",children:e.product.name}),(0,Xt.jsxs)("p",{className:"text-xs text-gray-500",children:["Qty: ",e.quantity]})]}),(0,Xt.jsx)("div",{className:"text-right",children:(0,Xt.jsxs)("p",{className:"text-sm font-medium text-gray-800",children:["\u20b9",e.price*e.quantity]})})]},e._id)))})]})]}),(0,Xt.jsx)("div",{className:"lg:col-span-1",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border sticky top-4",children:[(0,Xt.jsx)("div",{className:"p-4 border-b",children:(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"})}),(0,Xt.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",a.items.length," items)"]}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",E.subtotal]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Tax (18% GST)"}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",E.taxPrice]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Xt.jsx)("span",{className:"font-medium",children:0===E.shippingPrice?(0,Xt.jsx)("span",{className:"text-green-600",children:"FREE"}):`\u20b9${E.shippingPrice}`})]}),(0,Xt.jsx)("div",{className:"border-t pt-3",children:(0,Xt.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,Xt.jsx)("span",{children:"Total"}),(0,Xt.jsxs)("span",{className:"text-orange-600",children:["\u20b9",E.totalPrice]})]})})]}),(0,Xt.jsxs)("div",{className:"p-4 border-t",children:[(0,Xt.jsx)("button",{onClick:async()=>{if(m.address.trim()?m.city.trim()?m.postalCode.trim()?m.phone.trim()?p||(Bt.error("Please select payment method"),0):(Bt.error("Please enter phone number"),0):(Bt.error("Please enter postal code"),0):(Bt.error("Please enter your city"),0):(Bt.error("Please enter your address"),0)){u(!0);try{const e=L(),t=Xd.formatOrderForAPI(a.items,m,p);o("/user/payment",{state:{orderData:t,totals:e,cartItems:a.items}})}catch(e){console.error("Error processing order:",e),Bt.error("Something went wrong while processing your order")}finally{u(!1)}}},disabled:d||v,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:d?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Place Order"]})}),(0,Xt.jsx)(nt,{to:"/user/cart",className:"block w-full text-center text-orange-600 hover:text-orange-700 py-2 mt-3 font-medium",children:"Back to Cart"})]})]})})]})]})})},Df=()=>{const e=J(),t=re(),[r,n]=(0,s.useState)(!1),[o,a]=(0,s.useState)("form"),[i,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)([]),[h,p]=(0,s.useState)(null),[g,f]=(0,s.useState)({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[x,v]=(0,s.useState)(""),[b,y]=(0,s.useState)(Xd.isTestMode()),w=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=(new Date).toISOString(),n="SUCCESS"===t?"\u2705":"ERROR"===t?"\u274c":"\ud83d\udd04";console.log(`${n} [PAYMENT-FLOW] ${s} - ${e}`,r?JSON.stringify(r,null,2):"")};(0,s.useEffect)((()=>{if(w("PAGE_LOAD","PROCESSING",{hasLocationState:!!e.state}),!e.state)return w("PAGE_LOAD","ERROR",{reason:"missing_navigation_state"}),Bt.error("Invalid payment request"),void t("/user/cart");const{orderData:r,totals:s,cartItems:n}=e.state;l(r),d(s),m(n),w("PAGE_LOAD","SUCCESS",{paymentMethod:null===r||void 0===r?void 0:r.paymentMethod,totalPrice:null===s||void 0===s?void 0:s.totalPrice,itemCount:null===n||void 0===n?void 0:n.length,testMode:b})}),[e.state,t,b]);const j=(e,t)=>{let r=t;"cardNumber"===e&&(r=t.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim(),r.length>19)||"expiryDate"===e&&(r=t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"$1/$2"),r.length>5)||"cvv"===e&&(r=t.replace(/\D/g,""),r.length>3)||f((t=>({...t,[e]:r})))};return i&&c?(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl",children:[b&&(0,Xt.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"\ud83e\uddea Test Mode Active"}),(0,Xt.jsx)("p",{className:"text-xs text-blue-600",children:"All payments are simulated for testing purposes"})]})]})}),"processing"===o&&(0,Xt.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg p-8 text-center max-w-md mx-4",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-500 mx-auto"})}),(0,Xt.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Processing Payment... ",b&&"\ud83e\uddea"]}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Please don't close this window"}),"Card"===i.paymentMethod&&(0,Xt.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,Xt.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udd12 ",b?"Simulating card verification...":"Verifying card details with bank..."]})}),"UPI"===i.paymentMethod&&(0,Xt.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:(0,Xt.jsxs)("p",{className:"text-sm text-green-800",children:["\ud83d\udc9a ",b?"Simulating UPI transaction...":"Confirming UPI transaction..."]})}),"Cash on Delivery"===i.paymentMethod&&(0,Xt.jsx)("div",{className:"mt-4 p-3 bg-orange-50 rounded-lg",children:(0,Xt.jsx)("p",{className:"text-sm text-orange-800",children:"\ud83d\udce6 Creating your order..."})})]})}),"success"===o&&(0,Xt.jsxs)("div",{className:"text-center py-12",children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{className:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Xt.jsxs)("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:["Payment Successful! \ud83c\udf89 ",b&&"\ud83e\uddea"]}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:"Your order has been placed successfully."}),h&&(0,Xt.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 max-w-md mx-auto",children:[(0,Xt.jsx)("p",{className:"text-sm text-gray-600",children:"Order Number"}),(0,Xt.jsx)("p",{className:"text-lg font-bold text-gray-800",children:h.orderNumber}),(0,Xt.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"\u2705 Seller has been notified automatically"}),b&&(0,Xt.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"\ud83e\uddea Test payment processed successfully"})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-orange-500"}),(0,Xt.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to order confirmation..."})]})]}),"failed"===o&&(0,Xt.jsx)("div",{className:"text-center py-12",children:(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Xt.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Xt.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Payment Failed \u274c ",b&&"\ud83e\uddea"]}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"There was an issue processing your payment. Please try again."}),b&&(0,Xt.jsx)("p",{className:"text-sm text-blue-600 mb-4",children:"\ud83e\uddea This is a simulated payment failure for testing"}),(0,Xt.jsxs)("div",{className:"space-x-4",children:[(0,Xt.jsx)("button",{onClick:()=>{w("PAYMENT_RETRY","PROCESSING"),a("form")},className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-medium",children:"Try Again"}),(0,Xt.jsx)("button",{onClick:()=>t("/user/checkout"),className:"text-orange-600 hover:text-orange-700 px-6 py-2 font-medium",children:"Back to Checkout"})]})]})}),"form"===o&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xt.jsx)("button",{onClick:()=>t("/user/checkout"),className:"mr-4",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Payment ",b&&"\ud83e\uddea"]})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Xt.jsxs)("div",{className:"lg:col-span-2",children:[(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Payment Method"}),(0,Xt.jsxs)("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:["Card"===i.paymentMethod&&(0,Xt.jsx)("svg",{className:"w-6 h-6 text-blue-600 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),"UPI"===i.paymentMethod&&(0,Xt.jsx)("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Cash on Delivery"===i.paymentMethod&&(0,Xt.jsx)("svg",{className:"w-6 h-6 text-orange-600 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})}),(0,Xt.jsx)("span",{className:"font-medium",children:i.paymentMethod}),b&&(0,Xt.jsx)("span",{className:"ml-2 text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded",children:"TEST"})]})]}),"Card"===i.paymentMethod&&(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Card Details"}),b&&(0,Xt.jsx)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:(0,Xt.jsx)("p",{className:"text-sm text-blue-800",children:"\ud83e\uddea Test Mode: Use any 16-digit number for testing"})}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number *"}),(0,Xt.jsx)("input",{type:"text",value:g.cardNumber,onChange:e=>j("cardNumber",e.target.value),placeholder:b?"4111 1111 1111 1111 (Test)":"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",maxLength:"19"})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date *"}),(0,Xt.jsx)("input",{type:"text",value:g.expiryDate,onChange:e=>j("expiryDate",e.target.value),placeholder:"12/25",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",maxLength:"5"})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV *"}),(0,Xt.jsx)("input",{type:"text",value:g.cvv,onChange:e=>j("cvv",e.target.value),placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500",maxLength:"3"})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),(0,Xt.jsx)("input",{type:"text",value:g.cardholderName,onChange:e=>j("cardholderName",e.target.value),placeholder:"Enter name as on card",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),(0,Xt.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,Xt.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83d\udd12 Your card details are secure and encrypted",b&&" (Test Mode - No real charges)"]})})]}),"UPI"===i.paymentMethod&&(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"UPI Payment"}),b&&(0,Xt.jsx)("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:(0,Xt.jsx)("p",{className:"text-sm text-green-800",children:"\ud83e\uddea Test Mode: Use any UPI ID format for testing"})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"UPI ID *"}),(0,Xt.jsx)("input",{type:"text",value:x,onChange:e=>v(e.target.value),placeholder:b?"test@paytm (Test)":"yourname@paytm",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),(0,Xt.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:(0,Xt.jsxs)("p",{className:"text-sm text-green-800",children:["\ud83d\udc9a Quick and secure UPI payment",b&&" (Test Mode - No real transaction)"]})})]}),"Cash on Delivery"===i.paymentMethod&&(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Cash on Delivery"}),(0,Xt.jsx)("div",{className:"p-4 bg-orange-50 rounded-lg",children:(0,Xt.jsxs)("div",{className:"flex items-start",children:[(0,Xt.jsx)("svg",{className:"w-6 h-6 text-orange-600 mr-3 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h3",{className:"font-medium text-orange-800 mb-1",children:"Payment Instructions"}),(0,Xt.jsxs)("ul",{className:"text-sm text-orange-700 space-y-1",children:[(0,Xt.jsxs)("li",{children:["\u2022 Pay \u20b9",c.totalPrice," to the delivery person"]}),(0,Xt.jsx)("li",{children:"\u2022 Please keep exact change ready"}),(0,Xt.jsx)("li",{children:"\u2022 UPI payment to delivery person is also accepted"}),b&&(0,Xt.jsx)("li",{children:"\u2022 \ud83e\uddea Test Mode: Order will be created immediately"})]})]})]})})]})]}),(0,Xt.jsx)("div",{className:"lg:col-span-1",children:(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border sticky top-4",children:[(0,Xt.jsx)("div",{className:"p-4 border-b",children:(0,Xt.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Order Summary"})}),(0,Xt.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",c.subtotal]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Tax (18% GST)"}),(0,Xt.jsxs)("span",{className:"font-medium",children:["\u20b9",c.taxPrice]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,Xt.jsx)("span",{className:"font-medium",children:0===c.shippingPrice?(0,Xt.jsx)("span",{className:"text-green-600",children:"FREE"}):`\u20b9${c.shippingPrice}`})]}),(0,Xt.jsx)("div",{className:"border-t pt-3",children:(0,Xt.jsxs)("div",{className:"flex justify-between font-bold text-lg",children:[(0,Xt.jsx)("span",{children:"Total"}),(0,Xt.jsxs)("span",{className:"text-orange-600",children:["\u20b9",c.totalPrice]})]})})]}),(0,Xt.jsx)("div",{className:"p-4 border-t",children:(0,Xt.jsx)("button",{onClick:async()=>{if("Cash on Delivery"===i.paymentMethod||(()=>{if(w("CARD_VALIDATION","PROCESSING",{paymentMethod:i.paymentMethod}),"Card"===i.paymentMethod){if(!g.cardNumber.replace(/\s/g,"").match(/^\d{16}$/))return w("CARD_VALIDATION","ERROR",{reason:"invalid_card_number"}),Bt.error("Please enter a valid 16-digit card number"),!1;if(!g.expiryDate.match(/^(0[1-9]|1[0-2])\/\d{2}$/))return w("CARD_VALIDATION","ERROR",{reason:"invalid_expiry_date"}),Bt.error("Please enter a valid expiry date (MM/YY)"),!1;if(!g.cvv.match(/^\d{3}$/))return w("CARD_VALIDATION","ERROR",{reason:"invalid_cvv"}),Bt.error("Please enter a valid 3-digit CVV"),!1;if(!g.cardholderName.trim())return w("CARD_VALIDATION","ERROR",{reason:"missing_cardholder_name"}),Bt.error("Please enter cardholder name"),!1}if("UPI"===i.paymentMethod){if(!x.trim())return w("UPI_VALIDATION","ERROR",{reason:"missing_upi_id"}),Bt.error("Please enter UPI ID"),!1;if(!x.includes("@"))return w("UPI_VALIDATION","ERROR",{reason:"invalid_upi_format"}),Bt.error("Please enter a valid UPI ID"),!1}return w("VALIDATION","SUCCESS",{paymentMethod:i.paymentMethod}),!0})()){n(!0),a("processing"),w("PAYMENT_START","PROCESSING",{paymentMethod:i.paymentMethod,totalPrice:c.totalPrice,testMode:b,timestamp:(new Date).toISOString()});try{let e=null;if("Cash on Delivery"!==i.paymentMethod){const t={amount:c.totalPrice,method:i.paymentMethod,cardDetails:"Card"===i.paymentMethod?{...g,cardNumber:g.cardNumber.replace(/\s/g,"")}:null,upiId:"UPI"===i.paymentMethod?x:null};w("PAYMENT_PROCESSING","PROCESSING",{method:t.method,amount:t.amount,testMode:b});const r=await Xd.processPayment(t);if(!r.success)throw new Error(r.message||"Payment failed");e=r.data,w("PAYMENT_PROCESSING","SUCCESS",{transactionId:e.transactionId,method:e.method,isTest:e.isTest}),e.isTest&&console.log(`\n\ud83d\udcb3 ===============================\n   MOCK PAYMENT SUCCESSFUL!\n===============================\n\ud83d\udd17 Transaction ID: ${e.transactionId}\n\ud83d\udcb3 Method: ${e.method}\n\ud83d\udcb0 Amount: \u20b9${e.amount}\n\ud83c\udfe6 Gateway: ${e.gateway}\n\u23f1\ufe0f Processing Time: ${e.processingTime}ms\n\ud83e\uddea Test Mode: ${e.isTest}\n\ud83d\udcc5 Time: ${(new Date).toLocaleString()}\n===============================`)}else w("COD_PROCESSING","SUCCESS",{method:"Cash on Delivery"});w("ORDER_CREATION","PROCESSING",{paymentMethod:i.paymentMethod,isPaid:"Cash on Delivery"!==i.paymentMethod});const r={...i,paymentResult:e,isPaid:"Cash on Delivery"!==i.paymentMethod},s=await Xd.createOrder(r);if(!s.success)throw new Error(s.message||"Failed to create order");w("ORDER_CREATION","SUCCESS",{orderId:s.data._id,orderNumber:s.data.orderNumber,sellerId:s.data.seller}),w("CART_CLEANUP","PROCESSING"),await oh.clearCart(),w("CART_CLEANUP","SUCCESS"),p(s.data),a("success"),Bt.success((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"bg-green-100 rounded-full p-2 mr-3",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("p",{className:"font-medium",children:["Order placed successfully! ",b&&"\ud83e\uddea"]}),(0,Xt.jsxs)("p",{className:"text-sm text-gray-600",children:["Order #",s.data.orderNumber]}),b&&(0,Xt.jsx)("p",{className:"text-xs text-blue-600",children:"Test Mode Payment"})]})]}),{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0}),w("PAYMENT_COMPLETE","SUCCESS",{orderId:s.data._id,orderNumber:s.data.orderNumber,totalPrice:s.data.totalPrice,testMode:b,timestamp:(new Date).toISOString()}),console.log(`\n\ud83c\udf89 ===============================\n    PAYMENT SUCCESSFUL!\n===============================\n\ud83d\udcb3 Payment Method: ${i.paymentMethod}\n\ud83d\udcb0 Amount: \u20b9${c.totalPrice}\n\ud83d\udce6 Order ID: ${s.data._id}\n\ud83d\udd22 Order Number: ${s.data.orderNumber}\n\ud83e\uddea Test Mode: ${b}\n\ud83d\udcc5 Time: ${(new Date).toLocaleString()}\n===============================`),setTimeout((()=>{t("/user/order-confirmation",{state:{order:s.data}})}),3e3)}catch(e){console.error("Payment processing error:",e),w("PAYMENT_ERROR","ERROR",{error:e.message,paymentMethod:i.paymentMethod,step:o,testMode:b}),a("failed"),Bt.error(e.message||"Payment failed. Please try again.")}finally{n(!1)}}},disabled:r,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white py-3 rounded-lg font-medium transition-colors flex items-center justify-center",children:r?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Xt.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,Xt.jsx)(Xt.Fragment,{children:"Cash on Delivery"===i.paymentMethod?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Place Order ",b&&"\ud83e\uddea"]}):(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Pay \u20b9",c.totalPrice," ",b&&"\ud83e\uddea"]})})})})]})})]})]})]})}):(w("PAGE_STATE","ERROR",{reason:"missing_order_data"}),(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"container mx-auto p-4",children:(0,Xt.jsxs)("div",{className:"text-center py-8",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading payment details..."})]})})}))},If=()=>{const{userAuth:e}=(0,s.useContext)(er),t=re(),[r,n]=(0,s.useState)([]),[o,a]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.product&&"object"===typeof e.product?e.product:e};(0,s.useEffect)((()=>{(async()=>{if(a(!0),!e.isAuthenticated)return n([]),void a(!1);try{const e=await(async()=>{try{const e=ih();if(!e.isAuthenticated)return{success:!1,message:e.error,requiresAuth:!0,data:[]};const t=await Nn.get("/users/wishlist");return t.data.count,t.data.success,{success:!0,data:t.data.data,count:t.data.count}}catch(m){var e,t,r,s,n,o,a,i,l,c,d,u;return null===(e=m.response)||void 0===e||e.status,(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||m.message,null===(s=m.response)||void 0===s||null===(n=s.data)||void 0===n||n.code,401===(null===(o=m.response)||void 0===o?void 0:o.status)?((null===(l=m.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.code)&&["INVALID_TOKEN","TOKEN_EXPIRED","MALFORMED_TOKEN","NO_TOKEN"].includes(m.response.data.code)&&(m.response.data.code,localStorage.removeItem("userToken"),localStorage.removeItem("userData")),{success:!1,message:(null===(d=m.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||"Please login to view your wishlist",requiresAuth:!0,data:[]}):{success:!1,message:(null===(a=m.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Failed to fetch wishlist",data:[]}}})();e.success?n(e.data||[]):(e.requiresAuth&&t("/user/login",{state:{from:"/user/wishlist"}}),Bt.error(e.message||"Failed to load wishlist"),n([]))}catch(Yf){Bt.error("Something went wrong"),n([])}finally{a(!1)}})()}),[e.isAuthenticated,t]);return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"container mx-auto p-4 min-h-screen",children:[(0,Xt.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Your Wishlist"}),o?(0,Xt.jsx)("div",{className:"flex justify-center items-center py-20 text-gray-500",children:"Loading\u2026"}):0===r.length?(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Xt.jsx)("p",{className:"text-gray-600",children:"Your wishlist is currently empty."}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block mt-4 text-orange-500 hover:text-orange-600",children:"Continue Shopping"})]}):(0,Xt.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((r=>{var s,o;const a=c(r);return(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow group overflow-hidden relative",children:[(0,Xt.jsx)("button",{onClick:()=>(async r=>{if(e.isAuthenticated){l(r);try{const e=await ch(r);e.success?(n((e=>e.filter((e=>c(e)._id!==r)))),Bt.success("Removed from wishlist")):(e.requiresAuth&&t("/user/login",{state:{from:"/user/wishlist"}}),Bt.error(e.message||"Failed to remove"))}catch(Yf){Bt.error("Something went wrong")}finally{l(null)}}})(a._id),disabled:i===a._id,className:"absolute top-2 right-2 z-10 bg-white/80 backdrop-blur px-2 py-1 rounded hover:bg-red-50",title:"Remove",children:i===a._id?(0,Xt.jsx)("svg",{className:"animate-spin h-4 w-4 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v4m0 8v4m-4-4h4m0 0h4m-4 0V8"})}):(0,Xt.jsx)("svg",{className:"h-4 w-4 text-red-500 group-hover:text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Xt.jsxs)(nt,{to:`/user/product/${a._id}`,children:[(0,Xt.jsx)("img",{src:(null===(s=a.images)||void 0===s?void 0:s[0])||"/placeholder-product.jpg",alt:a.name,className:"h-40 w-full object-cover group-hover:scale-105 transition-transform",onError:e=>{e.target.src="/placeholder-product.jpg"}}),(0,Xt.jsxs)("div",{className:"p-3",children:[(0,Xt.jsx)("h2",{className:"text-sm font-semibold truncate",title:a.name,children:a.name}),(0,Xt.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:["\u20b9",null===(o=a.zammerPrice)||void 0===o?void 0:o.toLocaleString("en-IN")]})]})]})]},a._id)}))})]})})},zf=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(1),[i,l]=(0,s.useState)(1),[c,d]=(0,s.useState)("");(0,s.useEffect)((()=>{u()}),[o,c]);const u=async()=>{n(!0);try{const e={page:o,limit:12};c&&(e.category=c);const r=await Gd(e);r.success?(t(r.data),l(r.totalPages)):Bt.error(r.message||"Failed to fetch trending products")}catch(e){console.error("Error fetching trending products:",e),Bt.error("Something went wrong while fetching products")}finally{n(!1)}},m=e=>{d(e),a(1)},h=e=>{var t,r;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.mainImage?e.shop.mainImage:null!==e&&void 0!==e&&null!==(r=e.shop)&&void 0!==r&&r.images&&e.shop.images.length>0?e.shop.images[0]:null};return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"limited-edition-page pb-16",children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-pink-500 to-yellow-500 text-white p-6",children:(0,Xt.jsxs)("div",{className:"container mx-auto",children:[(0,Xt.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83d\udd25 Trending"}),(0,Xt.jsx)("p",{className:"text-pink-100",children:"Most popular products right now"})]})}),(0,Xt.jsx)("div",{className:"bg-white border-b p-4",children:(0,Xt.jsx)("div",{className:"container mx-auto",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-4 overflow-x-auto",children:[(0,Xt.jsx)("button",{onClick:()=>m(""),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+(""===c?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All Categories"}),(0,Xt.jsx)("button",{onClick:()=>m("Men"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Men"===c?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Men"}),(0,Xt.jsx)("button",{onClick:()=>m("Women"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Women"===c?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Women"}),(0,Xt.jsx)("button",{onClick:()=>m("Kids"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Kids"===c?"bg-pink-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Kids"})]})})}),(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-6",children:r?(0,Xt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading trending products..."})]})}):e.length>0?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:[c?`${c} - `:"","Trending Products (",e.length,")"]}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Check out what's hot right now!"})]}),(0,Xt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((e=>{var t,r,s,n;return(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"h-48 bg-gray-200",children:e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"h-full w-full object-cover"}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:"No image"})}),(0,Xt.jsx)("div",{className:"absolute top-2 left-2 bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\ud83d\udd25 TRENDING"}),(0,Xt.jsx)("button",{className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-sm hover:bg-gray-50",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,Xt.jsxs)("div",{className:"p-3",children:[(0,Xt.jsx)("h3",{className:"font-medium text-sm text-gray-800 mb-1",children:(s=e.name,n=25,s.length<=n?s:s.substr(0,n)+"...")}),e.seller&&(0,Xt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Xt.jsx)("div",{className:"w-4 h-4 mr-1",children:h(e.seller)?(0,Xt.jsx)("img",{src:h(e.seller),alt:null===(t=e.seller.shop)||void 0===t?void 0:t.name,className:"w-full h-full object-cover rounded-full"}):(0,Xt.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-full"})}),(0,Xt.jsx)("span",{className:"text-xs text-gray-500",children:(null===(r=e.seller.shop)||void 0===r?void 0:r.name)||"Shop"})]}),(0,Xt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("span",{className:"text-pink-600 font-bold text-sm",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("span",{className:"text-gray-500 text-xs line-through ml-1",children:["\u20b9",e.mrp]}),(0,Xt.jsxs)("span",{className:"text-green-600 text-xs ml-1",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% off"]})]})]})}),(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"block w-full text-center bg-pink-500 hover:bg-pink-600 text-white py-2 rounded text-xs font-medium transition-colors",children:"View Details"})]})]},e._id)}))}),i>1&&(0,Xt.jsxs)("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[(0,Xt.jsx)("button",{onClick:()=>a(o-1),disabled:1===o,className:"px-4 py-2 text-sm font-medium rounded "+(1===o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border hover:bg-gray-50"),children:"Previous"}),(0,Xt.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",o," of ",i]}),(0,Xt.jsx)("button",{onClick:()=>a(o+1),disabled:o===i,className:"px-4 py-2 text-sm font-medium rounded "+(o===i?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border hover:bg-gray-50"),children:"Next"})]})]}):(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No Trending Products"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:c?`No trending products found in ${c} category.`:"No trending products are currently available."}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-md text-sm font-medium transition-colors",children:"Browse All Products"})]})})]})})},Ff=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[o,a]=(0,s.useState)(1),[i,l]=(0,s.useState)(1),[c,d]=(0,s.useState)("");(0,s.useEffect)((()=>{u()}),[o,c]);const u=async()=>{n(!0);try{const e={page:o,limit:12};c&&(e.category=c);const r=await qd(e);r.success?(t(r.data),l(r.totalPages)):Bt.error(r.message||"Failed to fetch limited edition products")}catch(e){console.error("Error fetching limited edition products:",e),Bt.error("Something went wrong while fetching products")}finally{n(!1)}},m=e=>{d(e),a(1)},h=e=>{var t,r;return null!==e&&void 0!==e&&null!==(t=e.shop)&&void 0!==t&&t.mainImage?e.shop.mainImage:null!==e&&void 0!==e&&null!==(r=e.shop)&&void 0!==r&&r.images&&e.shop.images.length>0?e.shop.images[0]:null};return(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"limited-edition-page pb-16",children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white p-6",children:(0,Xt.jsxs)("div",{className:"container mx-auto",children:[(0,Xt.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\u2b50 Limited Edition"}),(0,Xt.jsx)("p",{className:"text-purple-100",children:"Exclusive products available for a limited time"})]})}),(0,Xt.jsx)("div",{className:"bg-white border-b p-4",children:(0,Xt.jsx)("div",{className:"container mx-auto",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-4 overflow-x-auto",children:[(0,Xt.jsx)("button",{onClick:()=>m(""),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+(""===c?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"All Categories"}),(0,Xt.jsx)("button",{onClick:()=>m("Men"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Men"===c?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Men"}),(0,Xt.jsx)("button",{onClick:()=>m("Women"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Women"===c?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Women"}),(0,Xt.jsx)("button",{onClick:()=>m("Kids"),className:"px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap "+("Kids"===c?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Kids"})]})})}),(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-6",children:r?(0,Xt.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),(0,Xt.jsx)("p",{className:"text-gray-600",children:"Loading limited edition products..."})]})}):e.length>0?(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("div",{className:"mb-6",children:[(0,Xt.jsxs)("h2",{className:"text-xl font-semibold text-gray-800",children:[c?`${c} - `:"","Limited Edition Products (",e.length,")"]}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Hurry up! These exclusive items won't last long"})]}),(0,Xt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map((e=>{var t,r,s,n;return(0,Xt.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden hover:shadow-md transition-shadow",children:[(0,Xt.jsxs)("div",{className:"relative",children:[(0,Xt.jsx)("div",{className:"h-48 bg-gray-200",children:e.images&&e.images.length>0?(0,Xt.jsx)("img",{src:e.images[0],alt:e.name,className:"h-full w-full object-cover"}):(0,Xt.jsx)("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:"No image"})}),(0,Xt.jsx)("div",{className:"absolute top-2 left-2 bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"\u2b50 LIMITED"}),(0,Xt.jsx)("button",{className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-sm hover:bg-gray-50",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),(0,Xt.jsxs)("div",{className:"p-3",children:[(0,Xt.jsx)("h3",{className:"font-medium text-sm text-gray-800 mb-1",children:(s=e.name,n=25,s.length<=n?s:s.substr(0,n)+"...")}),e.seller&&(0,Xt.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Xt.jsx)("div",{className:"w-4 h-4 mr-1",children:h(e.seller)?(0,Xt.jsx)("img",{src:h(e.seller),alt:null===(t=e.seller.shop)||void 0===t?void 0:t.name,className:"w-full h-full object-cover rounded-full"}):(0,Xt.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-full"})}),(0,Xt.jsx)("span",{className:"text-xs text-gray-500",children:(null===(r=e.seller.shop)||void 0===r?void 0:r.name)||"Shop"})]}),(0,Xt.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("span",{className:"text-purple-600 font-bold text-sm",children:["\u20b9",e.zammerPrice]}),e.mrp>e.zammerPrice&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("span",{className:"text-gray-500 text-xs line-through ml-1",children:["\u20b9",e.mrp]}),(0,Xt.jsxs)("span",{className:"text-green-600 text-xs ml-1",children:[Math.round((e.mrp-e.zammerPrice)/e.mrp*100),"% off"]})]})]})}),(0,Xt.jsx)(nt,{to:`/user/product/${e._id}`,className:"block w-full text-center bg-purple-500 hover:bg-purple-600 text-white py-2 rounded text-xs font-medium transition-colors",children:"View Details"})]})]},e._id)}))}),i>1&&(0,Xt.jsxs)("div",{className:"flex justify-center items-center mt-8 space-x-2",children:[(0,Xt.jsx)("button",{onClick:()=>a(o-1),disabled:1===o,className:"px-4 py-2 text-sm font-medium rounded "+(1===o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border hover:bg-gray-50"),children:"Previous"}),(0,Xt.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-600",children:["Page ",o," of ",i]}),(0,Xt.jsx)("button",{onClick:()=>a(o+1),disabled:o===i,className:"px-4 py-2 text-sm font-medium rounded "+(o===i?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border hover:bg-gray-50"),children:"Next"})]})]}):(0,Xt.jsxs)("div",{className:"text-center py-20",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-gray-400 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,Xt.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No Limited Edition Products"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-4",children:c?`No limited edition products found in ${c} category.`:"No limited edition products are currently available."}),(0,Xt.jsx)(nt,{to:"/user/dashboard",className:"inline-block bg-purple-500 hover:bg-purple-600 text-white px-6 py-2 rounded-md text-sm font-medium transition-colors",children:"Browse All Products"})]})})]})})},Bf=()=>{var e,t,r,n,o,a,i;const l=J(),c=re(),[d,u]=(0,s.useState)(null),[m,h]=(0,s.useState)(!0);(0,s.useEffect)((()=>{var e;null!==(e=l.state)&&void 0!==e&&e.order?(u(l.state.order),h(!1)):(Bt.error("No order information found"),c("/user/dashboard"))}),[l.state,c]);return m?(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-amber-50",children:(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:(0,Xt.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsxs)("div",{className:"relative mb-8",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-200 border-t-orange-500 mx-auto"}),(0,Xt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-amber-400 opacity-20 animate-pulse"})]}),(0,Xt.jsxs)("div",{className:"space-y-2",children:[(0,Xt.jsx)("p",{className:"text-slate-700 font-medium text-lg",children:"Loading order details..."}),(0,Xt.jsx)("p",{className:"text-slate-500 text-sm",children:"Please wait while we fetch your information"})]})]})})})})}):d?(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:(0,Xt.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-8 lg:py-12 max-w-5xl",children:[(0,Xt.jsx)("div",{className:"text-center py-8 sm:py-12",children:(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsxs)("div",{className:"relative mb-6",children:[(0,Xt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-emerald-400 to-green-500 rounded-full flex items-center justify-center mx-auto shadow-2xl border-4 border-white",children:(0,Xt.jsx)("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),(0,Xt.jsx)("div",{className:"absolute inset-0 w-20 h-20 sm:w-24 sm:h-24 bg-emerald-400 rounded-full mx-auto animate-ping opacity-20"})]}),(0,Xt.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent mb-3",children:"Order Placed Successfully!"}),(0,Xt.jsx)("p",{className:"text-slate-600 text-base sm:text-lg max-w-md mx-auto leading-relaxed",children:"Thank you for your order. We'll send you real-time updates about your delivery."})]})}),(0,Xt.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-xl border border-white/50 overflow-hidden mb-8",children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 px-6 sm:px-8 py-6 border-b border-slate-200",children:(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[(0,Xt.jsxs)("div",{className:"space-y-2",children:[(0,Xt.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-slate-800",children:"Order Details"}),(0,Xt.jsxs)("div",{className:"space-y-1 text-sm sm:text-base",children:[(0,Xt.jsxs)("p",{className:"text-slate-600",children:["Order Number: ",(0,Xt.jsx)("span",{className:"font-semibold text-slate-800 font-mono bg-slate-100 px-2 py-1 rounded",children:d.orderNumber})]}),(0,Xt.jsxs)("p",{className:"text-slate-600",children:["Placed on: ",(0,Xt.jsx)("span",{className:"font-semibold text-slate-800",children:(p=d.createdAt,new Date(p).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]})]}),(0,Xt.jsx)("div",{className:"flex justify-start sm:justify-end",children:(0,Xt.jsxs)("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm ${(e=>{switch(e){case"Pending":return"text-amber-700 bg-gradient-to-r from-amber-50 to-amber-100 border border-amber-200";case"Processing":return"text-blue-700 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200";case"Shipped":return"text-purple-700 bg-gradient-to-r from-purple-50 to-purple-100 border border-purple-200";case"Delivered":return"text-emerald-700 bg-gradient-to-r from-emerald-50 to-emerald-100 border border-emerald-200";case"Cancelled":return"text-red-700 bg-gradient-to-r from-red-50 to-red-100 border border-red-200";default:return"text-slate-700 bg-gradient-to-r from-slate-50 to-slate-100 border border-slate-200"}})(d.status)}`,children:[(0,Xt.jsx)("div",{className:"w-2 h-2 rounded-full bg-current mr-2 animate-pulse"}),d.status]})})]})}),(0,Xt.jsxs)("div",{className:"p-6 sm:p-8 space-y-8",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xt.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-slate-800",children:"Order Items"}),(0,Xt.jsxs)("span",{className:"bg-slate-100 text-slate-700 px-3 py-1 rounded-full text-sm font-medium",children:[(null===(e=d.orderItems)||void 0===e?void 0:e.length)||0," items"]})]}),(0,Xt.jsx)("div",{className:"space-y-4",children:null===(t=d.orderItems)||void 0===t?void 0:t.map(((e,t)=>(0,Xt.jsx)("div",{className:"group bg-gradient-to-r from-slate-50 to-gray-50 hover:from-orange-50 hover:to-amber-50 rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-slate-200 hover:border-orange-200 transition-all duration-300 hover:shadow-md",children:(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-4",children:[(0,Xt.jsx)("div",{className:"w-full sm:w-20 h-48 sm:h-20 bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg sm:rounded-xl overflow-hidden flex-shrink-0 shadow-inner",children:e.image?(0,Xt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 sm:w-10 sm:h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0 space-y-2",children:[(0,Xt.jsx)("h4",{className:"font-semibold text-slate-800 text-base sm:text-lg line-clamp-2 group-hover:text-orange-700 transition-colors",children:e.name}),(0,Xt.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm text-slate-600",children:[e.size&&(0,Xt.jsxs)("span",{className:"bg-white/70 px-2 py-1 rounded-md border",children:["Size: ",(0,Xt.jsx)("span",{className:"font-medium",children:e.size})]}),e.color&&(0,Xt.jsxs)("span",{className:"bg-white/70 px-2 py-1 rounded-md border",children:["Color: ",(0,Xt.jsx)("span",{className:"font-medium",children:e.color})]}),(0,Xt.jsxs)("span",{className:"bg-white/70 px-2 py-1 rounded-md border",children:["Qty: ",(0,Xt.jsx)("span",{className:"font-medium",children:e.quantity})]})]})]}),(0,Xt.jsxs)("div",{className:"text-right sm:text-left space-y-1",children:[(0,Xt.jsxs)("p",{className:"font-bold text-lg sm:text-xl text-slate-800",children:["\u20b9",(e.price*e.quantity).toLocaleString()]}),(0,Xt.jsxs)("p",{className:"text-sm text-slate-500",children:["\u20b9",e.price.toLocaleString()," each"]})]})]})},t)))})]}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xt.jsxs)("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Shipping Address"})]}),(0,Xt.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 sm:p-5 border border-blue-100",children:(0,Xt.jsxs)("div",{className:"space-y-2 text-sm sm:text-base",children:[(0,Xt.jsx)("p",{className:"text-slate-800 font-semibold",children:null===(r=d.shippingAddress)||void 0===r?void 0:r.address}),(0,Xt.jsxs)("p",{className:"text-slate-700",children:[null===(n=d.shippingAddress)||void 0===n?void 0:n.city,", ",null===(o=d.shippingAddress)||void 0===o?void 0:o.postalCode]}),(0,Xt.jsx)("p",{className:"text-slate-700",children:null===(a=d.shippingAddress)||void 0===a?void 0:a.country}),(0,Xt.jsxs)("div",{className:"flex items-center gap-2 pt-2 border-t border-blue-200",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,Xt.jsx)("span",{className:"text-slate-700 font-medium",children:null===(i=d.shippingAddress)||void 0===i?void 0:i.phone})]})]})})]}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,Xt.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Payment Information"})]}),(0,Xt.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 sm:p-5 border border-purple-100 space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600 font-medium",children:"Payment Method:"}),(0,Xt.jsx)("span",{className:"font-semibold text-slate-800 bg-white/70 px-3 py-1 rounded-lg",children:d.paymentMethod})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600 font-medium",children:"Payment Status:"}),(0,Xt.jsx)("span",{className:"font-semibold px-3 py-1 rounded-lg "+(d.isPaid?"text-emerald-700 bg-emerald-100":"text-amber-700 bg-amber-100"),children:d.isPaid?(0,Xt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Paid"]}):(0,Xt.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Pending"]})})]})]})]})]}),(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-slate-800 to-slate-700 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white",children:[(0,Xt.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Order Summary"]}),(0,Xt.jsxs)("div",{className:"space-y-3",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-slate-300",children:[(0,Xt.jsx)("span",{children:"Subtotal:"}),(0,Xt.jsxs)("span",{className:"font-semibold",children:["\u20b9",(1*(d.totalPrice-d.taxPrice-d.shippingPrice).toFixed(2)).toLocaleString()]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-slate-300",children:[(0,Xt.jsx)("span",{children:"Tax (18% GST):"}),(0,Xt.jsxs)("span",{className:"font-semibold",children:["\u20b9",(1*d.taxPrice).toLocaleString()]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-slate-300",children:[(0,Xt.jsx)("span",{children:"Shipping:"}),(0,Xt.jsx)("span",{className:"font-semibold",children:0===d.shippingPrice?(0,Xt.jsx)("span",{className:"text-emerald-400 font-bold",children:"FREE"}):`\u20b9${(1*d.shippingPrice).toLocaleString()}`})]}),(0,Xt.jsx)("div",{className:"border-t border-slate-600 pt-4",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center text-xl sm:text-2xl font-bold",children:[(0,Xt.jsx)("span",{children:"Total:"}),(0,Xt.jsxs)("span",{className:"text-orange-400",children:["\u20b9",(1*d.totalPrice).toLocaleString()]})]})})]})]})]})]}),(0,Xt.jsxs)("div",{className:"space-y-6 sm:space-y-8",children:[(0,Xt.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"group bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white py-4 px-6 rounded-xl font-semibold text-center transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Continue Shopping"]}),(0,Xt.jsxs)(nt,{to:"/user/orders",className:"group bg-white border-2 border-orange-500 text-orange-600 hover:bg-orange-50 hover:border-orange-600 py-4 px-6 rounded-xl font-semibold text-center transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-1 flex items-center justify-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"View All Orders"]})]}),(0,Xt.jsx)("div",{className:"text-center py-8 sm:py-12",children:(0,Xt.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 sm:p-8 border border-white/50 max-w-md mx-auto",children:[(0,Xt.jsx)("div",{className:"mb-4",children:(0,Xt.jsx)("svg",{className:"w-8 h-8 text-orange-500 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Xt.jsx)("p",{className:"text-slate-700 font-medium mb-6",children:"Need help with your order?"}),(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 justify-center items-center",children:[(0,Xt.jsxs)(nt,{to:"/user/support",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors flex items-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25A9.75 9.75 0 002.25 12 9.75 9.75 0 0012 21.75 9.75 9.75 0 0021.75 12 9.75 9.75 0 0012 2.25z"})}),"Contact Support"]}),(0,Xt.jsx)("div",{className:"hidden sm:block w-px h-4 bg-slate-300"}),(0,Xt.jsx)("div",{className:"block sm:hidden w-full h-px bg-slate-300"}),(0,Xt.jsxs)(nt,{to:"/user/faq",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors flex items-center gap-2",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"FAQ"]})]})]})})]})]})})}):(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-rose-50",children:(0,Xt.jsx)("div",{className:"container mx-auto px-4 py-8 sm:py-12",children:(0,Xt.jsx)("div",{className:"flex justify-center items-center min-h-[60vh]",children:(0,Xt.jsx)("div",{className:"text-center max-w-md mx-auto",children:(0,Xt.jsxs)("div",{className:"mb-8",children:[(0,Xt.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-red-100 to-rose-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border border-red-200",children:(0,Xt.jsx)("svg",{className:"w-12 h-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,Xt.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold text-slate-800 mb-3",children:"Order Not Found"}),(0,Xt.jsx)("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"We couldn't find the order information. This might be due to a technical issue or the order may not exist."}),(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"inline-flex items-center justify-center bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Return to Home"]})]})})})})})});var p},Uf=()=>{var e,t,r,n,o,a,i,l,c;const{userAuth:d,updateUser:u,logoutUser:m}=(0,s.useContext)(er),[h,p]=(0,s.useState)(null),[g,f]=(0,s.useState)(!0),[x,v]=(0,s.useState)(!1),[b,y]=(0,s.useState)({name:"",email:"",mobileNumber:"",location:{address:""}}),[w,j]=(0,s.useState)(!1),N=re();(0,s.useEffect)((()=>{k()}),[]);const k=async()=>{f(!0);try{const t=await Nn.get("/users/profile");var e;if(t.data.success)p(t.data.data),y({name:t.data.data.name||"",email:t.data.data.email||"",mobileNumber:t.data.data.mobileNumber||"",location:{address:(null===(e=t.data.data.location)||void 0===e?void 0:e.address)||""}}),t.data.data;else Bt.error(t.data.message||"Failed to fetch profile")}catch(t){console.error("Error fetching profile:",t),Bt.error("Failed to load profile")}finally{f(!1)}},S=(e,t)=>{y("location.address"===e?e=>({...e,location:{...e.location,address:t}}):r=>({...r,[e]:t}))},C=()=>{m(),N("/user/login"),Bt.success("Logged out successfully")};return g?(0,Xt.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25",children:(0,Xt.jsxs)("div",{className:"text-center bg-white p-8 rounded-3xl shadow-2xl border border-orange-100",children:[(0,Xt.jsx)("div",{className:"w-16 h-16 mx-auto mb-6",children:(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-orange-200 border-t-orange-500"})}),(0,Xt.jsx)("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):(0,Xt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-25 to-pink-25 pb-20",children:[(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-orange-500 via-orange-600 to-pink-500 text-white relative overflow-hidden",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white/10 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"}),(0,Xt.jsxs)("div",{className:"relative z-10 p-6",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Xt.jsx)("button",{onClick:()=>N(-1),className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/30 hover:bg-white/30 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsx)("h1",{className:"text-2xl font-bold",children:"My Profile"}),(0,Xt.jsx)("button",{onClick:C,className:"bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium hover:bg-white/30 transition-all duration-300 border border-white/30",children:"Logout"})]}),(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white/30",children:null!==h&&void 0!==h&&h.profilePicture?(0,Xt.jsx)("img",{src:h.profilePicture,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):(0,Xt.jsx)("span",{className:"text-3xl font-bold",children:(null===h||void 0===h||null===(e=h.name)||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())||(null===(r=d.user)||void 0===r||null===(n=r.name)||void 0===n||null===(o=n.charAt(0))||void 0===o?void 0:o.toUpperCase())||"U"})}),(0,Xt.jsx)("h2",{className:"text-2xl font-bold mb-2",children:(null===h||void 0===h?void 0:h.name)||(null===(a=d.user)||void 0===a?void 0:a.name)||"User"}),(0,Xt.jsx)("p",{className:"text-orange-100 mb-2",children:(null===h||void 0===h?void 0:h.email)||(null===(i=d.user)||void 0===i?void 0:i.email)}),(null===h||void 0===h||null===(l=h.location)||void 0===l?void 0:l.address)&&(0,Xt.jsxs)("div",{className:"flex items-center justify-center text-orange-100 text-sm",children:[(0,Xt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,Xt.jsx)("span",{children:h.location.address})]})]})]})]}),(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsx)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden mb-6",children:(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800",children:"Personal Information"}),x?(0,Xt.jsxs)("div",{className:"flex space-x-3",children:[(0,Xt.jsx)("button",{onClick:()=>v(!1),className:"px-4 py-2 border-2 border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),(0,Xt.jsx)("button",{onClick:async()=>{j(!0);try{const e=await Nn.put("/users/profile",b);e.data.success?(p(e.data.data),v(!1),u&&u({...d.user,...e.data.data}),Bt.success("Profile updated successfully!"),e.data.data):Bt.error(e.data.message||"Failed to update profile")}catch(e){console.error("Error updating profile:",e),Bt.error("Failed to update profile")}finally{j(!1)}},disabled:w,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-semibold transition-all duration-200 "+(w?"opacity-50 cursor-not-allowed":"hover:from-green-600 hover:to-emerald-600 shadow-lg hover:shadow-xl"),children:w?(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"Saving..."]}):"Save Changes"})]}):(0,Xt.jsxs)("button",{onClick:()=>v(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-600 hover:to-purple-600 transition-all duration-300 shadow-lg flex items-center",children:[(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),(0,Xt.jsxs)("div",{className:"space-y-6",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Full Name"}),x?(0,Xt.jsx)("input",{type:"text",value:b.name,onChange:e=>S("name",e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your full name"}):(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:(null===h||void 0===h?void 0:h.name)||"Not provided"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),x?(0,Xt.jsx)("input",{type:"email",value:b.email,onChange:e=>S("email",e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your email"}):(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:(null===h||void 0===h?void 0:h.email)||"Not provided"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Mobile Number"}),x?(0,Xt.jsx)("input",{type:"tel",value:b.mobileNumber,onChange:e=>S("mobileNumber",e.target.value),className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your mobile number"}):(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:(null===h||void 0===h?void 0:h.mobileNumber)||"Not provided"})})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Location"}),x?(0,Xt.jsx)("textarea",{value:b.location.address,onChange:e=>S("location.address",e.target.value),rows:3,className:"w-full px-4 py-4 bg-gray-50 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base resize-none",placeholder:"Enter your address"}):(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border border-gray-200",children:(0,Xt.jsx)("p",{className:"text-gray-800 font-medium text-lg",children:(null===h||void 0===h||null===(c=h.location)||void 0===c?void 0:c.address)||"Not provided"})})]})]})]})}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,Xt.jsxs)(nt,{to:"/user/my-orders",className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl flex items-center justify-center mb-4 group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:"My Orders"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:"View order history"})]}),(0,Xt.jsxs)(nt,{to:"/user/wishlist",className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 group hover:scale-105",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-red-100 to-red-200 rounded-2xl flex items-center justify-center mb-4 group-hover:rotate-6 transition-transform duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),(0,Xt.jsx)("h3",{className:"font-bold text-gray-800 mb-2",children:"Wishlist"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:"Saved items"})]})]}),(0,Xt.jsx)("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:(0,Xt.jsxs)("div",{className:"p-6",children:[(0,Xt.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"Account Settings"}),(0,Xt.jsxs)("div",{className:"space-y-4",children:[(0,Xt.jsxs)(nt,{to:"/user/change-password",className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-all duration-300 group",children:[(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center mr-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h4",{className:"font-semibold text-gray-800",children:"Change Password"}),(0,Xt.jsx)("p",{className:"text-gray-600 text-sm",children:"Update your password"})]})]}),(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),(0,Xt.jsx)("button",{onClick:C,className:"flex items-center justify-between p-4 bg-red-50 rounded-xl hover:bg-red-100 transition-all duration-300 group w-full",children:(0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-100 to-red-200 rounded-xl flex items-center justify-center mr-4",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h4",{className:"font-semibold text-red-700",children:"Logout"}),(0,Xt.jsx)("p",{className:"text-red-600 text-sm",children:"Sign out of your account"})]})]})})]})]})})]}),(0,Xt.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-lg border-t border-gray-200 z-50 shadow-2xl",children:(0,Xt.jsxs)("div",{className:"flex justify-between items-center px-2 py-3",children:[(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Home"})]}),(0,Xt.jsxs)(nt,{to:"/user/shop",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Shop"})]}),(0,Xt.jsxs)(nt,{to:"/user/cart",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Cart"})]}),(0,Xt.jsxs)(nt,{to:"/user/trending",className:"flex flex-col items-center justify-center py-2 flex-1 text-gray-500 hover:text-orange-500 transition-colors duration-300 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gray-100 group-hover:bg-gradient-to-br group-hover:from-orange-100 group-hover:to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),(0,Xt.jsx)("span",{className:"text-xs font-medium",children:"Trending"})]}),(0,Xt.jsxs)(nt,{to:"/user/profile",className:"flex flex-col items-center justify-center py-2 flex-1 text-orange-500 group",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-100 to-pink-100 rounded-xl flex items-center justify-center mb-1 group-hover:scale-110 transition-all duration-300",children:(0,Xt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Xt.jsx)("span",{className:"text-xs font-bold",children:"Profile"})]})]})})]})},$f=()=>{var e,t,r,n,o,a,i;const{userAuth:l}=(0,s.useContext)(er),c=re(),[d,u]=(0,s.useState)([]),[m,h]=(0,s.useState)([]),[p,g]=(0,s.useState)(!0),[f,x]=(0,s.useState)("All"),[v,b]=(0,s.useState)(!1),[y,w]=(0,s.useState)(null),[j,N]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[C,L]=(0,s.useState)(""),[E,P]=(0,s.useState)(null),[_,M]=(0,s.useState)({currentPage:1,totalPages:1,count:0}),T=[{key:"All",label:"All Orders",icon:"\ud83d\udce6",color:"gray"},{key:"Pending",label:"Pending",icon:"\u23f3",color:"yellow"},{key:"Processing",label:"Processing",icon:"\ud83d\udd04",color:"blue"},{key:"Shipped",label:"Shipped",icon:"\ud83d\ude9a",color:"purple"},{key:"Delivered",label:"Delivered",icon:"\u2705",color:"green"},{key:"Cancelled",label:"Cancelled",icon:"\u274c",color:"red"}];(0,s.useEffect)((()=>{var e;if(null!==l&&void 0!==l&&null!==(e=l.user)&&void 0!==e&&e._id){console.log("\ud83d\udd0c Setting up socket connection for buyer:",l.user._id);if(jm.connect()){var t;jm.joinBuyerRoom(l.user._id),jm.onOrderUpdate((e=>{console.log("\ud83d\udd04 Order status update received via socket:",e),Bt.info((0,Xt.jsxs)("div",{className:"flex items-center",children:[(0,Xt.jsx)("span",{className:"text-2xl mr-2",children:A(e.data.status)}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("p",{className:"font-medium",children:"Order Update"}),(0,Xt.jsxs)("p",{className:"text-sm",children:["Order #",e.data.orderNumber," is now ",e.data.status]})]})]}),{position:"top-right",autoClose:5e3,onClick:()=>{w(e.data),N(!0)}}),O()})),null===(t=jm.socket)||void 0===t||t.on("order-cancelled",(e=>{console.log("\u274c Order cancellation confirmed:",e),Bt.success(`Order ${e.orderNumber} cancelled successfully`),O(),S(!1),P(null)}));const e=()=>{const e=jm.getConnectionStatus();b(e.isConnected)},r=setInterval(e,5e3);return e(),()=>{var e;clearInterval(r),jm.removeListener("order-status-update"),null===(e=jm.socket)||void 0===e||e.off("order-cancelled")}}}}),[null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e._id]);const O=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{g(!0);const t=await Xd.getUserOrders(e,10);if(t.success)u(t.data||[]),M({currentPage:t.currentPage||1,totalPages:t.totalPages||1,count:t.count||0}),console.log("\u2705 Orders fetched successfully:",(t.data||[]).length);else{if(console.error("\u274c Failed to fetch orders:",t.message),t.requiresAuth)return Bt.error("Please login to view your orders"),void c("/user/login");Bt.error(t.message||"Failed to fetch orders")}}catch(t){console.error("\u274c Error fetching orders:",t),Bt.error("Error fetching orders")}finally{g(!1)}};(0,s.useEffect)((()=>{if(d.length>0){const e="All"===f?d:d.filter((e=>e.status===f));h(e),console.log(`\ud83d\udcca Filtered orders for ${f}:`,e.length)}else h([])}),[d,f]),(0,s.useEffect)((()=>{l.isAuthenticated?O():c("/user/login")}),[l.isAuthenticated,c]);const A=e=>({Pending:"\u23f3",Processing:"\ud83d\udd04",Shipped:"\ud83d\ude9a",Delivered:"\u2705",Cancelled:"\u274c"}[e]||"\ud83d\udce6"),R=e=>({Pending:"bg-gradient-to-r from-amber-50 to-yellow-100 text-amber-800 border border-amber-200 shadow-sm",Processing:"bg-gradient-to-r from-blue-50 to-indigo-100 text-blue-800 border border-blue-200 shadow-sm",Shipped:"bg-gradient-to-r from-purple-50 to-violet-100 text-purple-800 border border-purple-200 shadow-sm",Delivered:"bg-gradient-to-r from-emerald-50 to-green-100 text-emerald-800 border border-emerald-200 shadow-sm",Cancelled:"bg-gradient-to-r from-red-50 to-rose-100 text-red-800 border border-red-200 shadow-sm"}[e]||"bg-gradient-to-r from-gray-50 to-slate-100 text-gray-800 border border-gray-200 shadow-sm"),D=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l.isAuthenticated?(0,Xt.jsx)(Jm,{children:(0,Xt.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 pb-20 sm:pb-8",children:[(0,Xt.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur-xl border-b border-white/20 shadow-lg",children:(0,Xt.jsx)("div",{className:"px-4 sm:px-6 py-4 sm:py-5",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Xt.jsx)("button",{onClick:()=>c("/user/dashboard"),className:"group p-2 sm:p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-300 active:scale-95",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-600 group-hover:text-slate-800 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M15 19l-7-7 7-7"})})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold bg-gradient-to-r from-slate-800 via-slate-700 to-slate-600 bg-clip-text text-transparent",children:"My Orders"}),(0,Xt.jsxs)("p",{className:"text-xs sm:text-sm text-slate-600 flex items-center flex-wrap gap-2",children:[(0,Xt.jsx)("span",{children:"Track and manage your orders"}),v&&(0,Xt.jsxs)("span",{className:"inline-flex items-center",children:[(0,Xt.jsx)("span",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 bg-emerald-500 rounded-full animate-pulse mr-1"}),(0,Xt.jsx)("span",{className:"text-xs text-emerald-600 font-medium",children:"Live updates"})]})]})]})]}),(0,Xt.jsxs)("button",{onClick:()=>O(_.currentPage),className:"group bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white px-3 py-2 sm:px-4 sm:py-2.5 rounded-xl text-xs sm:text-sm font-semibold flex items-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:[(0,Xt.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 group-hover:rotate-180 transition-transform duration-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,Xt.jsx)("span",{className:"hidden sm:inline",children:"Refresh"}),(0,Xt.jsx)("span",{className:"sm:hidden",children:"\u21bb"})]})]})})}),(0,Xt.jsx)("div",{className:"sticky top-[73px] sm:top-[81px] z-30 bg-white/90 backdrop-blur-xl border-b border-white/30",children:(0,Xt.jsx)("div",{className:"px-2 sm:px-4",children:(0,Xt.jsx)("nav",{className:"flex space-x-1 overflow-x-auto scrollbar-hide py-2",children:T.map((e=>{const t="All"===e.key?d.length:d.filter((t=>t.status===e.key)).length,r=f===e.key;return(0,Xt.jsxs)("button",{onClick:()=>x(e.key),className:"group flex-shrink-0 py-2.5 sm:py-3 px-3 sm:px-4 text-xs sm:text-sm font-semibold flex items-center space-x-1.5 sm:space-x-2 rounded-xl transition-all duration-300 border-2 "+(r?"border-orange-300 text-orange-700 bg-gradient-to-r from-orange-50 via-orange-100 to-amber-50 shadow-lg transform scale-105":"border-transparent text-slate-600 hover:text-slate-800 hover:bg-white/70 hover:border-slate-200 hover:shadow-md"),children:[(0,Xt.jsx)("span",{className:"text-sm sm:text-base",children:e.icon}),(0,Xt.jsx)("span",{className:"whitespace-nowrap",children:e.label}),t>0&&(0,Xt.jsx)("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 text-xs rounded-full font-bold transition-all duration-300 "+(r?"bg-orange-200 text-orange-800 shadow-sm":"bg-slate-100 text-slate-600 group-hover:bg-slate-200"),children:t})]},e.key)}))})})}),(0,Xt.jsx)("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:p?(0,Xt.jsxs)("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[(0,Xt.jsxs)("div",{className:"relative mb-6",children:[(0,Xt.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 sm:h-16 sm:w-16 border-4 border-orange-200 border-t-orange-500 shadow-lg"}),(0,Xt.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-orange-400 to-amber-400 opacity-20 animate-pulse"})]}),(0,Xt.jsxs)("div",{className:"text-center space-y-2",children:[(0,Xt.jsx)("p",{className:"text-slate-700 font-semibold text-sm sm:text-base",children:"Loading your orders..."}),(0,Xt.jsx)("p",{className:"text-slate-500 text-xs sm:text-sm",children:"Please wait while we fetch your order history"})]})]}):m.length>0?(0,Xt.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[m.map((e=>{var t,r,s,n,o,a,i,l,c;const d=(e=>{const t=["Pending","Processing","Shipped","Delivered"],r=t.indexOf(e);return"Cancelled"===e?{percentage:0,step:0,total:4}:{percentage:(r+1)/t.length*100,step:r+1,total:t.length}})(e.status),u=(e=>{var t;if("Cancelled"!==e.status)return null;if(null!==(t=e.cancellationDetails)&&void 0!==t&&t.cancelledBy){const t=e.cancellationDetails.cancelledBy,r=e.cancellationDetails.cancelledAt,s=e.cancellationDetails.cancellationReason;return{text:`Cancelled by ${t}`,timestamp:r?D(r):"Unknown",reason:s||"No reason provided"}}return e.notes&&e.notes.includes("Cancelled by")?{text:e.notes,timestamp:D(e.updatedAt),reason:"See notes"}:{text:"Cancelled",timestamp:D(e.updatedAt),reason:"No details available"}})(e);return(0,Xt.jsxs)("div",{className:"group bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl shadow-lg hover:shadow-xl border border-white/50 hover:border-white/80 transition-all duration-500 overflow-hidden",children:[(0,Xt.jsxs)("div",{className:"p-4 sm:p-6 border-b border-slate-100/50",children:[(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[(0,Xt.jsxs)("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl sm:rounded-2xl flex items-center justify-center shadow-md border border-white/50 flex-shrink-0",children:(0,Xt.jsx)("span",{className:"text-lg sm:text-xl",children:A(e.status)})}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsxs)("h3",{className:"font-bold text-slate-900 text-sm sm:text-base lg:text-lg truncate",children:["Order #",e.orderNumber]}),(0,Xt.jsxs)("p",{className:"text-xs sm:text-sm text-slate-600 mt-0.5",children:["Placed on ",D(e.createdAt)]}),u&&(0,Xt.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded-lg border border-red-100",children:[(0,Xt.jsx)("p",{className:"text-xs font-medium text-red-700",children:u.text}),(0,Xt.jsx)("p",{className:"text-xs text-red-600",children:u.timestamp}),"No reason provided"!==u.reason&&(0,Xt.jsxs)("p",{className:"text-xs text-red-600",children:["Reason: ",u.reason]})]})]})]}),(0,Xt.jsxs)("div",{className:"flex items-center justify-between sm:flex-col sm:items-end sm:justify-start gap-2 sm:gap-1",children:[(0,Xt.jsxs)("span",{className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-bold transition-all duration-300 ${R(e.status)}`,children:[A(e.status)," ",e.status]}),(0,Xt.jsxs)("div",{className:"text-right",children:[(0,Xt.jsxs)("p",{className:"font-bold text-slate-900 text-sm sm:text-base lg:text-lg",children:["\u20b9",e.totalPrice]}),(0,Xt.jsx)("p",{className:"text-xs sm:text-sm text-slate-600",children:e.paymentMethod})]})]})]}),"Cancelled"!==e.status&&(0,Xt.jsxs)("div",{className:"mt-4 sm:mt-6",children:[(0,Xt.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm text-slate-600 mb-3",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Order Progress"}),(0,Xt.jsxs)("span",{className:"text-xs bg-slate-100 px-2 py-1 rounded-full",children:[d.step,"/",d.total," steps completed"]})]}),(0,Xt.jsx)("div",{className:"relative w-full bg-slate-200 rounded-full h-2 sm:h-3 overflow-hidden",children:(0,Xt.jsx)("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${d.percentage}%`},children:(0,Xt.jsx)("div",{className:"absolute inset-0 bg-white/20 animate-pulse rounded-full"})})})]})]}),(0,Xt.jsx)("div",{className:"p-4 sm:p-6 border-b border-slate-100/50",children:(0,Xt.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[(0,Xt.jsxs)("div",{className:"flex -space-x-2 sm:-space-x-3",children:[null===(t=e.orderItems)||void 0===t?void 0:t.slice(0,3).map(((e,t)=>(0,Xt.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg sm:rounded-xl border-2 sm:border-3 border-white overflow-hidden shadow-md",children:e.image?(0,Xt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})},t))),(null===(r=e.orderItems)||void 0===r?void 0:r.length)>3&&(0,Xt.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-slate-100 to-slate-200 rounded-lg sm:rounded-xl border-2 sm:border-3 border-white flex items-center justify-center shadow-md",children:(0,Xt.jsxs)("span",{className:"text-xs sm:text-sm text-slate-700 font-bold",children:["+",e.orderItems.length-3]})})]}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsxs)("p",{className:"font-semibold text-slate-900 text-sm sm:text-base truncate",children:[null===(s=e.orderItems)||void 0===s||null===(n=s[0])||void 0===n?void 0:n.name,(null===(o=e.orderItems)||void 0===o?void 0:o.length)>1&&` and ${e.orderItems.length-1} more item${e.orderItems.length>2?"s":""}`]}),(0,Xt.jsxs)("p",{className:"text-xs sm:text-sm text-slate-600 truncate",children:["From ",(null===(a=e.seller)||void 0===a||null===(i=a.shop)||void 0===i?void 0:i.name)||(null===(l=e.seller)||void 0===l?void 0:l.firstName)]})]})]})}),(0,Xt.jsx)("div",{className:"p-4 sm:p-6",children:(0,Xt.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 sm:justify-start",children:[(0,Xt.jsx)("button",{onClick:()=>{w(e),N(!0)},className:"bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl sm:rounded-2xl text-sm sm:text-base font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:"View Details"}),["Pending","Processing"].includes(e.status)&&(0,Xt.jsxs)("button",{onClick:()=>(e=>{["Pending","Processing"].includes(e.status)?(P(e),S(!0)):Bt.error(`Cannot cancel order with status: ${e.status}`)})(e),className:"bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl sm:rounded-2xl text-sm sm:text-base font-semibold flex items-center justify-center shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),"Delivered"===e.status&&(0,Xt.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Xd.downloadInvoice(e);t.success?Bt.success("Invoice downloaded successfully!"):Bt.error(t.message||"Failed to download invoice")}catch(t){console.error("Error downloading invoice:",t),Bt.error("Failed to download invoice")}})(e.orderNumber),className:"bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 text-slate-700 py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl sm:rounded-2xl text-sm sm:text-base font-semibold flex items-center justify-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:[(0,Xt.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,Xt.jsx)("span",{className:"hidden sm:inline",children:"Invoice"}),(0,Xt.jsx)("span",{className:"sm:hidden",children:"PDF"})]}),(0,Xt.jsxs)(nt,{to:`/user/shop/${null===(c=e.seller)||void 0===c?void 0:c._id}`,className:"bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 text-slate-700 py-3 sm:py-3.5 px-4 sm:px-6 rounded-xl sm:rounded-2xl text-sm sm:text-base font-semibold text-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:[(0,Xt.jsx)("span",{className:"hidden sm:inline",children:"Visit Shop"}),(0,Xt.jsx)("span",{className:"sm:hidden",children:"Shop"})]})]})})]},e._id)})),_.totalPages>1&&(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6 py-8 sm:py-12",children:[(0,Xt.jsx)("button",{onClick:()=>O(_.currentPage-1),disabled:1===_.currentPage,className:"sm:w-auto bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 disabled:from-slate-50 disabled:to-slate-100 text-slate-700 disabled:text-slate-400 px-6 py-3 rounded-xl text-sm sm:text-base font-semibold shadow-md hover:shadow-lg disabled:shadow-sm transform hover:-translate-y-0.5 disabled:transform-none transition-all duration-300 disabled:cursor-not-allowed active:scale-95",children:"\u2190 Previous"}),(0,Xt.jsx)("div",{className:"bg-white/80 backdrop-blur-sm px-4 py-2 rounded-xl shadow-md border border-white/50",children:(0,Xt.jsxs)("span",{className:"text-sm sm:text-base text-slate-700 font-semibold",children:["Page ",_.currentPage," of ",_.totalPages]})}),(0,Xt.jsx)("button",{onClick:()=>O(_.currentPage+1),disabled:_.currentPage===_.totalPages,className:"sm:w-auto bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 disabled:from-slate-50 disabled:to-slate-100 text-slate-700 disabled:text-slate-400 px-6 py-3 rounded-xl text-sm sm:text-base font-semibold shadow-md hover:shadow-lg disabled:shadow-sm transform hover:-translate-y-0.5 disabled:transform-none transition-all duration-300 disabled:cursor-not-allowed active:scale-95",children:"Next \u2192"})]})]}):(0,Xt.jsxs)("div",{className:"text-center py-16 sm:py-24",children:[(0,Xt.jsx)("div",{className:"mb-8",children:(0,Xt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6 bg-gradient-to-br from-slate-100 via-slate-200 to-slate-300 rounded-full flex items-center justify-center shadow-xl border-4 border-white",children:(0,Xt.jsx)("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})})}),(0,Xt.jsxs)("h3",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-slate-900 mb-3",children:["No ","All"===f?"":f.toLowerCase()," orders found"]}),(0,Xt.jsx)("p",{className:"text-slate-600 mb-8 text-sm sm:text-base max-w-md mx-auto leading-relaxed",children:"All"===f?"You haven't placed any orders yet. Start shopping to see your orders here!":`No orders with ${f.toLowerCase()} status at the moment.`}),"All"===f&&(0,Xt.jsxs)(nt,{to:"/user/dashboard",className:"inline-flex items-center justify-center bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white px-8 py-3 sm:px-10 sm:py-4 rounded-xl font-semibold text-sm sm:text-base shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Start Shopping"]})]})}),k&&E&&(0,Xt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>S(!1)}),(0,Xt.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-t-3xl sm:rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-white/50",children:[(0,Xt.jsx)("div",{className:"sticky top-0 bg-gradient-to-r from-red-50 to-rose-50 p-4 sm:p-6 border-b border-red-100 rounded-t-3xl",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-100 to-rose-200 rounded-xl flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),(0,Xt.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-red-700",children:"Cancel Order"})]}),(0,Xt.jsx)("button",{onClick:()=>S(!1),className:"p-2 hover:bg-red-100 rounded-xl transition-all duration-300 active:scale-95",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Xt.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,Xt.jsx)("div",{className:"bg-gradient-to-r from-red-50 via-red-100 to-rose-50 border border-red-200 rounded-2xl p-4",children:(0,Xt.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xt.jsx)("div",{className:"w-8 h-8 bg-red-200 rounded-xl flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,Xt.jsx)("svg",{className:"w-4 h-4 text-red-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.856-.833-2.598 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Xt.jsxs)("div",{className:"flex-1",children:[(0,Xt.jsx)("h4",{className:"font-bold text-red-800 text-sm sm:text-base",children:"Confirm Cancellation"}),(0,Xt.jsxs)("p",{className:"text-sm text-red-700 mt-1 leading-relaxed",children:["Are you sure you want to cancel order #",E.orderNumber,"? This action cannot be undone."]})]})]})}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("label",{className:"block text-sm sm:text-base font-semibold text-slate-700 mb-3",children:"Reason for cancellation (optional)"}),(0,Xt.jsxs)("select",{value:C,onChange:e=>L(e.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm sm:text-base transition-all duration-300",children:[(0,Xt.jsx)("option",{value:"",children:"Select a reason..."}),["Changed my mind","Found a better price elsewhere","Ordered by mistake","Delivery taking too long","Product no longer needed","Financial reasons","Other"].map(((e,t)=>(0,Xt.jsx)("option",{value:e,children:e},t)))]}),"Other"===C&&(0,Xt.jsx)("textarea",{placeholder:"Please specify your reason...",value:"Other"===C?"":C,onChange:e=>L(e.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-xl bg-white/80 backdrop-blur-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 mt-3 text-sm sm:text-base transition-all duration-300",rows:"3"})]}),(0,Xt.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 pt-4",children:[(0,Xt.jsx)("button",{onClick:()=>S(!1),className:"flex-1 bg-gradient-to-r from-slate-100 to-slate-200 hover:from-slate-200 hover:to-slate-300 text-slate-700 py-3 sm:py-3.5 px-6 rounded-xl font-semibold text-sm sm:text-base shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-300 active:scale-95",children:"Keep Order"}),(0,Xt.jsx)("button",{onClick:()=>{var e;E&&v?(console.log("\ud83c\udfaf Sending cancel order request:",{orderId:E._id,reason:C}),null===(e=jm.socket)||void 0===e||e.emit("cancel-order",{orderId:E._id,reason:C||"No reason provided"}),Bt.info("Cancelling order...")):Bt.error("Unable to cancel order. Please try again.")},disabled:!v,className:"flex-1 bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 disabled:from-red-300 disabled:to-rose-300 text-white py-3 sm:py-3.5 px-6 rounded-xl font-semibold text-sm sm:text-base shadow-lg hover:shadow-xl disabled:shadow-md transform hover:-translate-y-0.5 disabled:transform-none transition-all duration-300 disabled:cursor-not-allowed active:scale-95",children:v?"Cancel Order":"Connecting..."})]})]})]})]}),j&&y&&(0,Xt.jsxs)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-4",children:[(0,Xt.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>N(!1)}),(0,Xt.jsxs)("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-t-3xl sm:rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl border border-white/50",children:[(0,Xt.jsx)("div",{className:"sticky top-0 bg-gradient-to-r from-orange-50 to-amber-50 p-4 sm:p-6 border-b border-orange-100 rounded-t-3xl",children:(0,Xt.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xt.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Xt.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-100 to-amber-200 rounded-xl flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Xt.jsx)("h3",{className:"text-lg sm:text-xl font-bold text-orange-700",children:"Order Details"})]}),(0,Xt.jsx)("button",{onClick:()=>N(!1),className:"p-2 hover:bg-orange-100 rounded-xl transition-all duration-300 active:scale-95",children:(0,Xt.jsx)("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Xt.jsxs)("div",{className:"p-4 sm:p-6 space-y-6",children:[(0,Xt.jsxs)("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded-2xl p-4",children:[(0,Xt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm sm:text-base",children:"Order Information"}),(0,Xt.jsxs)("div",{className:"space-y-3 text-xs sm:text-sm",children:[(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600",children:"Order Number:"}),(0,Xt.jsx)("span",{className:"font-bold text-slate-900 bg-white px-2 py-1 rounded-lg shadow-sm",children:y.orderNumber})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600",children:"Status:"}),(0,Xt.jsxs)("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold ${R(y.status)}`,children:[A(y.status)," ",y.status]})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600",children:"Order Date:"}),(0,Xt.jsx)("span",{className:"font-semibold text-slate-900",children:D(y.createdAt)})]}),(0,Xt.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xt.jsx)("span",{className:"text-slate-600",children:"Total Amount:"}),(0,Xt.jsxs)("span",{className:"font-bold text-orange-600 text-sm sm:text-base",children:["\u20b9",y.totalPrice]})]})]})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h4",{className:"font-bold text-slate-900 mb-4 text-sm sm:text-base",children:"Items Ordered"}),(0,Xt.jsx)("div",{className:"space-y-3",children:null===(t=y.orderItems)||void 0===t?void 0:t.map(((e,t)=>(0,Xt.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-slate-50 to-slate-100 rounded-xl border border-white/50",children:[(0,Xt.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-slate-200 to-slate-300 rounded-xl overflow-hidden shadow-md border border-white/50 flex-shrink-0",children:e.image?(0,Xt.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):(0,Xt.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,Xt.jsx)("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,Xt.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xt.jsx)("p",{className:"font-semibold text-slate-900 text-sm truncate",children:e.name}),(0,Xt.jsxs)("p",{className:"text-xs text-slate-600",children:["Qty: ",e.quantity," | Size: ",e.size," | Color: ",e.color]}),(0,Xt.jsxs)("p",{className:"text-sm font-bold text-slate-900",children:["\u20b9",e.price]})]})]},t)))})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("h4",{className:"font-bold text-slate-900 mb-3 text-sm sm:text-base",children:"Shipping Address"}),(0,Xt.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 text-xs sm:text-sm",children:[(0,Xt.jsx)("p",{className:"font-semibold text-slate-900",children:null===(r=y.shippingAddress)||void 0===r?void 0:r.address}),(0,Xt.jsxs)("p",{className:"text-slate-700",children:[null===(n=y.shippingAddress)||void 0===n?void 0:n.city,", ",null===(o=y.shippingAddress)||void 0===o?void 0:o.postalCode]}),(0,Xt.jsx)("p",{className:"text-slate-700",children:null===(a=y.shippingAddress)||void 0===a?void 0:a.country}),(0,Xt.jsxs)("p",{className:"mt-2 text-slate-600 font-medium",children:["Phone: ",null===(i=y.shippingAddress)||void 0===i?void 0:i.phone]})]})]})]})]})]})]})}):(0,Xt.jsx)(Jm,{children:(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:(0,Xt.jsx)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:(0,Xt.jsxs)("div",{className:"text-center py-16 sm:py-20",children:[(0,Xt.jsx)("div",{className:"mb-8",children:(0,Xt.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6 bg-gradient-to-br from-orange-100 via-orange-200 to-amber-200 rounded-full flex items-center justify-center shadow-xl border-4 border-white",children:(0,Xt.jsx)("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),(0,Xt.jsx)("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-slate-800 via-slate-700 to-slate-600 bg-clip-text text-transparent mb-4",children:"Authentication Required"}),(0,Xt.jsx)("p",{className:"text-slate-600 mb-8 text-sm sm:text-base max-w-md mx-auto leading-relaxed",children:"Please sign in to access your order history and track your purchases."}),(0,Xt.jsxs)(nt,{to:"/user/login",className:"inline-flex items-center justify-center bg-gradient-to-r from-orange-500 via-orange-600 to-amber-500 hover:from-orange-600 hover:via-orange-700 hover:to-amber-600 text-white px-8 py-3 sm:px-10 sm:py-4 rounded-xl font-semibold text-sm sm:text-base shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300",children:[(0,Xt.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Xt.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In to Continue"]})]})})})})},Wf=()=>{var e;const{userAuth:t}=(0,s.useContext)(er),[r,n]=(0,s.useState)({}),[o,a]=(0,s.useState)([]),[i,l]=(0,s.useState)({orderNumber:"ORD-"+Date.now(),status:"Pending",totalPrice:1299});(0,s.useEffect)((()=>{const e=setInterval((()=>{const e=jm.getConnectionStatus();n(e)}),2e3);return()=>clearInterval(e)}),[]);const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const r={id:Date.now(),message:e,type:t,timestamp:(new Date).toLocaleTimeString()};a((e=>[r,...e].slice(0,20)))},d=e=>{switch(e){case"success":return"text-green-600";case"error":return"text-red-600";case"warning":return"text-yellow-600";default:return"text-blue-600"}};return(0,Xt.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg",children:[(0,Xt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Socket.IO Test Dashboard"}),(0,Xt.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Connection Status"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Xt.jsxs)("div",{className:"text-sm",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Connected:"}),(0,Xt.jsx)("span",{className:"ml-2 "+(r.isConnected?"text-green-600":"text-red-600"),children:r.isConnected?"\u2705 Yes":"\u274c No"})]}),(0,Xt.jsxs)("div",{className:"text-sm",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Socket ID:"}),(0,Xt.jsx)("span",{className:"ml-2 font-mono text-xs",children:r.socketId||"None"})]}),(0,Xt.jsxs)("div",{className:"text-sm",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"User Type:"}),(0,Xt.jsx)("span",{className:"ml-2",children:r.userType||"None"})]}),(0,Xt.jsxs)("div",{className:"text-sm",children:[(0,Xt.jsx)("span",{className:"font-medium",children:"User ID:"}),(0,Xt.jsx)("span",{className:"ml-2 font-mono text-xs",children:r.userId||"None"})]})]})]}),(0,Xt.jsxs)("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,Xt.jsx)("button",{onClick:()=>{try{if(jm.connect()){c("\u2705 Socket connection initiated","success");const e=jm.autoConnect();e&&c(`\ud83d\udd04 Auto-connected as ${e.type}`,"info")}else c("\u274c Failed to create socket connection","error")}catch(e){c(`\u274c Socket connection error: ${e.message}`,"error")}},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Connect Socket"}),(0,Xt.jsx)("button",{onClick:()=>{jm.disconnect(),c("\ud83d\udd0c Socket disconnected","warning")},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Disconnect"}),(0,Xt.jsx)("button",{onClick:()=>{var e;if(null!==(e=t.user)&&void 0!==e&&e._id){jm.joinBuyerRoom(t.user._id)?c(`\ud83d\udc64 Joined buyer room: ${t.user._id}`,"success"):c("\u274c Failed to join buyer room","error")}else c("\u274c No user ID available","error")},className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium",disabled:!(null!==(e=t.user)&&void 0!==e&&e._id),children:"Join Buyer Room"}),(0,Xt.jsx)("button",{onClick:()=>{jm.onOrderUpdate((e=>{var t,r;c(`\ud83d\udd14 Order update received: ${null===(t=e.data)||void 0===t?void 0:t.orderNumber} - ${null===(r=e.data)||void 0===r?void 0:r.status}`,"success")})),c("\ud83d\udc42 Order update listener set up","info")},className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Setup Listener"}),(0,Xt.jsx)("button",{onClick:()=>{if(jm.socket){const e={...i,status:["Pending","Processing","Shipped","Delivered"][Math.floor(4*Math.random())],orderNumber:"ORD-"+Date.now()};jm.socket.emit("test-order-update",e),c(`\ud83d\udce6 Sent test order update: ${e.orderNumber} - ${e.status}`,"info"),l(e)}else c("\u274c Socket not connected","error")},className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Test Order Update"}),(0,Xt.jsx)("button",{onClick:()=>{jm.ping()?c("\ud83c\udfd3 Ping sent to server","info"):c("\u274c Failed to ping server","error")},className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Ping Server"}),(0,Xt.jsx)("button",{onClick:()=>{a([])},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Clear Log"})]}),(0,Xt.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Authentication Info"}),(0,Xt.jsxs)("div",{className:"text-sm space-y-2",children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"Authenticated:"}),(0,Xt.jsx)("span",{className:"ml-2 "+(t.isAuthenticated?"text-green-600":"text-red-600"),children:t.isAuthenticated?"\u2705 Yes":"\u274c No"})]}),t.user&&(0,Xt.jsxs)(Xt.Fragment,{children:[(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"User Name:"}),(0,Xt.jsx)("span",{className:"ml-2",children:t.user.name})]}),(0,Xt.jsxs)("div",{children:[(0,Xt.jsx)("span",{className:"font-medium",children:"User ID:"}),(0,Xt.jsx)("span",{className:"ml-2 font-mono text-xs",children:t.user._id})]})]})]})]}),(0,Xt.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Activity Log"}),(0,Xt.jsx)("div",{className:"max-h-96 overflow-y-auto space-y-2",children:0===o.length?(0,Xt.jsx)("p",{className:"text-gray-500 text-sm",children:"No messages yet. Try connecting to the socket..."}):o.map((e=>(0,Xt.jsxs)("div",{className:"flex items-start space-x-3 text-sm",children:[(0,Xt.jsx)("span",{className:"text-gray-400 font-mono text-xs whitespace-nowrap",children:e.timestamp}),(0,Xt.jsx)("span",{className:d(e.type),children:e.message})]},e.id)))})]}),(0,Xt.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[(0,Xt.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"Testing Instructions"}),(0,Xt.jsxs)("ol",{className:"text-sm space-y-2 list-decimal list-inside",children:[(0,Xt.jsx)("li",{children:'Click "Connect Socket" to establish connection'}),(0,Xt.jsx)("li",{children:'Click "Join Buyer Room" to join the buyer notification room'}),(0,Xt.jsx)("li",{children:'Click "Setup Listener" to listen for order updates'}),(0,Xt.jsx)("li",{children:'Click "Test Order Update" to simulate receiving an order status update'}),(0,Xt.jsx)("li",{children:"Check the activity log for real-time updates"}),(0,Xt.jsx)("li",{children:'Use "Ping Server" to test connection health'})]})]})]})},Vf=()=>(0,Xt.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,Xt.jsxs)("div",{className:"text-center text-white p-8",children:[(0,Xt.jsx)("h1",{className:"text-6xl font-bold mb-6",children:"ZAMMER"}),(0,Xt.jsx)("p",{className:"text-xl mb-8",children:"Your Complete Online Marketplace"}),(0,Xt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto",children:[(0,Xt.jsx)("a",{href:"/user/login",className:"bg-white text-blue-600 px-6 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors block",children:"User Login"}),(0,Xt.jsx)("a",{href:"/seller/login",className:"bg-transparent border-2 border-white text-white px-6 py-4 rounded-lg font-semibold hover:bg-white hover:text-blue-600 transition-colors block",children:"Seller Login"}),(0,Xt.jsx)("a",{href:"/admin/login",className:"bg-yellow-500 text-black px-6 py-4 rounded-lg font-semibold hover:bg-yellow-400 transition-colors block",children:"Admin Login"})]}),(0,Xt.jsxs)("div",{className:"mt-8 text-sm opacity-80",children:[(0,Xt.jsx)("p",{children:"Backend API: Running"}),(0,Xt.jsx)("p",{children:"Database: Connected"}),(0,Xt.jsx)("p",{children:"Real-time: Active"})]})]})}),Hf=(e,t)=>{console.error("Route Error:",e),console.error("Error Info:",t)};const qf=function(){return(0,Xt.jsx)(rt,{children:(0,Xt.jsx)(tr,{children:(0,Xt.jsx)(sr,{onError:Hf,children:(0,Xt.jsxs)("div",{className:"App",children:[(0,Xt.jsx)(Zt,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,Xt.jsxs)(we,{children:[(0,Xt.jsx)(be,{path:"/",element:(0,Xt.jsx)(Vf,{})}),(0,Xt.jsx)(be,{path:"/admin/login",element:(0,Xt.jsx)(Sn,{})}),(0,Xt.jsx)(be,{path:"/admin/dashboard",element:(0,Xt.jsx)(Ln,{})}),(0,Xt.jsx)(be,{path:"/admin/sellers",element:(0,Xt.jsx)(En,{})}),(0,Xt.jsx)(be,{path:"/admin/sellers/:id",element:(0,Xt.jsx)(Pn,{})}),(0,Xt.jsx)(be,{path:"/admin/users",element:(0,Xt.jsx)(_n,{})}),(0,Xt.jsx)(be,{path:"/admin/users/:id",element:(0,Xt.jsx)(Mn,{})}),(0,Xt.jsx)(be,{path:"/seller/login",element:(0,Xt.jsx)(Ld,{})}),(0,Xt.jsx)(be,{path:"/seller/register",element:(0,Xt.jsx)(Md,{})}),(0,Xt.jsx)(be,{path:"/seller/forgot-password",element:(0,Xt.jsx)(Td,{})}),(0,Xt.jsx)(be,{path:"/seller/reset-password/:token",element:(0,Xt.jsx)(Ad,{})}),(0,Xt.jsx)(be,{path:"/seller/dashboard",element:(0,Xt.jsx)(Nm,{})}),(0,Xt.jsx)(be,{path:"/seller/add-product",element:(0,Xt.jsx)(Pm,{})}),(0,Xt.jsx)(be,{path:"/seller/edit-product/:id",element:(0,Xt.jsx)(Rm,{})}),(0,Xt.jsx)(be,{path:"/seller/view-products",element:(0,Xt.jsx)(Bm,{})}),(0,Xt.jsx)(be,{path:"/seller/edit-profile",element:(0,Xt.jsx)($m,{})}),(0,Xt.jsx)(be,{path:"/seller/orders",element:(0,Xt.jsx)(Wm,{})}),(0,Xt.jsx)(be,{path:"/seller/products/add",element:(0,Xt.jsx)(ve,{replace:!0,to:"/seller/add-product"})}),(0,Xt.jsx)(be,{path:"/seller/products/edit/:id",element:(0,Xt.jsx)(ve,{replace:!0,to:"/seller/edit-product/:id"})}),(0,Xt.jsx)(be,{path:"/seller/products",element:(0,Xt.jsx)(ve,{replace:!0,to:"/seller/view-products"})}),(0,Xt.jsx)(be,{path:"/seller/profile",element:(0,Xt.jsx)(ve,{replace:!0,to:"/seller/edit-profile"})}),(0,Xt.jsx)(be,{path:"/user/login",element:(0,Xt.jsx)(Gm,{})}),(0,Xt.jsx)(be,{path:"/user/register",element:(0,Xt.jsx)(Zm,{})}),(0,Xt.jsx)(be,{path:"/user/forgot-password",element:(0,Xt.jsx)(Qm,{})}),(0,Xt.jsx)(be,{path:"/user/reset-password/:token",element:(0,Xt.jsx)(Xm,{})}),(0,Xt.jsx)(be,{path:"/user/dashboard",element:(0,Xt.jsx)(ah,{})}),(0,Xt.jsx)(be,{path:"/user/home",element:(0,Xt.jsx)(eh,{})}),(0,Xt.jsx)(be,{path:"/user/offers",element:(0,Xt.jsx)(uh,{})}),(0,Xt.jsx)(be,{path:"/user/categories/:category",element:(0,Xt.jsx)(hh,{})}),(0,Xt.jsx)(be,{path:"/user/products",element:(0,Xt.jsx)(gh,{})}),(0,Xt.jsx)(be,{path:"/user/product/:productId",element:(0,Xt.jsx)(fh,{})}),(0,Xt.jsx)(be,{path:"/user/shop/:shopId",element:(0,Xt.jsx)(xh,{})}),(0,Xt.jsx)(be,{path:"/user/shop",element:(0,Xt.jsx)(Tf,{})}),(0,Xt.jsx)(be,{path:"/user/nearby-shops",element:(0,Xt.jsx)(Of,{})}),(0,Xt.jsx)(be,{path:"/user/cart",element:(0,Xt.jsx)(Af,{})}),(0,Xt.jsx)(be,{path:"/user/checkout",element:(0,Xt.jsx)(Rf,{})}),(0,Xt.jsx)(be,{path:"/user/payment",element:(0,Xt.jsx)(Df,{})}),(0,Xt.jsx)(be,{path:"/user/wishlist",element:(0,Xt.jsx)(If,{})}),(0,Xt.jsx)(be,{path:"/user/trending",element:(0,Xt.jsx)(zf,{})}),(0,Xt.jsx)(be,{path:"/user/limited-edition",element:(0,Xt.jsx)(Ff,{})}),(0,Xt.jsx)(be,{path:"/user/order-confirmation",element:(0,Xt.jsx)(Bf,{})}),(0,Xt.jsx)(be,{path:"/user/profile",element:(0,Xt.jsx)(Uf,{})}),(0,Xt.jsx)(be,{path:"/user/orders",element:(0,Xt.jsx)($f,{})}),(0,Xt.jsx)(be,{path:"/user/my-orders",element:(0,Xt.jsx)($f,{})}),(0,Xt.jsx)(be,{path:"/test-socket",element:(0,Xt.jsx)(Wf,{})}),(0,Xt.jsx)(be,{path:"/test-places",element:(0,Xt.jsx)(nr,{})}),(0,Xt.jsx)(be,{path:"*",element:(0,Xt.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Xt.jsxs)("div",{className:"text-center",children:[(0,Xt.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404 - Page Not Found"}),(0,Xt.jsx)("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),(0,Xt.jsxs)("div",{className:"space-x-4",children:[(0,Xt.jsx)("a",{href:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Home"}),(0,Xt.jsx)("a",{href:"/user/login",className:"bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 transition-colors",children:"User Login"})]})]})})})]})]})})})})},Gf=e=>{e&&e instanceof Function&&r.e(206).then(r.bind(r,206)).then((t=>{let{getCLS:r,getFID:s,getFCP:n,getLCP:o,getTTFB:a}=t;r(e),s(e),n(e),o(e),a(e)}))};n.createRoot(document.getElementById("root")).render((0,Xt.jsx)(s.StrictMode,{children:(0,Xt.jsx)(qf,{})})),Gf()})()})();